# CiviCRM 5.6.0

Released October 3, 2018

- **[Synopsis](#synopsis)**
- **[Features](#features)**
- **[Bugs resolved](#bugs)**
- **[Miscellany](#misc)**
- **[Credits](#credits)**
- **[Feedback](#feedback)**

## <a name="synopsis"></a>Synopsis

| *Does this version...?*                                         |         |
|:--------------------------------------------------------------- |:-------:|
| Fix security vulnerabilities?                                   |         |
| Change the database schema?                                     |         |
| Alter the API?                                                  |         |
| Require attention to configuration options?                     |         |
| Fix problems installing or upgrading to a previous version?     |         |
| Introduce features?                                             |         |
| Fix bugs?                                                       |         |

## <a name="features"></a>Features

### CiviReport

- **[CRM-21677](https://issues.civicrm.org/jira/browse/CRM-21677) Report improvements ([12703](https://github.com/civicrm/civicrm-core/pull/12703) and [12698](https://github.com/civicrm/civicrm-core/pull/12698))**

## <a name="bugs"></a>Bugs resolved

### Core CiviCRM

- **Handle smart groups created in previous Civis which include relation_permission ([12804](https://github.com/civicrm/civicrm-core/pull/12804))**

- **5.5 ([12801](https://github.com/civicrm/civicrm-core/pull/12801))**

- **5.5 ([12792](https://github.com/civicrm/civicrm-core/pull/12792))**

- **5.5 ([12783](https://github.com/civicrm/civicrm-core/pull/12783))**

- **5.5 to master ([12760](https://github.com/civicrm/civicrm-core/pull/12760))**

- **5.5 to master ([12759](https://github.com/civicrm/civicrm-core/pull/12759))**

- **Deduplicate setting of mailSent message ([12694](https://github.com/civicrm/civicrm-core/pull/12694))**

- **dev/core#346 - Online Pay Now error when used from dashboard checksum… ([12745](https://github.com/civicrm/civicrm-core/pull/12745))**

- **Show ext version status even when directory not writeable ([12757](https://github.com/civicrm/civicrm-core/pull/12757))**

- **5.5 ([12752](https://github.com/civicrm/civicrm-core/pull/12752))**

- **Setting form - function extraction ([12744](https://github.com/civicrm/civicrm-core/pull/12744))**

- **Fix compatibility problem with CRM_Extendedreport_Form_Report_ExtendedReport ([12749](https://github.com/civicrm/civicrm-core/pull/12749))**

- **Upgrading multilingual site causes DB Error ([12636](https://github.com/civicrm/civicrm-core/pull/12636))**

- **Towards rationalising settings form & preferences form (partial of 12731) ([12732](https://github.com/civicrm/civicrm-core/pull/12732))**

- **5.5 to master ([12743](https://github.com/civicrm/civicrm-core/pull/12743))**

- **Improve styling of address block on summary screen ([12723](https://github.com/civicrm/civicrm-core/pull/12723))**

- **Foreign key for civicrm_custom_field.option_group_id ([12706](https://github.com/civicrm/civicrm-core/pull/12706))**

- **Remove mcrypt warning except for affected sites. ([12733](https://github.com/civicrm/civicrm-core/pull/12733))**

- **dev/core#367: Query optimization for A-Z pager by adding indices to t… ([12740](https://github.com/civicrm/civicrm-core/pull/12740))**

- **Fixed fatal error 'DB Error: no such field' on Contribution detail re… ([12660](https://github.com/civicrm/civicrm-core/pull/12660))**

- **dev/core#343 Fix long address lines overflowing label ([12691](https://github.com/civicrm/civicrm-core/pull/12691))**

- **dev/mail#20 : Preview screen doesn't open until recipients list is built on mail compose screen ([12509](https://github.com/civicrm/civicrm-core/pull/12509))**

- **dev/core#299 Fix mishandling of non decimal currency on update payment details form ([12684](https://github.com/civicrm/civicrm-core/pull/12684))**

- **Enable custom data display on MembershipType form ([12738](https://github.com/civicrm/civicrm-core/pull/12738))**

- **dev/core#351 - Fix $.crmSnippet error with no url args ([12735](https://github.com/civicrm/civicrm-core/pull/12735))**

- **dev/core#352 Ensure that contacts that are to be exluded are not adde… ([12712](https://github.com/civicrm/civicrm-core/pull/12712))**

- **dev/core#349 correct default sort for scheduled reminders list ([12701](https://github.com/civicrm/civicrm-core/pull/12701))**

- **dev/translation#14 Fix InnoDB Advanced Logging ([12667](https://github.com/civicrm/civicrm-core/pull/12667))**

- **Fix recent item deduping & call hooks ([12704](https://github.com/civicrm/civicrm-core/pull/12704))**

- **Remove net_amount from the Back office contribution form. ([12662](https://github.com/civicrm/civicrm-core/pull/12662))**

- **Fix Undefined index: params in CRM_Event_BAO_Event::buildCustomProfile() ([12678](https://github.com/civicrm/civicrm-core/pull/12678))**

- **BASW-240: 'Network Error' when creating membership type from contact membership tab ([12700](https://github.com/civicrm/civicrm-core/pull/12700))**

- **dev/mail#21 trim test emails ([12599](https://github.com/civicrm/civicrm-core/pull/12599))**

- **dev/core#334 Fix Contribution Page with Checksum and multiple Payment Processors ([12679](https://github.com/civicrm/civicrm-core/pull/12679))**

- **Get title for event tell a friend mail ([12699](https://github.com/civicrm/civicrm-core/pull/12699))**

- **Wrap long labels onto multiple lines to prevent text being cut off ([12716](https://github.com/civicrm/civicrm-core/pull/12716))**

- **dev/core#297 : fix broken permission 'access my cases and activities' ([12613](https://github.com/civicrm/civicrm-core/pull/12613))**

- **Corrected tag_id parameter description to refer cases ([12726](https://github.com/civicrm/civicrm-core/pull/12726))**

- **Added Pseudoconstant for phone and website type ([12727](https://github.com/civicrm/civicrm-core/pull/12727))**

- **5.5 ([12725](https://github.com/civicrm/civicrm-core/pull/12725))**

- **(NFC) Fix incorrect reference of doTransferCheckout() in comments ([12720](https://github.com/civicrm/civicrm-core/pull/12720))**

- **Fix ReportInstance BAO to call post hook after save (instead of calling pre twice). ([12722](https://github.com/civicrm/civicrm-core/pull/12722))**

- **Contact summary - adjust block width when editing ([12708](https://github.com/civicrm/civicrm-core/pull/12708))**

- **Minor comment and typo cleanup ([12715](https://github.com/civicrm/civicrm-core/pull/12715))**

- **Added Pseudoconstant tag for visibility ([12705](https://github.com/civicrm/civicrm-core/pull/12705))**

- **Navigation - Don't reprocess fully-formed urls ([12702](https://github.com/civicrm/civicrm-core/pull/12702))**

- **dev/joomla#2 Joomla on Windows cli.php & cron.php fail due to incorrect path ([12692](https://github.com/civicrm/civicrm-core/pull/12692))**

- **NFC cleanup to Membership/Renewal form classes. ([12696](https://github.com/civicrm/civicrm-core/pull/12696))**

- **Use static cache for UFMatch lookups to improve performance ([12628](https://github.com/civicrm/civicrm-core/pull/12628))**

- **Add test for new rounded money format functions ([12689](https://github.com/civicrm/civicrm-core/pull/12689))**

- **dev/core/#119 Fix mishandling of non decimal currency on additional payment form. ([12626](https://github.com/civicrm/civicrm-core/pull/12626))**

- **dev/core#341 sybunt custom search date field fix ([12686](https://github.com/civicrm/civicrm-core/pull/12686))**

- **dev/core/issues/322 - fix JS error on contribution page, completing form… ([12652](https://github.com/civicrm/civicrm-core/pull/12652))**

- **Code cleanup on Membership form when freezing fields in a recurring exists situation ([12642](https://github.com/civicrm/civicrm-core/pull/12642))**

- **Replicate fix on PR #12643 for pledge report ([12685](https://github.com/civicrm/civicrm-core/pull/12685))**

- **(dev/core#217) PrevNext - Remove references to entity_table and entity_id2 from service. Add test. ([12664](https://github.com/civicrm/civicrm-core/pull/12664))**

- **5.5 ([12683](https://github.com/civicrm/civicrm-core/pull/12683))**

- **NFC Add/update two comments ([12680](https://github.com/civicrm/civicrm-core/pull/12680))**

- ** Ensure users with the perm "CiviEvent: access CiviEvent " can edit events they have created. ([12424](https://github.com/civicrm/civicrm-core/pull/12424))**

- **(dev/core#217) PrevNext - Use more consistent cache-keys while adjusting filters ([12663](https://github.com/civicrm/civicrm-core/pull/12663))**

- **5.5 to master ([12677](https://github.com/civicrm/civicrm-core/pull/12677))**

- **5.5 to master ([12676](https://github.com/civicrm/civicrm-core/pull/12676))**

- **don't add query to developer tab if we are downloading the data ([12666](https://github.com/civicrm/civicrm-core/pull/12666))**

- **Fixed fatal error when Gender is selected in column ([12661](https://github.com/civicrm/civicrm-core/pull/12661))**

- **Add SQL modes to developer tab ([12656](https://github.com/civicrm/civicrm-core/pull/12656))**

- **Export minor refactor Move household relationship types to the processor ([12579](https://github.com/civicrm/civicrm-core/pull/12579))**

- **[NFC] Minor function extraction in report class. ([12658](https://github.com/civicrm/civicrm-core/pull/12658))**

- **5.5 ([12657](https://github.com/civicrm/civicrm-core/pull/12657))**

- **GL-44 admin price field options on event info page ([11923](https://github.com/civicrm/civicrm-core/pull/11923))**

- **filter current employer report by all groups ([12643](https://github.com/civicrm/civicrm-core/pull/12643))**

- **Drop custom CSS for Joomla CiviCRM menu so it works with shoreditch theme ([12632](https://github.com/civicrm/civicrm-core/pull/12632))**

- **dev/core#237 : Hide Drupal8 Administer Menu bar on CiviCRM pages and move navigation js hacks to respective CMS js ([12463](https://github.com/civicrm/civicrm-core/pull/12463))**

- **[phpunit test only] - Add one additional data integrity check to ensure that after Edit Fin… ([12645](https://github.com/civicrm/civicrm-core/pull/12645))**

- **5.5 to master ([12648](https://github.com/civicrm/civicrm-core/pull/12648))**

- **Fix CRM_ACL_API::whereClause to respect $contactId param ([12576](https://github.com/civicrm/civicrm-core/pull/12576))**

- **5.5 to master ([12644](https://github.com/civicrm/civicrm-core/pull/12644))**

- **dev/accessibility#10 : Moved datepicker widget to a separate file ([12631](https://github.com/civicrm/civicrm-core/pull/12631))**

- **dev/core#295 - Allow default 'from' email to be  set in New email form ([12603](https://github.com/civicrm/civicrm-core/pull/12603))**

- **Minor refactor, use sales tax trait to simplify sales tax functions ([12594](https://github.com/civicrm/civicrm-core/pull/12594))**

- **Upgrade symfony in lockfile to be 2.8 which is supported version of 2… ([12633](https://github.com/civicrm/civicrm-core/pull/12633))**

- **Make contact name into a link on Manage Case for single client ([12619](https://github.com/civicrm/civicrm-core/pull/12619))**

- **[NFC] comment fixes relating to doc blocks, spelling ([12630](https://github.com/civicrm/civicrm-core/pull/12630))**

- **Follow up on #12611 - adding in three data-integrity assertions. ([12629](https://github.com/civicrm/civicrm-core/pull/12629))**

- **Use cached version of payment processor. ([12627](https://github.com/civicrm/civicrm-core/pull/12627))**

- **Activity display, switch to more performance getActivities function (from deprecatedGetActivities) ([12559](https://github.com/civicrm/civicrm-core/pull/12559))**

- **dev/core#245 Fix duplicate activities showing on case activities tab when they have multiple target/assignee contacts ([12444](https://github.com/civicrm/civicrm-core/pull/12444))**

- **Bump recommended php version to 7.1 and min recommended to 7.0 ([12625](https://github.com/civicrm/civicrm-core/pull/12625))**

- **Don't duplicate activity when filing on case ([12620](https://github.com/civicrm/civicrm-core/pull/12620))**

- **Make sure Joomla timezone is set for cron jobs ([12609](https://github.com/civicrm/civicrm-core/pull/12609))**

- **[PHPUnit test only] Adding in assertions re: Line Item and Contribution data-integrity. ([12611](https://github.com/civicrm/civicrm-core/pull/12611))**

- **Further removal of instance of using LOWER() rather than relying on mysql non-case-sensitivity. ([12612](https://github.com/civicrm/civicrm-core/pull/12612))**

- **Remove unused variables from process_participants job ([12621](https://github.com/civicrm/civicrm-core/pull/12621))**

- **Stop passing imProviders & phoneTypes - use CRM_Core_PseudoConstant:getLabel ([12608](https://github.com/civicrm/civicrm-core/pull/12608))**

- **pass mailingJobId to hook_tokenValues ([12026](https://github.com/civicrm/civicrm-core/pull/12026))**

- **Fix teeny typo ([12618](https://github.com/civicrm/civicrm-core/pull/12618))**

- **5.5 ([12617](https://github.com/civicrm/civicrm-core/pull/12617))**

- **API : Set current domain as a sensible default for payment processor ([12595](https://github.com/civicrm/civicrm-core/pull/12595))**

- **Drupal Views CiviCRM: Allow Participant record to be used from Event. ([539](https://github.com/civicrm/civicrm-drupal/pull/539))**

- **5.5 to master ([226](https://github.com/civicrm/civicrm-packages/pull/226))**

## <a name="misc"></a>Miscellany

## <a name="credits"></a>Credits

This release was developed by the following code authors:

AGH Strategies - Alice Frumin, Andrew Hunt; Andrew Thompson; Australian Greens - Seamus Lee; calbasi; Chris Burgess; chriscant; Circle Interactive - Dave Jenkins; CiviCoop - Klaas Eikelboom; CiviCRM - Coleman Watts, Tim Otten; CiviDesk - Yashodha Chaku; CiviFirst - John Kirk; CompuCorp - Vinu Varshith Sekar; Coop SymbioTIC - Mathieu Lutfy; Fuzion - Jitendra Purohit; JMA Consulting - Monish Deb; John Kingsnorth; Joinery - Allen Shaw; kewljuice; Lemniscus - Noah Miller; Lighthouse Design and Consulting - Brian Shaughnessy; Megaphone Technology Consulting - Jon Goldberg; MillerTech - Chamil Wijesooriya; MJW Consulting - Matthew Wire; Pradeep Nayak; Progressive Technology Project - Jamie McClelland; Richard van Oosterhout; selwyntcy; Semper IT - Karin Gerritsen; Third Sector Design - Michael McAndrew; Wikimedia Foundation - Eileen McNaughton

Most authors also reviewed code for this release; in addition, the following
reviewers contributed their comments:

AGH Strategies - Alice Frumin; Agileware - Justin Freeman; Andrew Thompson; Australian Greens - Seamus Lee; calbasi; Circle Interactive - Dave Jenkins; civibot[bot]; civicrm-builder; CiviCRM - Coleman Watts, Tim Otten; CiviDesk - Yashodha Chaku; CiviFirst - John Kirk; Coop SymbioTIC - Mathieu Lutfy; Fuzion - Jitendra Purohit, Peter Davis; JMA Consulting - Joe Murray, Monish Deb; Joinery - Allen Shaw; Lighthouse Design and Consulting - Brian Shaughnessy; Megaphone Technology Consulting - Jon Goldberg; MillerTech - Chamil Wijesooriya; MJW Consulting - Matthew Wire; Oxfam Germany - Thomas Schüttler; Pradeep Nayak; Richard van Oosterhout; Semper IT - Karin Gerritsen; sleewok; Squiffle Consulting - Aidan Saunders; Third Sector Design - Michael McAndrew; Wikimedia Foundation - Eileen McNaughton

## <a name="feedback"></a>Feedback

These release notes are edited by Alice Frumin and Andrew Hunt.  If you'd like
to provide feedback on them, please log in to https://chat.civicrm.org/civicrm
and contact `@agh1`.
