-- +--------------------------------------------------------------------+
-- | CiviCRM version 4.7                                                |
-- +--------------------------------------------------------------------+
-- | Copyright CiviCRM LLC (c) 2004-2016                                |
-- +--------------------------------------------------------------------+
-- | This file is a part of CiviCRM.                                    |
-- |                                                                    |
-- | CiviCRM is free software; you can copy, modify, and distribute it  |
-- | under the terms of the GNU Affero General Public License           |
-- | Version 3, 19 November 2007 and the CiviCRM Licensing Exception.   |
-- |                                                                    |
-- | CiviCRM is distributed in the hope that it will be useful, but     |
-- | WITHOUT ANY WARRANTY; without even the implied warranty of         |
-- | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.               |
-- | See the GNU Affero General Public License for more details.        |
-- |                                                                    |
-- | You should have received a copy of the GNU Affero General Public   |
-- | License and the CiviCRM Licensing Exception along                  |
-- | with this program; if not, contact CiviCRM LLC                     |
-- | at info[AT]civicrm[DOT]org. If you have questions about the        |
-- | GNU Affero General Public License or the licensing of CiviCRM,     |
-- | see the CiviCRM license FAQ at http://civicrm.org/licensing        |
-- +--------------------------------------------------------------------+
--
-- Generated from schema.tpl
-- DO NOT EDIT.  Generated by CRM_Core_CodeGen
--


-- +--------------------------------------------------------------------+
-- | CiviCRM version 4.7                                                |
-- +--------------------------------------------------------------------+
-- | Copyright CiviCRM LLC (c) 2004-2016                                |
-- +--------------------------------------------------------------------+
-- | This file is a part of CiviCRM.                                    |
-- |                                                                    |
-- | CiviCRM is free software; you can copy, modify, and distribute it  |
-- | under the terms of the GNU Affero General Public License           |
-- | Version 3, 19 November 2007 and the CiviCRM Licensing Exception.   |
-- |                                                                    |
-- | CiviCRM is distributed in the hope that it will be useful, but     |
-- | WITHOUT ANY WARRANTY; without even the implied warranty of         |
-- | MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.               |
-- | See the GNU Affero General Public License for more details.        |
-- |                                                                    |
-- | You should have received a copy of the GNU Affero General Public   |
-- | License and the CiviCRM Licensing Exception along                  |
-- | with this program; if not, contact CiviCRM LLC                     |
-- | at info[AT]civicrm[DOT]org. If you have questions about the        |
-- | GNU Affero General Public License or the licensing of CiviCRM,     |
-- | see the CiviCRM license FAQ at http://civicrm.org/licensing        |
-- +--------------------------------------------------------------------+
--
-- Generated from drop.tpl
-- DO NOT EDIT.  Generated by CRM_Core_CodeGen
--
-- /*******************************************************
-- *
-- * Clean up the exisiting tables
-- *
-- *******************************************************/

SET FOREIGN_KEY_CHECKS=0;

DROP TABLE IF EXISTS `civicrm_line_item`;
DROP TABLE IF EXISTS `civicrm_pledge_payment`;
DROP TABLE IF EXISTS `civicrm_events_in_carts`;
DROP TABLE IF EXISTS `civicrm_participant_payment`;
DROP TABLE IF EXISTS `civicrm_participant`;
DROP TABLE IF EXISTS `civicrm_event`;
DROP TABLE IF EXISTS `civicrm_membership_payment`;
DROP TABLE IF EXISTS `civicrm_entity_financial_trxn`;
DROP TABLE IF EXISTS `civicrm_contribution_soft`;
DROP TABLE IF EXISTS `civicrm_contribution_product`;
DROP TABLE IF EXISTS `civicrm_contribution`;
DROP TABLE IF EXISTS `civicrm_group_contact`;
DROP TABLE IF EXISTS `civicrm_loc_block`;
DROP TABLE IF EXISTS `civicrm_address`;
DROP TABLE IF EXISTS `civicrm_pcp_block`;
DROP TABLE IF EXISTS `civicrm_price_field_value`;
DROP TABLE IF EXISTS `civicrm_price_field`;
DROP TABLE IF EXISTS `civicrm_case_activity`;
DROP TABLE IF EXISTS `civicrm_activity_contact`;
DROP TABLE IF EXISTS `civicrm_activity`;
DROP TABLE IF EXISTS `civicrm_membership_log`;
DROP TABLE IF EXISTS `civicrm_membership`;
DROP TABLE IF EXISTS `civicrm_financial_trxn`;
DROP TABLE IF EXISTS `civicrm_contribution_recur`;
DROP TABLE IF EXISTS `civicrm_relationship`;
DROP TABLE IF EXISTS `civicrm_dashboard_contact`;
DROP TABLE IF EXISTS `civicrm_action_log`;
DROP TABLE IF EXISTS `civicrm_action_schedule`;
DROP TABLE IF EXISTS `civicrm_uf_join`;
DROP TABLE IF EXISTS `civicrm_uf_field`;
DROP TABLE IF EXISTS `civicrm_uf_group`;
DROP TABLE IF EXISTS `civicrm_entity_tag`;
DROP TABLE IF EXISTS `civicrm_discount`;
DROP TABLE IF EXISTS `civicrm_dashboard`;
DROP TABLE IF EXISTS `civicrm_county`;
DROP TABLE IF EXISTS `civicrm_price_set_entity`;
DROP TABLE IF EXISTS `civicrm_price_set`;
DROP TABLE IF EXISTS `civicrm_report_instance`;
DROP TABLE IF EXISTS `civicrm_pledge`;
DROP TABLE IF EXISTS `civicrm_case_contact`;
DROP TABLE IF EXISTS `civicrm_case`;
DROP TABLE IF EXISTS `civicrm_membership_block`;
DROP TABLE IF EXISTS `civicrm_membership_type`;
DROP TABLE IF EXISTS `civicrm_payment_token`;
DROP TABLE IF EXISTS `civicrm_payment_processor`;
DROP TABLE IF EXISTS `civicrm_contribution_widget`;
DROP TABLE IF EXISTS `civicrm_premiums_product`;
DROP TABLE IF EXISTS `civicrm_product`;
DROP TABLE IF EXISTS `civicrm_contribution_page`;
DROP TABLE IF EXISTS `civicrm_mailing_event_unsubscribe`;
DROP TABLE IF EXISTS `civicrm_mailing_event_trackable_url_open`;
DROP TABLE IF EXISTS `civicrm_mailing_event_confirm`;
DROP TABLE IF EXISTS `civicrm_mailing_event_subscribe`;
DROP TABLE IF EXISTS `civicrm_mailing_event_reply`;
DROP TABLE IF EXISTS `civicrm_mailing_event_opened`;
DROP TABLE IF EXISTS `civicrm_mailing_event_forward`;
DROP TABLE IF EXISTS `civicrm_mailing_event_delivered`;
DROP TABLE IF EXISTS `civicrm_mailing_event_bounce`;
DROP TABLE IF EXISTS `civicrm_mailing_event_queue`;
DROP TABLE IF EXISTS `civicrm_mailing_spool`;
DROP TABLE IF EXISTS `civicrm_mailing_recipients`;
DROP TABLE IF EXISTS `civicrm_mailing_job`;
DROP TABLE IF EXISTS `civicrm_mailing_trackable_url`;
DROP TABLE IF EXISTS `civicrm_mailing_group`;
DROP TABLE IF EXISTS `civicrm_mailing`;
DROP TABLE IF EXISTS `civicrm_group_organization`;
DROP TABLE IF EXISTS `civicrm_group_nesting`;
DROP TABLE IF EXISTS `civicrm_group_contact_cache`;
DROP TABLE IF EXISTS `civicrm_subscription_history`;
DROP TABLE IF EXISTS `civicrm_group`;
DROP TABLE IF EXISTS `civicrm_acl_cache`;
DROP TABLE IF EXISTS `civicrm_status_pref`;
DROP TABLE IF EXISTS `civicrm_word_replacement`;
DROP TABLE IF EXISTS `civicrm_print_label`;
DROP TABLE IF EXISTS `civicrm_setting`;
DROP TABLE IF EXISTS `civicrm_website`;
DROP TABLE IF EXISTS `civicrm_openid`;
DROP TABLE IF EXISTS `civicrm_timezone`;
DROP TABLE IF EXISTS `civicrm_uf_match`;
DROP TABLE IF EXISTS `civicrm_tag`;
DROP TABLE IF EXISTS `civicrm_state_province`;
DROP TABLE IF EXISTS `civicrm_phone`;
DROP TABLE IF EXISTS `civicrm_option_value`;
DROP TABLE IF EXISTS `civicrm_note`;
DROP TABLE IF EXISTS `civicrm_navigation`;
DROP TABLE IF EXISTS `civicrm_menu`;
DROP TABLE IF EXISTS `civicrm_mapping_field`;
DROP TABLE IF EXISTS `civicrm_mail_settings`;
DROP TABLE IF EXISTS `civicrm_log`;
DROP TABLE IF EXISTS `civicrm_job_log`;
DROP TABLE IF EXISTS `civicrm_job`;
DROP TABLE IF EXISTS `civicrm_im`;
DROP TABLE IF EXISTS `civicrm_entity_file`;
DROP TABLE IF EXISTS `civicrm_email`;
DROP TABLE IF EXISTS `civicrm_domain`;
DROP TABLE IF EXISTS `civicrm_custom_field`;
DROP TABLE IF EXISTS `civicrm_custom_group`;
DROP TABLE IF EXISTS `civicrm_country`;
DROP TABLE IF EXISTS `civicrm_cache`;
DROP TABLE IF EXISTS `civicrm_cxn`;
DROP TABLE IF EXISTS `civicrm_pcp`;
DROP TABLE IF EXISTS `civicrm_queue_item`;
DROP TABLE IF EXISTS `civicrm_pledge_block`;
DROP TABLE IF EXISTS `civicrm_tell_friend`;
DROP TABLE IF EXISTS `civicrm_grant`;
DROP TABLE IF EXISTS `civicrm_case_type`;
DROP TABLE IF EXISTS `civicrm_dedupe_exception`;
DROP TABLE IF EXISTS `civicrm_dedupe_rule`;
DROP TABLE IF EXISTS `civicrm_dedupe_rule_group`;
DROP TABLE IF EXISTS `civicrm_event_carts`;
DROP TABLE IF EXISTS `civicrm_participant_status_type`;
DROP TABLE IF EXISTS `civicrm_survey`;
DROP TABLE IF EXISTS `civicrm_campaign_group`;
DROP TABLE IF EXISTS `civicrm_campaign`;
DROP TABLE IF EXISTS `civicrm_membership_status`;
DROP TABLE IF EXISTS `civicrm_sms_provider`;
DROP TABLE IF EXISTS `civicrm_financial_item`;
DROP TABLE IF EXISTS `civicrm_entity_financial_account`;
DROP TABLE IF EXISTS `civicrm_financial_type`;
DROP TABLE IF EXISTS `civicrm_payment_processor_type`;
DROP TABLE IF EXISTS `civicrm_financial_account`;
DROP TABLE IF EXISTS `civicrm_currency`;
DROP TABLE IF EXISTS `civicrm_premiums`;
DROP TABLE IF EXISTS `civicrm_mailing_bounce_pattern`;
DROP TABLE IF EXISTS `civicrm_mailing_bounce_type`;
DROP TABLE IF EXISTS `civicrm_mailing_abtest`;
DROP TABLE IF EXISTS `civicrm_mailing_component`;
DROP TABLE IF EXISTS `civicrm_entity_batch`;
DROP TABLE IF EXISTS `civicrm_batch`;
DROP TABLE IF EXISTS `civicrm_contact_type`;
DROP TABLE IF EXISTS `civicrm_saved_search`;
DROP TABLE IF EXISTS `civicrm_relationship_type`;
DROP TABLE IF EXISTS `civicrm_acl_contact_cache`;
DROP TABLE IF EXISTS `civicrm_contact`;
DROP TABLE IF EXISTS `civicrm_acl_entity_role`;
DROP TABLE IF EXISTS `civicrm_acl`;
DROP TABLE IF EXISTS `civicrm_recurring_entity`;
DROP TABLE IF EXISTS `civicrm_action_mapping`;
DROP TABLE IF EXISTS `civicrm_prevnext_cache`;
DROP TABLE IF EXISTS `civicrm_persistent`;
DROP TABLE IF EXISTS `civicrm_component`;
DROP TABLE IF EXISTS `civicrm_worldregion`;
DROP TABLE IF EXISTS `civicrm_system_log`;
DROP TABLE IF EXISTS `civicrm_preferences_date`;
DROP TABLE IF EXISTS `civicrm_option_group`;
DROP TABLE IF EXISTS `civicrm_msg_template`;
DROP TABLE IF EXISTS `civicrm_mapping`;
DROP TABLE IF EXISTS `civicrm_managed`;
DROP TABLE IF EXISTS `civicrm_location_type`;
DROP TABLE IF EXISTS `civicrm_file`;
DROP TABLE IF EXISTS `civicrm_extension`;
DROP TABLE IF EXISTS `civicrm_address_format`;

SET FOREIGN_KEY_CHECKS=1;
-- /*******************************************************
-- *
-- * Create new tables
-- *
-- *******************************************************/

-- /*******************************************************
-- *
-- * civicrm_address_format
-- *
-- *******************************************************/
CREATE TABLE `civicrm_address_format` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `format` text    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_extension
-- *
-- *******************************************************/
CREATE TABLE `civicrm_extension` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `type` varchar(8) NOT NULL   ,
     `full_name` varchar(255) NOT NULL   COMMENT '',
     `name` varchar(255)    COMMENT '',
     `label` varchar(255)    COMMENT '',
     `file` varchar(255)    COMMENT '',
     `schema_version` varchar(63)    COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_extension_full_name`(
        full_name
  )
  ,     INDEX `UI_extension_name`(
        name
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_file
-- *
-- * Data store for uploaded (attached) files (pointer to file on disk OR blob). Maybe be joined to entities via custom_value.file_id or entity_file table.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_file` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `file_type_id` int unsigned    COMMENT '',
     `mime_type` varchar(255)    COMMENT '',
     `uri` varchar(255)    COMMENT '',
     `document` mediumblob    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `upload_date` datetime    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_location_type
-- *
-- *******************************************************/
CREATE TABLE `civicrm_location_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `display_name` varchar(64)    COMMENT '',
     `vcard_name` varchar(64)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `is_reserved` tinyint    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `is_default` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_managed
-- *
-- * List of declaratively managed objects
-- *
-- *******************************************************/
CREATE TABLE `civicrm_managed` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `module` varchar(127) NOT NULL   COMMENT '',
     `name` varchar(127)    COMMENT '',
     `entity_type` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `cleanup` varchar(32)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_managed_module_name`(
        module
      , name
  )
  ,     INDEX `UI_managed_entity`(
        entity_type
      , entity_id
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mapping
-- *
-- * Store field mappings in import or export for reuse
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mapping` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `mapping_type_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_name`(
        name
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_msg_template
-- *
-- * Users will need a way to save and retrieve templates with tokens for use in recurring email communication tasks
-- *
-- *******************************************************/
CREATE TABLE `civicrm_msg_template` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `msg_title` varchar(255)    COMMENT '',
     `msg_subject` text    COMMENT '',
     `msg_text` longtext    COMMENT '',
     `msg_html` longtext    COMMENT '',
     `is_active` tinyint   DEFAULT 1 ,
     `workflow_id` int unsigned    COMMENT '',
     `is_default` tinyint   DEFAULT 1 COMMENT '',
     `is_reserved` tinyint    COMMENT '',
     `is_sms` tinyint   DEFAULT 0 COMMENT '',
     `pdf_format_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_option_group
-- *
-- *******************************************************/
CREATE TABLE `civicrm_option_group` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64) NOT NULL   COMMENT '',
     `title` varchar(255)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `is_reserved` tinyint   DEFAULT 1 COMMENT '',
     `is_active` tinyint    COMMENT '',
     `is_locked` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_preferences_date
-- *
-- * Define date preferences for the site
-- *
-- *******************************************************/
CREATE TABLE `civicrm_preferences_date` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `name` varchar(64) NOT NULL   COMMENT '',
     `description` varchar(255)    COMMENT '',
     `start` int NOT NULL   COMMENT '',
     `end` int NOT NULL   COMMENT '',
     `date_format` varchar(64)    COMMENT '',
     `time_format` varchar(64)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_name`(
        name
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_system_log
-- *
-- *******************************************************/
CREATE TABLE `civicrm_system_log` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `message` varchar(128) NOT NULL   COMMENT '',
     `context` longtext    COMMENT '',
     `level` varchar(9)   DEFAULT 'info' COMMENT '',
     `timestamp` timestamp   DEFAULT CURRENT_TIMESTAMP COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `hostname` varchar(128)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_worldregion
-- *
-- *******************************************************/
CREATE TABLE `civicrm_worldregion` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(128)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_component
-- *
-- *******************************************************/
CREATE TABLE `civicrm_component` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64) NOT NULL   COMMENT '',
     `namespace` varchar(128)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_persistent
-- *
-- * DB Template Customization strings
-- *
-- *******************************************************/
CREATE TABLE `civicrm_persistent` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `context` varchar(255) NOT NULL   COMMENT '',
     `name` varchar(255) NOT NULL   COMMENT '',
     `data` longtext    COMMENT '',
     `is_config` tinyint NOT NULL  DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_prevnext_cache
-- *
-- * Table to cache items for navigation on civicrm searched results.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_prevnext_cache` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `entity_table` varchar(64)    COMMENT '',
     `entity_id1` int unsigned NOT NULL   COMMENT '',
     `entity_id2` int unsigned NOT NULL   COMMENT '',
     `cacheKey` varchar(255)    COMMENT '',
     `data` longtext    COMMENT '',
     `is_selected` tinyint   DEFAULT 0  
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_all`(
        cacheKey
      , entity_id1
      , entity_id2
      , entity_table
      , is_selected
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_action_mapping
-- *
-- * Table to store mapping for the reminder.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_action_mapping` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `entity` varchar(64)    COMMENT '',
     `entity_value` varchar(64)    COMMENT '',
     `entity_value_label` varchar(64)    COMMENT '',
     `entity_status` varchar(64)    COMMENT '',
     `entity_status_label` varchar(64)    COMMENT '',
     `entity_date_start` varchar(64)    COMMENT '',
     `entity_date_end` varchar(64)    COMMENT '',
     `entity_recipient` varchar(64)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_recurring_entity
-- *
-- *******************************************************/
CREATE TABLE `civicrm_recurring_entity` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `parent_id` int unsigned NOT NULL   COMMENT '',
     `entity_id` int unsigned    COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `mode` tinyint NOT NULL  DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_acl
-- *
-- * Access Control List
-- *
-- *******************************************************/
CREATE TABLE `civicrm_acl` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `deny` tinyint NOT NULL  DEFAULT 0 COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned    COMMENT '',
     `operation` varchar(8) NOT NULL   COMMENT '',
     `object_table` varchar(64)    COMMENT '',
     `object_id` int unsigned    COMMENT '',
     `acl_table` varchar(64)    COMMENT '',
     `acl_id` int unsigned    COMMENT '',
     `is_active` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_acl_id`(
        acl_id
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_acl_entity_role
-- *
-- * Join table for Contacts and Groups to ACL Roles
-- *
-- *******************************************************/
CREATE TABLE `civicrm_acl_entity_role` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `acl_role_id` int unsigned NOT NULL   COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `is_active` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_role`(
        acl_role_id
  )
  ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_contact
-- *
-- * Contact objects are defined by a civicrm_contact record plus a related civicrm_contact_type record.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_contact` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_type` varchar(64)    COMMENT '',
     `contact_sub_type` varchar(255)    COMMENT '',
     `do_not_email` tinyint   DEFAULT 0 ,
     `do_not_phone` tinyint   DEFAULT 0 ,
     `do_not_mail` tinyint   DEFAULT 0 ,
     `do_not_sms` tinyint   DEFAULT 0 ,
     `do_not_trade` tinyint   DEFAULT 0 ,
     `is_opt_out` tinyint NOT NULL  DEFAULT 0 COMMENT '',
     `legal_identifier` varchar(32)    COMMENT '',
     `external_identifier` varchar(64)    COMMENT '',
     `sort_name` varchar(128)    COMMENT '',
     `display_name` varchar(128)    COMMENT '',
     `nick_name` varchar(128)    COMMENT '',
     `legal_name` varchar(128)    COMMENT '',
     `image_URL` varchar(255)    COMMENT '',
     `preferred_communication_method` varchar(255)    COMMENT '',
     `preferred_language` varchar(5)    COMMENT '',
     `preferred_mail_format` varchar(8)   DEFAULT "Both" COMMENT '',
     `hash` varchar(32)    COMMENT '',
     `api_key` varchar(32)    COMMENT '',
     `source` varchar(255)    COMMENT '',
     `first_name` varchar(64)    COMMENT '',
     `middle_name` varchar(64)    COMMENT '',
     `last_name` varchar(64)    COMMENT '',
     `prefix_id` int unsigned    COMMENT '',
     `suffix_id` int unsigned    COMMENT '',
     `formal_title` varchar(64)    COMMENT '',
     `communication_style_id` int unsigned    COMMENT '',
     `email_greeting_id` int unsigned    COMMENT '',
     `email_greeting_custom` varchar(128)    COMMENT '',
     `email_greeting_display` varchar(255)    COMMENT '',
     `postal_greeting_id` int unsigned    COMMENT '',
     `postal_greeting_custom` varchar(128)    COMMENT '',
     `postal_greeting_display` varchar(255)    COMMENT '',
     `addressee_id` int unsigned    COMMENT '',
     `addressee_custom` varchar(128)    COMMENT '',
     `addressee_display` varchar(255)    COMMENT '',
     `job_title` varchar(255)    COMMENT '',
     `gender_id` int unsigned    COMMENT '',
     `birth_date` date    COMMENT '',
     `is_deceased` tinyint   DEFAULT 0 ,
     `deceased_date` date    COMMENT '',
     `household_name` varchar(128)    COMMENT '',
     `primary_contact_id` int unsigned    COMMENT '',
     `organization_name` varchar(128)    COMMENT '',
     `sic_code` varchar(8)    COMMENT '',
     `user_unique_id` varchar(255)    COMMENT '',
     `employer_id` int unsigned    COMMENT '',
     `is_deleted` tinyint NOT NULL  DEFAULT 0 ,
     `created_date` timestamp NULL  DEFAULT NULL COMMENT '',
     `modified_date` timestamp NULL  DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_contact_type`(
        contact_type
  )
  ,     INDEX `index_contact_sub_type`(
        contact_sub_type
  )
  ,     UNIQUE INDEX `UI_external_identifier`(
        external_identifier
  )
  ,     INDEX `index_sort_name`(
        sort_name
  )
  ,     INDEX `index_preferred_communication_method`(
        preferred_communication_method
  )
  ,     INDEX `index_hash`(
        hash
  )
  ,     INDEX `index_api_key`(
        api_key
  )
  ,     INDEX `index_first_name`(
        first_name
  )
  ,     INDEX `index_last_name`(
        last_name
  )
  ,     INDEX `UI_prefix`(
        prefix_id
  )
  ,     INDEX `UI_suffix`(
        suffix_id
  )
  ,     INDEX `index_communication_style_id`(
        communication_style_id
  )
  ,     INDEX `UI_gender`(
        gender_id
  )
  ,     INDEX `index_household_name`(
        household_name
  )
  ,     INDEX `index_organization_name`(
        organization_name
  )
  ,     INDEX `index_is_deleted_sort_name`(
        is_deleted
      , sort_name
      , id
  )
  
,          CONSTRAINT FK_civicrm_contact_primary_contact_id FOREIGN KEY (`primary_contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_contact_employer_id FOREIGN KEY (`employer_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_acl_contact_cache
-- *
-- * Join table cache for contacts that a user has permission on.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_acl_contact_cache` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `user_id` int unsigned    COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `operation` varchar(8) NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_user_contact_operation`(
        user_id
      , contact_id
      , operation
  )
  
,          CONSTRAINT FK_civicrm_acl_contact_cache_user_id FOREIGN KEY (`user_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_acl_contact_cache_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_relationship_type
-- *
-- * Relationship types s/b structured with contact_a as the 'subject/child' contact and contact_b as the 'object/parent' contact (e.g. Individual A is Employee of Org B).
-- *
-- *******************************************************/
CREATE TABLE `civicrm_relationship_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name_a_b` varchar(64)    COMMENT '',
     `label_a_b` varchar(64)    COMMENT '',
     `name_b_a` varchar(64)    COMMENT '',
     `label_b_a` varchar(64)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `contact_type_a` varchar(12)    COMMENT '',
     `contact_type_b` varchar(12)    COMMENT '',
     `contact_sub_type_a` varchar(64)    COMMENT '',
     `contact_sub_type_b` varchar(64)    COMMENT '',
     `is_reserved` tinyint    COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name_a_b`(
        name_a_b
  )
  ,     UNIQUE INDEX `UI_name_b_a`(
        name_b_a
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_saved_search
-- *
-- * Users can save their complex SQL queries and use them later.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_saved_search` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `form_values` text    COMMENT '',
     `mapping_id` int unsigned    COMMENT '',
     `search_custom_id` int unsigned    COMMENT '',
     `where_clause` text    COMMENT '',
     `select_tables` text    COMMENT '',
     `where_tables` text    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_saved_search_mapping_id FOREIGN KEY (`mapping_id`) REFERENCES `civicrm_mapping`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_contact_type
-- *
-- * Provide type information for contacts
-- *
-- *******************************************************/
CREATE TABLE `civicrm_contact_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `label` varchar(64)    COMMENT '',
     `description` text    COMMENT '',
     `image_URL` varchar(255)    COMMENT '',
     `parent_id` int unsigned    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `is_reserved` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `contact_type`(
        name
  )
  
,          CONSTRAINT FK_civicrm_contact_type_parent_id FOREIGN KEY (`parent_id`) REFERENCES `civicrm_contact_type`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_batch
-- *
-- * Stores the details of a batch operation Used primarily when doing batch operations with an external system.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_batch` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `title` varchar(64)    COMMENT '',
     `description` text    COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `modified_id` int unsigned    COMMENT '',
     `modified_date` datetime    COMMENT '',
     `saved_search_id` int unsigned    COMMENT '',
     `status_id` int unsigned NOT NULL   COMMENT '',
     `type_id` int unsigned    COMMENT '',
     `mode_id` int unsigned    COMMENT '',
     `total` decimal(20,2)    COMMENT '',
     `item_count` int unsigned    COMMENT '',
     `payment_instrument_id` int unsigned    COMMENT '',
     `exported_date` datetime    ,
     `data` longtext    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_batch_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_batch_modified_id FOREIGN KEY (`modified_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_batch_saved_search_id FOREIGN KEY (`saved_search_id`) REFERENCES `civicrm_saved_search`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_entity_batch
-- *
-- * Batch entities (Contributions, Participants, Contacts) to a batch.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_entity_batch` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64)    COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `batch_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  ,     UNIQUE INDEX `UI_batch_entity`(
        batch_id
      , entity_id
      , entity_table
  )
  
,          CONSTRAINT FK_civicrm_entity_batch_batch_id FOREIGN KEY (`batch_id`) REFERENCES `civicrm_batch`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_component
-- *
-- * Stores information about the mailing components (header/footer).
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_component` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `name` varchar(64)    COMMENT '',
     `component_type` varchar(12)    COMMENT '',
     `subject` varchar(255)    ,
     `body_html` text    COMMENT '',
     `body_text` text    COMMENT '',
     `is_default` tinyint   DEFAULT 0 COMMENT '',
     `is_active` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_abtest
-- *
-- * Stores information about abtesting
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_abtest` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `name` varchar(128)    COMMENT '',
     `status` varchar(32)    COMMENT '',
     `mailing_id_a` int unsigned    COMMENT '',
     `mailing_id_b` int unsigned    COMMENT '',
     `mailing_id_c` int unsigned    COMMENT '',
     `domain_id` int unsigned    COMMENT '',
     `testing_criteria` varchar(32)    ,
     `winner_criteria` varchar(32)    ,
     `specific_url` varchar(255)    COMMENT '',
     `declare_winning_time` datetime    COMMENT '',
     `group_percentage` int unsigned    ,
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_abtest_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_bounce_type
-- *
-- * Table to index the various bounce types and their properties
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_bounce_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `name` varchar(24) NOT NULL   COMMENT '',
     `description` varchar(255)    COMMENT '',
     `hold_threshold` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_bounce_pattern
-- *
-- * Pseudo-constant table of patterns for bounce classification
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_bounce_pattern` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `bounce_type_id` int unsigned NOT NULL   COMMENT '',
     `pattern` varchar(255)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_bounce_pattern_bounce_type_id FOREIGN KEY (`bounce_type_id`) REFERENCES `civicrm_mailing_bounce_type`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_premiums
-- *
-- * table - settings for the Premiums features for a given contribution page 
-- *
-- *******************************************************/
CREATE TABLE `civicrm_premiums` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   ,
     `premiums_active` tinyint NOT NULL  DEFAULT 0 COMMENT '',
     `premiums_intro_title` varchar(255)    COMMENT '',
     `premiums_intro_text` text    COMMENT '',
     `premiums_contact_email` varchar(100)    COMMENT '',
     `premiums_contact_phone` varchar(50)    COMMENT '',
     `premiums_display_min_contribution` tinyint NOT NULL   COMMENT '',
     `premiums_nothankyou_label` varchar(255)    COMMENT '',
     `premiums_nothankyou_position` int unsigned   DEFAULT 1  
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_currency
-- *
-- *******************************************************/
CREATE TABLE `civicrm_currency` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `symbol` varchar(8)    COMMENT '',
     `numeric_code` varchar(3)    COMMENT '',
     `full_name` varchar(64)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_financial_account
-- *
-- *******************************************************/
CREATE TABLE `civicrm_financial_account` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(255) NOT NULL   COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `financial_account_type_id` int unsigned NOT NULL  DEFAULT 3 COMMENT '',
     `accounting_code` varchar(64)    COMMENT '',
     `account_type_code` varchar(64)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `parent_id` int unsigned    COMMENT '',
     `is_header_account` tinyint   DEFAULT 0 COMMENT '',
     `is_deductible` tinyint   DEFAULT 1 COMMENT '',
     `is_tax` tinyint   DEFAULT 0 COMMENT '',
     `tax_rate` decimal(10,8)    COMMENT '',
     `is_reserved` tinyint    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `is_default` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_financial_account_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_financial_account_parent_id FOREIGN KEY (`parent_id`) REFERENCES `civicrm_financial_account`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_payment_processor_type
-- *
-- *******************************************************/
CREATE TABLE `civicrm_payment_processor_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `title` varchar(127)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `is_default` tinyint    COMMENT '',
     `user_name_label` varchar(255)    ,
     `password_label` varchar(255)    ,
     `signature_label` varchar(255)    ,
     `subject_label` varchar(255)    ,
     `class_name` varchar(255)    ,
     `url_site_default` varchar(255)    ,
     `url_api_default` varchar(255)    ,
     `url_recur_default` varchar(255)    ,
     `url_button_default` varchar(255)    ,
     `url_site_test_default` varchar(255)    ,
     `url_api_test_default` varchar(255)    ,
     `url_recur_test_default` varchar(255)    ,
     `url_button_test_default` varchar(255)    ,
     `billing_mode` int unsigned NOT NULL   COMMENT '',
     `is_recur` tinyint    COMMENT '',
     `payment_type` int unsigned   DEFAULT 1 COMMENT '',
     `payment_instrument_id` int unsigned   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_financial_type
-- *
-- * Formerly civicrm_contribution_type merged into this table in 4.3
-- *
-- *******************************************************/
CREATE TABLE `civicrm_financial_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64) NOT NULL   COMMENT '',
     `description` varchar(255)    COMMENT '',
     `is_deductible` tinyint   DEFAULT 1 COMMENT '',
     `is_reserved` tinyint    COMMENT '',
     `is_active` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_id`(
        id
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_entity_financial_account
-- *
-- * Map between an entity and a financial account, where there is a specific relationship between the financial account and the entity, e.g. Income Account for or AR Account for
-- *
-- *******************************************************/
CREATE TABLE `civicrm_entity_financial_account` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `account_relationship` int unsigned NOT NULL   COMMENT '',
     `financial_account_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_entity_financial_account_financial_account_id FOREIGN KEY (`financial_account_id`) REFERENCES `civicrm_financial_account`(`id`) ON DELETE RESTRICT  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_financial_item
-- *
-- * Financial data for civicrm_line_item, etc.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_financial_item` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `created_date` timestamp NOT NULL  DEFAULT CURRENT_TIMESTAMP COMMENT '',
     `transaction_date` datetime NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `description` varchar(255)    COMMENT '',
     `amount` decimal(20,2) NOT NULL  DEFAULT 0 COMMENT '',
     `currency` varchar(3)    COMMENT '',
     `financial_account_id` int unsigned    COMMENT '',
     `status_id` int unsigned    COMMENT '',
     `entity_table` varchar(64)    COMMENT '',
     `entity_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `IX_created_date`(
        created_date
  )
  ,     INDEX `IX_transaction_date`(
        transaction_date
  )
  ,     INDEX `index_entity_id_entity_table`(
        entity_id
      , entity_table
  )
  
,          CONSTRAINT FK_civicrm_financial_item_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_financial_item_financial_account_id FOREIGN KEY (`financial_account_id`) REFERENCES `civicrm_financial_account`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_sms_provider
-- *
-- * Table to add different sms providers 
-- *
-- *******************************************************/
CREATE TABLE `civicrm_sms_provider` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `title` varchar(64)    COMMENT '',
     `username` varchar(255)    ,
     `password` varchar(255)    ,
     `api_type` int unsigned NOT NULL   COMMENT '',
     `api_url` varchar(128)    ,
     `api_params` text    COMMENT '',
     `is_default` tinyint   DEFAULT 0 ,
     `is_active` tinyint   DEFAULT 0  
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_membership_status
-- *
-- * Membership Status stores admin configurable rules for assigning status to memberships.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_membership_status` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(128)    COMMENT '',
     `label` varchar(128)    COMMENT '',
     `start_event` varchar(12)    COMMENT '',
     `start_event_adjust_unit` varchar(8)    COMMENT '',
     `start_event_adjust_interval` int    COMMENT '',
     `end_event` varchar(12)    COMMENT '',
     `end_event_adjust_unit` varchar(8)    COMMENT '',
     `end_event_adjust_interval` int    COMMENT '',
     `is_current_member` tinyint    COMMENT '',
     `is_admin` tinyint    COMMENT '',
     `weight` int    ,
     `is_default` tinyint    COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `is_reserved` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_campaign
-- *
-- * Campaign Details.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_campaign` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(255) NOT NULL   COMMENT '',
     `title` varchar(255)    COMMENT '',
     `description` text    COMMENT '',
     `start_date` datetime    COMMENT '',
     `end_date` datetime    COMMENT '',
     `campaign_type_id` int unsigned   DEFAULT NULL COMMENT '',
     `status_id` int unsigned   DEFAULT NULL COMMENT '',
     `external_identifier` varchar(32)    COMMENT '',
     `parent_id` int unsigned   DEFAULT NULL COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `last_modified_id` int unsigned    COMMENT '',
     `last_modified_date` datetime    COMMENT '',
     `goal_general` text    COMMENT '',
     `goal_revenue` decimal(20,2)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_campaign_type_id`(
        campaign_type_id
  )
  ,     INDEX `UI_campaign_status_id`(
        status_id
  )
  ,     UNIQUE INDEX `UI_external_identifier`(
        external_identifier
  )
  
,          CONSTRAINT FK_civicrm_campaign_parent_id FOREIGN KEY (`parent_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_campaign_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_campaign_last_modified_id FOREIGN KEY (`last_modified_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_campaign_group
-- *
-- * Campaign Group Details.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_campaign_group` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `campaign_id` int unsigned NOT NULL   COMMENT '',
     `group_type` varchar(8)   DEFAULT NULL COMMENT '',
     `entity_table` varchar(64)   DEFAULT NULL COMMENT '',
     `entity_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_campaign_group_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_survey
-- *
-- * Campaign Survey Details.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_survey` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `title` varchar(255) NOT NULL   COMMENT '',
     `campaign_id` int unsigned   DEFAULT NULL COMMENT '',
     `activity_type_id` int unsigned   DEFAULT NULL COMMENT '',
     `recontact_interval` text    COMMENT '',
     `instructions` text    COMMENT '',
     `release_frequency` int unsigned   DEFAULT NULL COMMENT '',
     `max_number_of_contacts` int unsigned   DEFAULT NULL COMMENT '',
     `default_number_of_contacts` int unsigned   DEFAULT NULL COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `is_default` tinyint   DEFAULT 0 COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `last_modified_id` int unsigned    COMMENT '',
     `last_modified_date` datetime    COMMENT '',
     `result_id` int unsigned   DEFAULT NULL COMMENT '',
     `bypass_confirm` tinyint   DEFAULT 0 COMMENT '',
     `thankyou_title` varchar(255)    COMMENT '',
     `thankyou_text` text    COMMENT '',
     `is_share` tinyint   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_activity_type_id`(
        activity_type_id
  )
  
,          CONSTRAINT FK_civicrm_survey_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_survey_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_survey_last_modified_id FOREIGN KEY (`last_modified_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_participant_status_type
-- *
-- * various types of CiviEvent participant statuses
-- *
-- *******************************************************/
CREATE TABLE `civicrm_participant_status_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `label` varchar(255)    COMMENT '',
     `class` varchar(8)    COMMENT '',
     `is_reserved` tinyint    COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `is_counted` tinyint    COMMENT '',
     `weight` int unsigned NOT NULL   COMMENT '',
     `visibility_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_event_carts
-- *
-- *******************************************************/
CREATE TABLE `civicrm_event_carts` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `user_id` int unsigned    COMMENT '',
     `completed` tinyint   DEFAULT 0  
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_event_carts_user_id FOREIGN KEY (`user_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_dedupe_rule_group
-- *
-- * Dedupe rule groups
-- *
-- *******************************************************/
CREATE TABLE `civicrm_dedupe_rule_group` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_type` varchar(12)    COMMENT '',
     `threshold` int NOT NULL   COMMENT '',
     `used` varchar(12) NOT NULL   COMMENT '',
     `name` varchar(64)    COMMENT '',
     `title` varchar(255)    COMMENT '',
     `is_reserved` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_dedupe_rule
-- *
-- * Dedupe rules for use by rule groups
-- *
-- *******************************************************/
CREATE TABLE `civicrm_dedupe_rule` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `dedupe_rule_group_id` int unsigned NOT NULL   COMMENT '',
     `rule_table` varchar(64) NOT NULL   COMMENT '',
     `rule_field` varchar(64) NOT NULL   COMMENT '',
     `rule_length` int unsigned    COMMENT '',
     `rule_weight` int NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_dedupe_rule_dedupe_rule_group_id FOREIGN KEY (`dedupe_rule_group_id`) REFERENCES `civicrm_dedupe_rule_group`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_dedupe_exception
-- *
-- * Dedupe exceptions
-- *
-- *******************************************************/
CREATE TABLE `civicrm_dedupe_exception` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id1` int unsigned    COMMENT '',
     `contact_id2` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_contact_id1_contact_id2`(
        contact_id1
      , contact_id2
  )
  
,          CONSTRAINT FK_civicrm_dedupe_exception_contact_id1 FOREIGN KEY (`contact_id1`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_dedupe_exception_contact_id2 FOREIGN KEY (`contact_id2`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_case_type
-- *
-- * Case type definition
-- *
-- *******************************************************/
CREATE TABLE `civicrm_case_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64) NOT NULL   COMMENT '',
     `title` varchar(64) NOT NULL   COMMENT '',
     `description` varchar(255)    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `is_reserved` tinyint    COMMENT '',
     `weight` int NOT NULL  DEFAULT 1 COMMENT '',
     `definition` blob    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `case_type_name`(
        name
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_grant
-- *
-- * This table stores information about grants given to a contact.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_grant` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `application_received_date` date    COMMENT '',
     `decision_date` date    COMMENT '',
     `money_transfer_date` date    COMMENT '',
     `grant_due_date` date    COMMENT '',
     `grant_report_received` tinyint    COMMENT '',
     `grant_type_id` int unsigned NOT NULL   COMMENT '',
     `amount_total` decimal(20,2) NOT NULL   COMMENT '',
     `amount_requested` decimal(20,2)    COMMENT '',
     `amount_granted` decimal(20,2)    COMMENT '',
     `currency` varchar(3) NOT NULL   COMMENT '',
     `rationale` text    COMMENT '',
     `status_id` int unsigned NOT NULL   COMMENT '',
     `financial_type_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_grant_type_id`(
        grant_type_id
  )
  ,     INDEX `index_status_id`(
        status_id
  )
  
,          CONSTRAINT FK_civicrm_grant_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_grant_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_tell_friend
-- *
-- *******************************************************/
CREATE TABLE `civicrm_tell_friend` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `title` varchar(255)    ,
     `intro` text    COMMENT '',
     `suggested_message` text    COMMENT '',
     `general_link` varchar(255)    COMMENT '',
     `thankyou_title` varchar(255)    COMMENT '',
     `thankyou_text` text    COMMENT '',
     `is_active` tinyint     
,
    PRIMARY KEY ( `id` )
 
 
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_pledge_block
-- *
-- *******************************************************/
CREATE TABLE `civicrm_pledge_block` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64)    COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `pledge_frequency_unit` varchar(128)    COMMENT '',
     `is_pledge_interval` tinyint   DEFAULT 0 COMMENT '',
     `max_reminders` int unsigned   DEFAULT 1 COMMENT '',
     `initial_reminder_day` int unsigned   DEFAULT 5 COMMENT '',
     `additional_reminder_day` int unsigned   DEFAULT 5 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_queue_item
-- *
-- * Stores a list of queue items
-- *
-- *******************************************************/
CREATE TABLE `civicrm_queue_item` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `queue_name` varchar(64) NOT NULL   COMMENT '',
     `weight` int NOT NULL   ,
     `submit_time` datetime NOT NULL   COMMENT '',
     `release_time` datetime    COMMENT '',
     `data` text    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_queueids`(
        queue_name
      , weight
      , id
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_pcp
-- *
-- *******************************************************/
CREATE TABLE `civicrm_pcp` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `status_id` int unsigned NOT NULL   ,
     `title` varchar(255)   DEFAULT NULL ,
     `intro_text` text   DEFAULT NULL ,
     `page_text` text   DEFAULT NULL ,
     `donate_link_text` varchar(255)   DEFAULT NULL ,
     `page_id` int unsigned NOT NULL   COMMENT '',
     `page_type` varchar(64)   DEFAULT 'contribute' COMMENT '',
     `pcp_block_id` int unsigned NOT NULL   COMMENT '',
     `is_thermometer` int unsigned   DEFAULT 0 ,
     `is_honor_roll` int unsigned   DEFAULT 0 ,
     `goal_amount` decimal(20,2)    COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `is_active` tinyint   DEFAULT 0 COMMENT '',
     `is_notify` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_pcp_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_cxn
-- *
-- *******************************************************/
CREATE TABLE `civicrm_cxn` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `app_guid` varchar(128)    COMMENT '',
     `app_meta` text    COMMENT '',
     `cxn_guid` varchar(128)    COMMENT '',
     `secret` text    COMMENT '',
     `perm` text    COMMENT '',
     `options` text    COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `created_date` timestamp NULL  DEFAULT NULL COMMENT '',
     `modified_date` timestamp NULL  DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '',
     `fetched_date` timestamp NULL  DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_appid`(
        app_guid
  )
  ,     UNIQUE INDEX `UI_keypair_cxnid`(
        cxn_guid
  )
  
 
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_cache
-- *
-- * Table to cache items for civicrm components.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_cache` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `group_name` varchar(32) NOT NULL   COMMENT '',
     `path` varchar(255)    COMMENT '',
     `data` longtext    COMMENT '',
     `component_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `expired_date` datetime    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_group_path_date`(
        group_name
      , path
      , created_date
  )
  
,          CONSTRAINT FK_civicrm_cache_component_id FOREIGN KEY (`component_id`) REFERENCES `civicrm_component`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_country
-- *
-- *******************************************************/
CREATE TABLE `civicrm_country` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `iso_code` char(2)    COMMENT '',
     `country_code` varchar(4)    COMMENT '',
     `address_format_id` int unsigned    COMMENT '',
     `idd_prefix` varchar(4)    COMMENT '',
     `ndd_prefix` varchar(4)    COMMENT '',
     `region_id` int unsigned NOT NULL   COMMENT '',
     `is_province_abbreviated` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name_iso_code`(
        name
      , iso_code
  )
  
,          CONSTRAINT FK_civicrm_country_address_format_id FOREIGN KEY (`address_format_id`) REFERENCES `civicrm_address_format`(`id`) ,          CONSTRAINT FK_civicrm_country_region_id FOREIGN KEY (`region_id`) REFERENCES `civicrm_worldregion`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_custom_group
-- *
-- * All extended (custom) properties are associated with a group. These are logical sets of related data.
  
-- *
-- *******************************************************/
CREATE TABLE `civicrm_custom_group` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `title` varchar(64) NOT NULL   COMMENT '',
     `extends` varchar(255)   DEFAULT 'Contact' COMMENT '',
     `extends_entity_column_id` int unsigned   DEFAULT NULL COMMENT '',
     `extends_entity_column_value` varchar(255)    COMMENT '',
     `style` varchar(15)    COMMENT '',
     `collapse_display` int unsigned   DEFAULT 0 COMMENT '',
     `help_pre` text    COMMENT '',
     `help_post` text    COMMENT '',
     `weight` int NOT NULL  DEFAULT 1 COMMENT '',
     `is_active` tinyint    COMMENT '',
     `table_name` varchar(255)    COMMENT '',
     `is_multiple` tinyint    COMMENT '',
     `min_multiple` int unsigned    COMMENT '',
     `max_multiple` int unsigned    COMMENT '',
     `collapse_adv_display` int unsigned   DEFAULT 0 COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `is_reserved` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_title_extends`(
        title
      , extends
  )
  ,     UNIQUE INDEX `UI_name_extends`(
        name
      , extends
  )
  
,          CONSTRAINT FK_civicrm_custom_group_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_custom_field
-- *
-- * Stores info about an extended (custom) property (data and form field info).
-- *
-- *******************************************************/
CREATE TABLE `civicrm_custom_field` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `custom_group_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(64)    COMMENT '',
     `label` varchar(255) NOT NULL   COMMENT '',
     `data_type` varchar(16) NOT NULL   COMMENT '',
     `html_type` varchar(32) NOT NULL   COMMENT '',
     `default_value` varchar(255)    COMMENT '',
     `is_required` tinyint    COMMENT '',
     `is_searchable` tinyint    COMMENT '',
     `is_search_range` tinyint   DEFAULT 0 COMMENT '',
     `weight` int NOT NULL  DEFAULT 1 COMMENT '',
     `help_pre` text    COMMENT '',
     `help_post` text    COMMENT '',
     `mask` varchar(64)    COMMENT '',
     `attributes` varchar(255)    COMMENT '',
     `javascript` varchar(255)    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `is_view` tinyint    COMMENT '',
     `options_per_line` int unsigned    COMMENT '',
     `text_length` int unsigned    COMMENT '',
     `start_date_years` int    COMMENT '',
     `end_date_years` int    COMMENT '',
     `date_format` varchar(64)    COMMENT '',
     `time_format` int unsigned    COMMENT '',
     `note_columns` int unsigned    COMMENT '',
     `note_rows` int unsigned    COMMENT '',
     `column_name` varchar(255)    COMMENT '',
     `option_group_id` int unsigned    COMMENT '',
     `filter` varchar(255)    COMMENT '',
     `in_selector` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_label_custom_group_id`(
        label
      , custom_group_id
  )
  ,     UNIQUE INDEX `UI_name_custom_group_id`(
        name
      , custom_group_id
  )
  
,          CONSTRAINT FK_civicrm_custom_field_custom_group_id FOREIGN KEY (`custom_group_id`) REFERENCES `civicrm_custom_group`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_domain
-- *
-- * Top-level hierarchy to support multi-org/domain installations. Define domains for multi-org installs, else all contacts belong to one domain.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_domain` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `config_backend` text    COMMENT '',
     `version` varchar(32)    COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `locales` text    COMMENT '',
     `locale_custom_strings` text    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_domain_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_email
-- *
-- * Email information for a specific location.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_email` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `location_type_id` int unsigned    COMMENT '',
     `email` varchar(254)    COMMENT '',
     `is_primary` tinyint   DEFAULT 0 COMMENT '',
     `is_billing` tinyint   DEFAULT 0 COMMENT '',
     `on_hold` tinyint NOT NULL  DEFAULT 0 COMMENT '',
     `is_bulkmail` tinyint NOT NULL  DEFAULT 0 COMMENT '',
     `hold_date` datetime    COMMENT '',
     `reset_date` datetime    COMMENT '',
     `signature_text` text   DEFAULT NULL COMMENT '',
     `signature_html` text   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_location_type`(
        location_type_id
  )
  ,     INDEX `UI_email`(
        email
  )
  ,     INDEX `index_is_primary`(
        is_primary
  )
  ,     INDEX `index_is_billing`(
        is_billing
  )
  
,          CONSTRAINT FK_civicrm_email_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_entity_file
-- *
-- * Attaches (joins) uploaded files (images, documents, etc.) to entities (Contacts, Groups, Actions).
-- *
-- *******************************************************/
CREATE TABLE `civicrm_entity_file` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64)    COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `file_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  ,     INDEX `index_entity_file_id`(
        entity_table
      , entity_id
      , file_id
  )
  
,          CONSTRAINT FK_civicrm_entity_file_file_id FOREIGN KEY (`file_id`) REFERENCES `civicrm_file`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_im
-- *
-- * IM information for a specific location.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_im` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `location_type_id` int unsigned    COMMENT '',
     `name` varchar(64)    COMMENT '',
     `provider_id` int unsigned    COMMENT '',
     `is_primary` tinyint   DEFAULT 0 COMMENT '',
     `is_billing` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_location_type`(
        location_type_id
  )
  ,     INDEX `UI_provider_id`(
        provider_id
  )
  ,     INDEX `index_is_primary`(
        is_primary
  )
  ,     INDEX `index_is_billing`(
        is_billing
  )
  
,          CONSTRAINT FK_civicrm_im_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_job
-- *
-- * Scheduled job.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_job` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `run_frequency` varchar(8)   DEFAULT "Daily" COMMENT '',
     `last_run` datetime   DEFAULT NULL COMMENT '',
     `scheduled_run_date` timestamp NULL  DEFAULT NULL COMMENT '',
     `name` varchar(255)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `api_entity` varchar(255)    COMMENT '',
     `api_action` varchar(255)    COMMENT '',
     `parameters` text    COMMENT '',
     `is_active` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_job_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_job_log
-- *
-- * Scheduled jobs log.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_job_log` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `run_time` timestamp    COMMENT '',
     `job_id` int unsigned    COMMENT '',
     `name` varchar(255)    COMMENT '',
     `command` varchar(255)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `data` text    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_job_log_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_log
-- *
-- * Log can be linked to any object in the application.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_log` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `data` text    COMMENT '',
     `modified_id` int unsigned    COMMENT '',
     `modified_date` datetime    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  
,          CONSTRAINT FK_civicrm_log_modified_id FOREIGN KEY (`modified_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mail_settings
-- *
-- * Various email accounts for use by CiviMail (and its processor)
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mail_settings` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(255)    COMMENT '',
     `is_default` tinyint    COMMENT '',
     `domain` varchar(255)    COMMENT '',
     `localpart` varchar(255)    COMMENT '',
     `return_path` varchar(255)    COMMENT '',
     `protocol` varchar(255)    COMMENT '',
     `server` varchar(255)    COMMENT '',
     `port` int unsigned    COMMENT '',
     `username` varchar(255)    COMMENT '',
     `password` varchar(255)    COMMENT '',
     `is_ssl` tinyint    COMMENT '',
     `source` varchar(255)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mail_settings_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mapping_field
-- *
-- * Individual field mappings for Mapping
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mapping_field` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `mapping_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(255)    COMMENT '',
     `contact_type` varchar(64)    COMMENT '',
     `column_number` int unsigned NOT NULL   COMMENT '',
     `location_type_id` int unsigned    COMMENT '',
     `phone_type_id` int unsigned    COMMENT '',
     `im_provider_id` int unsigned    COMMENT '',
     `website_type_id` int unsigned    COMMENT '',
     `relationship_type_id` int unsigned    COMMENT '',
     `relationship_direction` varchar(6)    ,
     `grouping` int unsigned   DEFAULT 1 COMMENT '',
     `operator` varchar(16)    COMMENT '',
     `value` varchar(255)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mapping_field_mapping_id FOREIGN KEY (`mapping_id`) REFERENCES `civicrm_mapping`(`id`) ,          CONSTRAINT FK_civicrm_mapping_field_location_type_id FOREIGN KEY (`location_type_id`) REFERENCES `civicrm_location_type`(`id`) ,          CONSTRAINT FK_civicrm_mapping_field_relationship_type_id FOREIGN KEY (`relationship_type_id`) REFERENCES `civicrm_relationship_type`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_menu
-- *
-- * Table to store menu items for all civicrm components.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_menu` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `path` varchar(255)    COMMENT '',
     `path_arguments` text    COMMENT '',
     `title` varchar(255)    ,
     `access_callback` varchar(255)    COMMENT '',
     `access_arguments` text    COMMENT '',
     `page_callback` varchar(255)    COMMENT '',
     `page_arguments` text    COMMENT '',
     `breadcrumb` text    COMMENT '',
     `return_url` varchar(255)    COMMENT '',
     `return_url_args` varchar(255)    COMMENT '',
     `component_id` int unsigned    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `is_public` tinyint    COMMENT '',
     `is_exposed` tinyint    COMMENT '',
     `is_ssl` tinyint    COMMENT '',
     `weight` int NOT NULL  DEFAULT 1 COMMENT '',
     `type` int NOT NULL  DEFAULT 1 COMMENT '',
     `page_type` int NOT NULL  DEFAULT 1 COMMENT '',
     `skipBreadcrumb` tinyint    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_path_domain_id`(
        path
      , domain_id
  )
  
,          CONSTRAINT FK_civicrm_menu_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ,          CONSTRAINT FK_civicrm_menu_component_id FOREIGN KEY (`component_id`) REFERENCES `civicrm_component`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_navigation
-- *
-- * Table to store navigation.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_navigation` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `label` varchar(255)    COMMENT '',
     `name` varchar(255)    COMMENT '',
     `url` varchar(255)    COMMENT '',
     `permission` varchar(255)    COMMENT '',
     `permission_operator` varchar(3)    COMMENT '',
     `parent_id` int unsigned    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `has_separator` tinyint    COMMENT '',
     `weight` int    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_navigation_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ,          CONSTRAINT FK_civicrm_navigation_parent_id FOREIGN KEY (`parent_id`) REFERENCES `civicrm_navigation`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_note
-- *
-- * Notes can be linked to any object in the application.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_note` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `note` text    COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `modified_date` date    COMMENT '',
     `subject` varchar(255)    COMMENT '',
     `privacy` varchar(255)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  
,          CONSTRAINT FK_civicrm_note_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_option_value
-- *
-- *******************************************************/
CREATE TABLE `civicrm_option_value` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `option_group_id` int unsigned NOT NULL   COMMENT '',
     `label` varchar(512) NOT NULL   COMMENT '',
     `value` varchar(512) NOT NULL   COMMENT '',
     `name` varchar(255)    COMMENT '',
     `grouping` varchar(255)    COMMENT '',
     `filter` int unsigned    COMMENT '',
     `is_default` tinyint   DEFAULT 0 COMMENT '',
     `weight` int unsigned NOT NULL   COMMENT '',
     `description` text    COMMENT '',
     `is_optgroup` tinyint   DEFAULT 0 COMMENT '',
     `is_reserved` tinyint   DEFAULT 0 COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `component_id` int unsigned    COMMENT '',
     `domain_id` int unsigned    COMMENT '',
     `visibility_id` int unsigned   DEFAULT NULL  
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_option_group_id_value`(
        value(128)
      , option_group_id
  )
  ,     INDEX `index_option_group_id_name`(
        name(128)
      , option_group_id
  )
  
,          CONSTRAINT FK_civicrm_option_value_option_group_id FOREIGN KEY (`option_group_id`) REFERENCES `civicrm_option_group`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_option_value_component_id FOREIGN KEY (`component_id`) REFERENCES `civicrm_component`(`id`) ,          CONSTRAINT FK_civicrm_option_value_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_phone
-- *
-- * Phone information for a specific location.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_phone` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `location_type_id` int unsigned    COMMENT '',
     `is_primary` tinyint   DEFAULT 0 COMMENT '',
     `is_billing` tinyint   DEFAULT 0 COMMENT '',
     `mobile_provider_id` int unsigned    COMMENT '',
     `phone` varchar(32)    COMMENT '',
     `phone_ext` varchar(16)    COMMENT '',
     `phone_numeric` varchar(32)    COMMENT '',
     `phone_type_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_location_type`(
        location_type_id
  )
  ,     INDEX `index_is_primary`(
        is_primary
  )
  ,     INDEX `index_is_billing`(
        is_billing
  )
  ,     INDEX `UI_mobile_provider_id`(
        mobile_provider_id
  )
  ,     INDEX `index_phone_numeric`(
        phone_numeric
  )
  
,          CONSTRAINT FK_civicrm_phone_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_state_province
-- *
-- *******************************************************/
CREATE TABLE `civicrm_state_province` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `abbreviation` varchar(4)    COMMENT '',
     `country_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name_country_id`(
        name
      , country_id
  )
  
,          CONSTRAINT FK_civicrm_state_province_country_id FOREIGN KEY (`country_id`) REFERENCES `civicrm_country`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_tag
-- *
-- * Provides support for flat or hierarchical classification of various types of entities (contacts, groups, actions...).
-- *
-- *******************************************************/
CREATE TABLE `civicrm_tag` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64) NOT NULL   COMMENT '',
     `description` varchar(255)    COMMENT '',
     `parent_id` int unsigned   DEFAULT NULL COMMENT '',
     `is_selectable` tinyint   DEFAULT 1 COMMENT '',
     `is_reserved` tinyint   DEFAULT 0 ,
     `is_tagset` tinyint   DEFAULT 0 ,
     `used_for` varchar(64)   DEFAULT NULL ,
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_tag_parent_id FOREIGN KEY (`parent_id`) REFERENCES `civicrm_tag`(`id`) ,          CONSTRAINT FK_civicrm_tag_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_uf_match
-- *
-- * The mapping from an user framework (UF) object to a CRM object.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_uf_match` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `uf_id` int unsigned NOT NULL   COMMENT '',
     `uf_name` varchar(128)    COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `language` varchar(5)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `I_civicrm_uf_match_uf_id`(
        uf_id
  )
  ,     UNIQUE INDEX `UI_uf_name_domain_id`(
        uf_name
      , domain_id
  )
  ,     UNIQUE INDEX `UI_contact_domain_id`(
        contact_id
      , domain_id
  )
  
,          CONSTRAINT FK_civicrm_uf_match_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ,          CONSTRAINT FK_civicrm_uf_match_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_timezone
-- *
-- *******************************************************/
CREATE TABLE `civicrm_timezone` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `abbreviation` char(3)    COMMENT '',
     `gmt` varchar(64)    COMMENT '',
     `offset` int    ,
     `country_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_timezone_country_id FOREIGN KEY (`country_id`) REFERENCES `civicrm_country`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_openid
-- *
-- * OpenID information for a specific location.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_openid` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `location_type_id` int unsigned    COMMENT '',
     `openid` varchar(255)    COMMENT '',
     `allowed_to_login` tinyint NOT NULL  DEFAULT 0 COMMENT '',
     `is_primary` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_location_type`(
        location_type_id
  )
  ,     UNIQUE INDEX `UI_openid`(
        openid
  )
  
,          CONSTRAINT FK_civicrm_openid_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_website
-- *
-- * Website information for a specific location.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_website` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `url` varchar(128)    COMMENT '',
     `website_type_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_website_type_id`(
        website_type_id
  )
  
,          CONSTRAINT FK_civicrm_website_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_setting
-- *
-- * Table to store civicrm settings for civicrm core and components.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_setting` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `name` varchar(255)    COMMENT '',
     `value` text    COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `is_domain` tinyint    COMMENT '',
     `component_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `created_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `index_domain_contact_name`(
        domain_id
      , contact_id
      , name
  )
  
,          CONSTRAINT FK_civicrm_setting_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_setting_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_setting_component_id FOREIGN KEY (`component_id`) REFERENCES `civicrm_component`(`id`) ,          CONSTRAINT FK_civicrm_setting_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_print_label
-- *
-- * Table to store the labels created by user.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_print_label` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `title` varchar(255)    COMMENT '',
     `name` varchar(255)    COMMENT '',
     `description` text    COMMENT '',
     `label_format_name` varchar(255)    COMMENT '',
     `label_type_id` int unsigned    COMMENT '',
     `data` longtext    COMMENT '',
     `is_default` tinyint   DEFAULT 1 COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `is_reserved` tinyint   DEFAULT 1 COMMENT '',
     `created_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_print_label_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_word_replacement
-- *
-- * Top-level hierarchy to support word replacement.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_word_replacement` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `find_word` varchar(255) COLLATE utf8_bin    COMMENT '',
     `replace_word` varchar(255) COLLATE utf8_bin    COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `match_type` varchar(16)   DEFAULT "wildcardMatch" ,
     `domain_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_domain_find`(
        domain_id
      , find_word
  )
  
,          CONSTRAINT FK_civicrm_word_replacement_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_status_pref
-- *
-- * Preferences controlling status checks called in system.check.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_status_pref` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(255) NOT NULL   COMMENT '',
     `hush_until` date   DEFAULT NULL COMMENT '',
     `ignore_severity` int unsigned   DEFAULT 1 COMMENT '',
     `prefs` varchar(255)    COMMENT '',
     `check_info` varchar(255)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_status_pref_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_status_pref_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_acl_cache
-- *
-- * Cache for acls and contacts
-- *
-- *******************************************************/
CREATE TABLE `civicrm_acl_cache` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `acl_id` int unsigned NOT NULL   COMMENT '',
     `modified_date` date    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_acl_id`(
        acl_id
  )
  
,          CONSTRAINT FK_civicrm_acl_cache_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_acl_cache_acl_id FOREIGN KEY (`acl_id`) REFERENCES `civicrm_acl`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_group
-- *
-- * Provide grouping of related contacts
-- *
-- *******************************************************/
CREATE TABLE `civicrm_group` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `title` varchar(64)    COMMENT '',
     `description` text    COMMENT '',
     `source` varchar(64)    COMMENT '',
     `saved_search_id` int unsigned    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `visibility` varchar(24)   DEFAULT 'User and User Admin Only' COMMENT '',
     `where_clause` text    COMMENT '',
     `select_tables` text    COMMENT '',
     `where_tables` text    COMMENT '',
     `group_type` varchar(128)    COMMENT '',
     `cache_date` datetime    COMMENT '',
     `refresh_date` datetime    COMMENT '',
     `parents` text    COMMENT '',
     `children` text    COMMENT '',
     `is_hidden` tinyint   DEFAULT 0 COMMENT '',
     `is_reserved` tinyint   DEFAULT 0 ,
     `created_id` int unsigned    COMMENT '',
     `modified_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_group_type`(
        group_type
  )
  ,     UNIQUE INDEX `UI_title`(
        title
  )
  ,     UNIQUE INDEX `UI_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_group_saved_search_id FOREIGN KEY (`saved_search_id`) REFERENCES `civicrm_saved_search`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_group_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_group_modified_id FOREIGN KEY (`modified_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_subscription_history
-- *
-- * History information of subscribe/unsubscribe actions
-- *
-- *******************************************************/
CREATE TABLE `civicrm_subscription_history` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `group_id` int unsigned    COMMENT '',
     `date` datetime NOT NULL   COMMENT '',
     `method` varchar(8)    COMMENT '',
     `status` varchar(8)    COMMENT '',
     `tracking` varchar(255)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_subscription_history_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_subscription_history_group_id FOREIGN KEY (`group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_group_contact_cache
-- *
-- * Join table cache for 'static' groups.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_group_contact_cache` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `group_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_contact_group`(
        contact_id
      , group_id
  )
  
,          CONSTRAINT FK_civicrm_group_contact_cache_group_id FOREIGN KEY (`group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_group_contact_cache_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_group_nesting
-- *
-- * Provide parent-child relationships for groups
-- *
-- *******************************************************/
CREATE TABLE `civicrm_group_nesting` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `child_group_id` int unsigned NOT NULL   COMMENT '',
     `parent_group_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_group_nesting_child_group_id FOREIGN KEY (`child_group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_group_nesting_parent_group_id FOREIGN KEY (`parent_group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_group_organization
-- *
-- * Integrate Organization information into Groups
-- *
-- *******************************************************/
CREATE TABLE `civicrm_group_organization` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `group_id` int unsigned NOT NULL   COMMENT '',
     `organization_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_group_organization`(
        group_id
      , organization_id
  )
  
,          CONSTRAINT FK_civicrm_group_organization_group_id FOREIGN KEY (`group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_group_organization_organization_id FOREIGN KEY (`organization_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing
-- *
-- * Stores information about a mailing.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `domain_id` int unsigned    COMMENT '',
     `header_id` int unsigned    COMMENT '',
     `footer_id` int unsigned    COMMENT '',
     `reply_id` int unsigned    COMMENT '',
     `unsubscribe_id` int unsigned    COMMENT '',
     `resubscribe_id` int unsigned    ,
     `optout_id` int unsigned    COMMENT '',
     `name` varchar(128)    COMMENT '',
     `mailing_type` varchar(32)    COMMENT '',
     `from_name` varchar(128)    COMMENT '',
     `from_email` varchar(128)    COMMENT '',
     `replyto_email` varchar(128)    COMMENT '',
     `subject` varchar(128)    COMMENT '',
     `body_text` longtext    COMMENT '',
     `body_html` longtext    COMMENT '',
     `url_tracking` tinyint    COMMENT '',
     `forward_replies` tinyint    COMMENT '',
     `auto_responder` tinyint    COMMENT '',
     `open_tracking` tinyint    COMMENT '',
     `is_completed` tinyint    COMMENT '',
     `msg_template_id` int unsigned    COMMENT '',
     `override_verp` tinyint   DEFAULT 0 COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `scheduled_id` int unsigned    COMMENT '',
     `scheduled_date` datetime    COMMENT '',
     `approver_id` int unsigned    COMMENT '',
     `approval_date` datetime    COMMENT '',
     `approval_status_id` int unsigned    COMMENT '',
     `approval_note` longtext    COMMENT '',
     `is_archived` tinyint   DEFAULT 0 COMMENT '',
     `visibility` varchar(40)   DEFAULT 'Public Pages' COMMENT '',
     `campaign_id` int unsigned    COMMENT '',
     `dedupe_email` tinyint   DEFAULT 0 COMMENT '',
     `sms_provider_id` int unsigned    ,
     `hash` varchar(16)    COMMENT '',
     `location_type_id` int unsigned    COMMENT '',
     `email_selection_method` varchar(20)   DEFAULT 'automatic' COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_hash`(
        hash
  )
  
,          CONSTRAINT FK_civicrm_mailing_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_header_id FOREIGN KEY (`header_id`) REFERENCES `civicrm_mailing_component`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_footer_id FOREIGN KEY (`footer_id`) REFERENCES `civicrm_mailing_component`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_reply_id FOREIGN KEY (`reply_id`) REFERENCES `civicrm_mailing_component`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_unsubscribe_id FOREIGN KEY (`unsubscribe_id`) REFERENCES `civicrm_mailing_component`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_optout_id FOREIGN KEY (`optout_id`) REFERENCES `civicrm_mailing_component`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_msg_template_id FOREIGN KEY (`msg_template_id`) REFERENCES `civicrm_msg_template`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_scheduled_id FOREIGN KEY (`scheduled_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_approver_id FOREIGN KEY (`approver_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_sms_provider_id FOREIGN KEY (`sms_provider_id`) REFERENCES `civicrm_sms_provider`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_location_type_id FOREIGN KEY (`location_type_id`) REFERENCES `civicrm_location_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_group
-- *
-- * Stores information about the groups that participate in this mailing..
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_group` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `mailing_id` int unsigned NOT NULL   COMMENT '',
     `group_type` varchar(8)    COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `search_id` int    COMMENT '',
     `search_args` text    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_group_mailing_id FOREIGN KEY (`mailing_id`) REFERENCES `civicrm_mailing`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_trackable_url
-- *
-- * Stores URLs for which we should track click-throughs from mailings
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_trackable_url` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `url` text NOT NULL   COMMENT '',
     `mailing_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_trackable_url_mailing_id FOREIGN KEY (`mailing_id`) REFERENCES `civicrm_mailing`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_job
-- *
-- * Stores information about the job that executes this mailing
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_job` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `mailing_id` int unsigned NOT NULL   COMMENT '',
     `scheduled_date` datetime    COMMENT '',
     `start_date` datetime    COMMENT '',
     `end_date` datetime    COMMENT '',
     `status` varchar(12)    COMMENT '',
     `is_test` tinyint   DEFAULT 0 COMMENT '',
     `job_type` varchar(255)    COMMENT '',
     `parent_id` int unsigned   DEFAULT NULL COMMENT '',
     `job_offset` int   DEFAULT 0 COMMENT '',
     `job_limit` int   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_job_mailing_id FOREIGN KEY (`mailing_id`) REFERENCES `civicrm_mailing`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_mailing_job_parent_id FOREIGN KEY (`parent_id`) REFERENCES `civicrm_mailing_job`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_recipients
-- *
-- * Stores information about the recipients of a mailing.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_recipients` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `mailing_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `email_id` int unsigned   DEFAULT NULL COMMENT '',
     `phone_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_recipients_mailing_id FOREIGN KEY (`mailing_id`) REFERENCES `civicrm_mailing`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_mailing_recipients_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_mailing_recipients_email_id FOREIGN KEY (`email_id`) REFERENCES `civicrm_email`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_recipients_phone_id FOREIGN KEY (`phone_id`) REFERENCES `civicrm_phone`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_spool
-- *
-- * Stores the outbond mails
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_spool` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `job_id` int unsigned NOT NULL   COMMENT '',
     `recipient_email` text    COMMENT '',
     `headers` text    COMMENT '',
     `body` text    COMMENT '',
     `added_at` datetime    COMMENT '',
     `removed_at` datetime    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_spool_job_id FOREIGN KEY (`job_id`) REFERENCES `civicrm_mailing_job`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_queue
-- *
-- * A collection of all intended recipients of a job
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_queue` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `job_id` int unsigned NOT NULL   COMMENT '',
     `email_id` int unsigned   DEFAULT NULL COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `hash` varchar(255) NOT NULL   COMMENT '',
     `phone_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_queue_job_id FOREIGN KEY (`job_id`) REFERENCES `civicrm_mailing_job`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_mailing_event_queue_email_id FOREIGN KEY (`email_id`) REFERENCES `civicrm_email`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_mailing_event_queue_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_mailing_event_queue_phone_id FOREIGN KEY (`phone_id`) REFERENCES `civicrm_phone`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_bounce
-- *
-- * Tracks when and why an email bounced.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_bounce` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `event_queue_id` int unsigned NOT NULL   COMMENT '',
     `bounce_type_id` int unsigned    COMMENT '',
     `bounce_reason` varchar(255)    COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_bounce_event_queue_id FOREIGN KEY (`event_queue_id`) REFERENCES `civicrm_mailing_event_queue`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_delivered
-- *
-- * Tracks when a queued email is actually delivered to the MTA
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_delivered` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `event_queue_id` int unsigned NOT NULL   COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_delivered_event_queue_id FOREIGN KEY (`event_queue_id`) REFERENCES `civicrm_mailing_event_queue`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_forward
-- *
-- * Tracks when a contact forwards a mailing to a (new) contact
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_forward` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `event_queue_id` int unsigned NOT NULL   COMMENT '',
     `dest_queue_id` int unsigned    COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_forward_event_queue_id FOREIGN KEY (`event_queue_id`) REFERENCES `civicrm_mailing_event_queue`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_mailing_event_forward_dest_queue_id FOREIGN KEY (`dest_queue_id`) REFERENCES `civicrm_mailing_event_queue`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_opened
-- *
-- * Tracks when a delivered email is opened by the recipient
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_opened` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `event_queue_id` int unsigned NOT NULL   COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_opened_event_queue_id FOREIGN KEY (`event_queue_id`) REFERENCES `civicrm_mailing_event_queue`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_reply
-- *
-- * Tracks when a contact replies to a mailing
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_reply` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `event_queue_id` int unsigned NOT NULL   COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_reply_event_queue_id FOREIGN KEY (`event_queue_id`) REFERENCES `civicrm_mailing_event_queue`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_subscribe
-- *
-- * Tracks when a (new) contact subscribes to a group by email
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_subscribe` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `group_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `hash` varchar(255) NOT NULL   COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_subscribe_group_id FOREIGN KEY (`group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_mailing_event_subscribe_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_confirm
-- *
-- * Tracks when a subscription event is confirmed by email
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_confirm` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `event_subscribe_id` int unsigned NOT NULL   COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_confirm_event_subscribe_id FOREIGN KEY (`event_subscribe_id`) REFERENCES `civicrm_mailing_event_subscribe`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_trackable_url_open
-- *
-- * Tracks when a TrackableURL is clicked by a recipient.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_trackable_url_open` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `event_queue_id` int unsigned NOT NULL   COMMENT '',
     `trackable_url_id` int unsigned NOT NULL   COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_trackable_url_open_event_queue_id FOREIGN KEY (`event_queue_id`) REFERENCES `civicrm_mailing_event_queue`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_mailing_event_trackable_url_open_trackable_url_id FOREIGN KEY (`trackable_url_id`) REFERENCES `civicrm_mailing_trackable_url`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_mailing_event_unsubscribe
-- *
-- * Tracks when a recipient unsubscribes from a group/domain
-- *
-- *******************************************************/
CREATE TABLE `civicrm_mailing_event_unsubscribe` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `event_queue_id` int unsigned NOT NULL   COMMENT '',
     `org_unsubscribe` tinyint NOT NULL   COMMENT '',
     `time_stamp` datetime NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_mailing_event_unsubscribe_event_queue_id FOREIGN KEY (`event_queue_id`) REFERENCES `civicrm_mailing_event_queue`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_contribution_page
-- *
-- * A Contribution object store meta information about a single customized contribution page
-- *
-- *******************************************************/
CREATE TABLE `civicrm_contribution_page` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `title` varchar(255)    COMMENT '',
     `intro_text` text    COMMENT '',
     `financial_type_id` int unsigned    COMMENT '',
     `payment_processor` varchar(128)    COMMENT '',
     `is_credit_card_only` tinyint   DEFAULT 0 COMMENT '',
     `is_monetary` tinyint   DEFAULT 1 COMMENT '',
     `is_recur` tinyint   DEFAULT 0 COMMENT '',
     `is_confirm_enabled` tinyint   DEFAULT 1 COMMENT '',
     `recur_frequency_unit` varchar(128)    COMMENT '',
     `is_recur_interval` tinyint   DEFAULT 0 COMMENT '',
     `is_recur_installments` tinyint   DEFAULT 0 COMMENT '',
     `is_pay_later` tinyint   DEFAULT 0 COMMENT '',
     `pay_later_text` text    COMMENT '',
     `pay_later_receipt` text    COMMENT '',
     `is_partial_payment` tinyint   DEFAULT 0 COMMENT '',
     `initial_amount_label` varchar(255)    COMMENT '',
     `initial_amount_help_text` text    COMMENT '',
     `min_initial_amount` decimal(20,2)    COMMENT '',
     `is_allow_other_amount` tinyint   DEFAULT 0 COMMENT '',
     `default_amount_id` int unsigned    COMMENT '',
     `min_amount` decimal(20,2)    COMMENT '',
     `max_amount` decimal(20,2)    COMMENT '',
     `goal_amount` decimal(20,2)    COMMENT '',
     `thankyou_title` varchar(255)    COMMENT '',
     `thankyou_text` text    COMMENT '',
     `thankyou_footer` text    COMMENT '',
     `is_email_receipt` tinyint   DEFAULT 0 COMMENT '',
     `receipt_from_name` varchar(255)    COMMENT '',
     `receipt_from_email` varchar(255)    COMMENT '',
     `cc_receipt` varchar(255)    COMMENT '',
     `bcc_receipt` varchar(255)    COMMENT '',
     `receipt_text` text    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `footer_text` text    COMMENT '',
     `amount_block_is_active` tinyint   DEFAULT 1 COMMENT '',
     `start_date` datetime    COMMENT '',
     `end_date` datetime    COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `campaign_id` int unsigned    COMMENT '',
     `is_share` tinyint   DEFAULT 1 COMMENT '',
     `is_billing_required` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_contribution_page_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ,          CONSTRAINT FK_civicrm_contribution_page_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_contribution_page_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_product
-- *
-- * able - stores "product info" for premiums and can be used for non-incentive products 
-- *
-- *******************************************************/
CREATE TABLE `civicrm_product` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `name` varchar(255) NOT NULL   COMMENT '',
     `description` text    COMMENT '',
     `sku` varchar(50)    COMMENT '',
     `options` text    COMMENT '',
     `image` varchar(255)    COMMENT '',
     `thumbnail` varchar(255)    COMMENT '',
     `price` decimal(20,2)    COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `financial_type_id` int unsigned   DEFAULT NULL COMMENT '',
     `min_contribution` decimal(20,2)    COMMENT '',
     `cost` decimal(20,2)    COMMENT '',
     `is_active` tinyint NOT NULL   COMMENT '',
     `period_type` varchar(8)   DEFAULT 'rolling' COMMENT '',
     `fixed_period_start_day` int   DEFAULT 0101 COMMENT '',
     `duration_unit` varchar(8)   DEFAULT 'year' ,
     `duration_interval` int    COMMENT '',
     `frequency_unit` varchar(8)   DEFAULT 'month' COMMENT '',
     `frequency_interval` int    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_product_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_premiums_product
-- *
-- * joins premiums (settings) to individual product/premium items - determines which products are available for a given contribution page
-- *
-- *******************************************************/
CREATE TABLE `civicrm_premiums_product` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `premiums_id` int unsigned NOT NULL   COMMENT '',
     `product_id` int unsigned NOT NULL   COMMENT '',
     `weight` int unsigned NOT NULL   ,
     `financial_type_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_premiums_product_premiums_id FOREIGN KEY (`premiums_id`) REFERENCES `civicrm_premiums`(`id`) ,          CONSTRAINT FK_civicrm_premiums_product_product_id FOREIGN KEY (`product_id`) REFERENCES `civicrm_product`(`id`) ,          CONSTRAINT FK_civicrm_premiums_product_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_contribution_widget
-- *
-- * A Widget object to store meta information about a single customized contribution widget
-- *
-- *******************************************************/
CREATE TABLE `civicrm_contribution_widget` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contribution_page_id` int unsigned    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `title` varchar(255)    COMMENT '',
     `url_logo` varchar(255)    COMMENT '',
     `button_title` varchar(255)    COMMENT '',
     `about` text    COMMENT '',
     `url_homepage` varchar(255)    COMMENT '',
     `color_title` varchar(10)    ,
     `color_button` varchar(10)    ,
     `color_bar` varchar(10)    ,
     `color_main_text` varchar(10)    ,
     `color_main` varchar(10)    ,
     `color_main_bg` varchar(10)    ,
     `color_bg` varchar(10)    ,
     `color_about_link` varchar(10)    ,
     `color_homepage_link` varchar(10)     
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_contribution_widget_contribution_page_id FOREIGN KEY (`contribution_page_id`) REFERENCES `civicrm_contribution_page`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_payment_processor
-- *
-- *******************************************************/
CREATE TABLE `civicrm_payment_processor` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(64)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `payment_processor_type_id` int unsigned    ,
     `is_active` tinyint    COMMENT '',
     `is_default` tinyint    COMMENT '',
     `is_test` tinyint    COMMENT '',
     `user_name` varchar(255)    ,
     `password` varchar(255)    ,
     `signature` text    ,
     `url_site` varchar(255)    ,
     `url_api` varchar(255)    ,
     `url_recur` varchar(255)    ,
     `url_button` varchar(255)    ,
     `subject` varchar(255)    ,
     `class_name` varchar(255)    ,
     `billing_mode` int unsigned NOT NULL   COMMENT '',
     `is_recur` tinyint    COMMENT '',
     `payment_type` int unsigned   DEFAULT 1 COMMENT '',
     `payment_instrument_id` int unsigned   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name_test_domain_id`(
        name
      , is_test
      , domain_id
  )
  
,          CONSTRAINT FK_civicrm_payment_processor_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ,          CONSTRAINT FK_civicrm_payment_processor_payment_processor_type_id FOREIGN KEY (`payment_processor_type_id`) REFERENCES `civicrm_payment_processor_type`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_payment_token
-- *
-- * Payment Token
-- *
-- *******************************************************/
CREATE TABLE `civicrm_payment_token` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `payment_processor_id` int unsigned NOT NULL   ,
     `token` varchar(255) NOT NULL   COMMENT '',
     `created_date` timestamp   DEFAULT CURRENT_TIMESTAMP COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `expiry_date` datetime    COMMENT '',
     `email` varchar(255)    COMMENT '',
     `billing_first_name` varchar(255)    COMMENT '',
     `billing_middle_name` varchar(255)    COMMENT '',
     `billing_last_name` varchar(255)    COMMENT '',
     `masked_account_number` varchar(255)    COMMENT '',
     `ip_address` varchar(255)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_payment_token_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_payment_token_payment_processor_id FOREIGN KEY (`payment_processor_id`) REFERENCES `civicrm_payment_processor`(`id`) ON DELETE RESTRICT,          CONSTRAINT FK_civicrm_payment_token_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_membership_type
-- *
-- * Sites can configure multiple types of memberships. They encode the owner organization, fee, and the rules needed to set start and end (expire) dates when a member signs up for that type.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_membership_type` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(128)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `member_of_contact_id` int unsigned NOT NULL   COMMENT '',
     `financial_type_id` int unsigned NOT NULL   COMMENT '',
     `minimum_fee` decimal(20,2)   DEFAULT 0 COMMENT '',
     `duration_unit` varchar(8)    COMMENT '',
     `duration_interval` int    COMMENT '',
     `period_type` varchar(8)    COMMENT '',
     `fixed_period_start_day` int    COMMENT '',
     `fixed_period_rollover_day` int    COMMENT '',
     `relationship_type_id` varchar(64)    COMMENT '',
     `relationship_direction` varchar(128)    ,
     `max_related` int    COMMENT '',
     `visibility` varchar(64)    ,
     `weight` int    ,
     `receipt_text_signup` varchar(255)    COMMENT '',
     `receipt_text_renewal` varchar(255)    COMMENT '',
     `auto_renew` tinyint   DEFAULT 0 COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_relationship_type_id`(
        relationship_type_id
  )
  
,          CONSTRAINT FK_civicrm_membership_type_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ,          CONSTRAINT FK_civicrm_membership_type_member_of_contact_id FOREIGN KEY (`member_of_contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE RESTRICT,          CONSTRAINT FK_civicrm_membership_type_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_membership_block
-- *
-- * A Membership Block stores admin configurable status options and rules
-- *
-- *******************************************************/
CREATE TABLE `civicrm_membership_block` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64)    COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `membership_types` varchar(1024)    COMMENT '',
     `membership_type_default` int unsigned    COMMENT '',
     `display_min_fee` tinyint   DEFAULT 1 COMMENT '',
     `is_separate_payment` tinyint   DEFAULT 1 COMMENT '',
     `new_title` varchar(255)    COMMENT '',
     `new_text` text    COMMENT '',
     `renewal_title` varchar(255)    COMMENT '',
     `renewal_text` text    COMMENT '',
     `is_required` tinyint   DEFAULT 0 COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_membership_block_entity_id FOREIGN KEY (`entity_id`) REFERENCES `civicrm_contribution_page`(`id`) ,          CONSTRAINT FK_civicrm_membership_block_membership_type_default FOREIGN KEY (`membership_type_default`) REFERENCES `civicrm_membership_type`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_case
-- *
-- * This table stores information about cases grouping activities.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_case` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `case_type_id` int unsigned    COMMENT '',
     `subject` varchar(128)    COMMENT '',
     `start_date` date    COMMENT '',
     `end_date` date    COMMENT '',
     `details` text    COMMENT '',
     `status_id` int unsigned NOT NULL   COMMENT '',
     `is_deleted` tinyint   DEFAULT 0  
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_case_type_id`(
        case_type_id
  )
  ,     INDEX `index_is_deleted`(
        is_deleted
  )
  
,          CONSTRAINT FK_civicrm_case_case_type_id FOREIGN KEY (`case_type_id`) REFERENCES `civicrm_case_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_case_contact
-- *
-- * Joining table for case-contact associations.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_case_contact` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `case_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_case_contact_id`(
        case_id
      , contact_id
  )
  
,          CONSTRAINT FK_civicrm_case_contact_case_id FOREIGN KEY (`case_id`) REFERENCES `civicrm_case`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_case_contact_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_pledge
-- *
-- *******************************************************/
CREATE TABLE `civicrm_pledge` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `financial_type_id` int unsigned    COMMENT '',
     `contribution_page_id` int unsigned    COMMENT '',
     `amount` decimal(20,2) NOT NULL   COMMENT '',
     `original_installment_amount` decimal(20,2) NOT NULL   COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `frequency_unit` varchar(8)   DEFAULT 'month' COMMENT '',
     `frequency_interval` int unsigned NOT NULL  DEFAULT 1 COMMENT '',
     `frequency_day` int unsigned NOT NULL  DEFAULT 3 COMMENT '',
     `installments` int unsigned   DEFAULT 1 COMMENT '',
     `start_date` datetime NOT NULL   COMMENT '',
     `create_date` datetime NOT NULL   COMMENT '',
     `acknowledge_date` datetime    COMMENT '',
     `modified_date` datetime    COMMENT '',
     `cancel_date` datetime    COMMENT '',
     `end_date` datetime    COMMENT '',
     `max_reminders` int unsigned   DEFAULT 1 COMMENT '',
     `initial_reminder_day` int unsigned   DEFAULT 5 COMMENT '',
     `additional_reminder_day` int unsigned   DEFAULT 5 COMMENT '',
     `status_id` int unsigned    COMMENT '',
     `is_test` tinyint   DEFAULT 0 ,
     `campaign_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_status`(
        status_id
  )
  
,          CONSTRAINT FK_civicrm_pledge_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_pledge_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ,          CONSTRAINT FK_civicrm_pledge_contribution_page_id FOREIGN KEY (`contribution_page_id`) REFERENCES `civicrm_contribution_page`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_pledge_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_report_instance
-- *
-- * Users can save their report instance and put in a cron tab etc.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_report_instance` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `title` varchar(255)    COMMENT '',
     `report_id` varchar(64) NOT NULL   COMMENT '',
     `name` varchar(255)    COMMENT '',
     `args` varchar(255)    COMMENT '',
     `description` varchar(255)    COMMENT '',
     `permission` varchar(255)    COMMENT '',
     `grouprole` varchar(1024)    COMMENT '',
     `form_values` text    COMMENT '',
     `is_active` tinyint    COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `owner_id` int unsigned    COMMENT '',
     `email_subject` varchar(255)    COMMENT '',
     `email_to` text    COMMENT '',
     `email_cc` text    COMMENT '',
     `header` text    COMMENT '',
     `footer` text    COMMENT '',
     `navigation_id` int unsigned    COMMENT '',
     `drilldown_id` int unsigned    COMMENT '',
     `is_reserved` tinyint   DEFAULT 0  
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_report_instance_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ,          CONSTRAINT FK_civicrm_report_instance_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_report_instance_owner_id FOREIGN KEY (`owner_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_report_instance_navigation_id FOREIGN KEY (`navigation_id`) REFERENCES `civicrm_navigation`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_report_instance_drilldown_id FOREIGN KEY (`drilldown_id`) REFERENCES `civicrm_report_instance`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_price_set
-- *
-- *******************************************************/
CREATE TABLE `civicrm_price_set` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `domain_id` int unsigned    COMMENT '',
     `name` varchar(255) NOT NULL   COMMENT '',
     `title` varchar(255) NOT NULL   COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `help_pre` text    COMMENT '',
     `help_post` text    COMMENT '',
     `javascript` varchar(64)    COMMENT '',
     `extends` varchar(255) NOT NULL   COMMENT '',
     `financial_type_id` int unsigned   DEFAULT NULL COMMENT '',
     `is_quick_config` tinyint   DEFAULT 0 COMMENT '',
     `is_reserved` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_price_set_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`) ,          CONSTRAINT FK_civicrm_price_set_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_price_set_entity
-- *
-- *******************************************************/
CREATE TABLE `civicrm_price_set_entity` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `price_set_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_entity`(
        entity_table
      , entity_id
  )
  
,          CONSTRAINT FK_civicrm_price_set_entity_price_set_id FOREIGN KEY (`price_set_id`) REFERENCES `civicrm_price_set`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_county
-- *
-- *******************************************************/
CREATE TABLE `civicrm_county` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `name` varchar(64)    COMMENT '',
     `abbreviation` varchar(4)    COMMENT '',
     `state_province_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name_state_id`(
        name
      , state_province_id
  )
  
,          CONSTRAINT FK_civicrm_county_state_province_id FOREIGN KEY (`state_province_id`) REFERENCES `civicrm_state_province`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_dashboard
-- *
-- * Table to store dashboard.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_dashboard` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `domain_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(64)    COMMENT '',
     `label` varchar(255)    COMMENT '',
     `url` varchar(255)    COMMENT '',
     `permission` varchar(255)    COMMENT '',
     `permission_operator` varchar(3)    COMMENT '',
     `column_no` tinyint   DEFAULT 0 COMMENT '',
     `is_minimized` tinyint   DEFAULT 0 COMMENT '',
     `fullscreen_url` varchar(255)    COMMENT '',
     `is_fullscreen` tinyint   DEFAULT 1 COMMENT '',
     `is_active` tinyint   DEFAULT 0 COMMENT '',
     `is_reserved` tinyint   DEFAULT 0 COMMENT '',
     `weight` int   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_dashboard_domain_id FOREIGN KEY (`domain_id`) REFERENCES `civicrm_domain`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_discount
-- *
-- * Stores discounts for events on the basis of date
-- *
-- *******************************************************/
CREATE TABLE `civicrm_discount` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64)    COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `price_set_id` int unsigned NOT NULL   COMMENT '',
     `start_date` date    COMMENT '',
     `end_date` date    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  ,     INDEX `index_entity_option_id`(
        entity_table
      , entity_id
      , price_set_id
  )
  
,          CONSTRAINT FK_civicrm_discount_price_set_id FOREIGN KEY (`price_set_id`) REFERENCES `civicrm_price_set`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_entity_tag
-- *
-- * Tag entities (Contacts, Groups, Actions) to categories.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_entity_tag` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64)    COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `tag_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_entity_id_entity_table_tag_id`(
        entity_id
      , entity_table
      , tag_id
  )
  
,          CONSTRAINT FK_civicrm_entity_tag_tag_id FOREIGN KEY (`tag_id`) REFERENCES `civicrm_tag`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_uf_group
-- *
-- * User framework groups. Each group represents a form which encompasses a set of fields defined in civicrm_uf_fields table. Initially will be used for CiviCRM Profile form(s). Subsequently we anticipate using this to define other public facing forms (e.g. online donation solicitation forms, mailing list preferences, etc.).
-- *
-- *******************************************************/
CREATE TABLE `civicrm_uf_group` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `group_type` varchar(255)    COMMENT '',
     `title` varchar(64) NOT NULL   COMMENT '',
     `description` text    COMMENT '',
     `help_pre` text    COMMENT '',
     `help_post` text    COMMENT '',
     `limit_listings_group_id` int unsigned    COMMENT '',
     `post_URL` varchar(255)    COMMENT '',
     `add_to_group_id` int unsigned    COMMENT '',
     `add_captcha` tinyint   DEFAULT 0 COMMENT '',
     `is_map` tinyint   DEFAULT 0 COMMENT '',
     `is_edit_link` tinyint   DEFAULT 0 COMMENT '',
     `is_uf_link` tinyint   DEFAULT 0 COMMENT '',
     `is_update_dupe` tinyint   DEFAULT 0 COMMENT '',
     `cancel_URL` varchar(255)    COMMENT '',
     `is_cms_user` tinyint   DEFAULT 0 COMMENT '',
     `notify` text    ,
     `is_reserved` tinyint    COMMENT '',
     `name` varchar(64)    COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `is_proximity_search` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_uf_group_limit_listings_group_id FOREIGN KEY (`limit_listings_group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_uf_group_add_to_group_id FOREIGN KEY (`add_to_group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_uf_group_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_uf_field
-- *
-- * User Framework fields and their properties.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_uf_field` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `uf_group_id` int unsigned NOT NULL   COMMENT '',
     `field_name` varchar(64) NOT NULL   COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `is_view` tinyint   DEFAULT 0 COMMENT '',
     `is_required` tinyint   DEFAULT 0 COMMENT '',
     `weight` int NOT NULL  DEFAULT 1 COMMENT '',
     `help_post` text    COMMENT '',
     `help_pre` text    COMMENT '',
     `visibility` varchar(32)   DEFAULT 'User and User Admin Only' COMMENT '',
     `in_selector` tinyint   DEFAULT 0 COMMENT '',
     `is_searchable` tinyint   DEFAULT 0 COMMENT '',
     `location_type_id` int unsigned    COMMENT '',
     `phone_type_id` int unsigned    COMMENT '',
     `website_type_id` int unsigned    COMMENT '',
     `label` varchar(255) NOT NULL   COMMENT '',
     `field_type` varchar(255)    COMMENT '',
     `is_reserved` tinyint    COMMENT '',
     `is_multi_summary` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `IX_website_type_id`(
        website_type_id
  )
  
,          CONSTRAINT FK_civicrm_uf_field_uf_group_id FOREIGN KEY (`uf_group_id`) REFERENCES `civicrm_uf_group`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_uf_field_location_type_id FOREIGN KEY (`location_type_id`) REFERENCES `civicrm_location_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_uf_join
-- *
-- * User framework join table. This links various internal civicrm object with a profile. Initial use cases are the donation object and the user module
-- *
-- *******************************************************/
CREATE TABLE `civicrm_uf_join` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `module` varchar(64) NOT NULL   COMMENT '',
     `entity_table` varchar(64)    COMMENT '',
     `entity_id` int unsigned    COMMENT '',
     `weight` int NOT NULL  DEFAULT 1 COMMENT '',
     `uf_group_id` int unsigned NOT NULL   COMMENT '',
     `module_data` longtext    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  
,          CONSTRAINT FK_civicrm_uf_join_uf_group_id FOREIGN KEY (`uf_group_id`) REFERENCES `civicrm_uf_group`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_action_schedule
-- *
-- * Table to store the reminders.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_action_schedule` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `name` varchar(64)    COMMENT '',
     `title` varchar(64)    COMMENT '',
     `recipient` varchar(64)    COMMENT '',
     `limit_to` tinyint    COMMENT '',
     `entity_value` varchar(255)    COMMENT '',
     `entity_status` varchar(64)    COMMENT '',
     `start_action_offset` int unsigned    COMMENT '',
     `start_action_unit` varchar(8)    COMMENT '',
     `start_action_condition` varchar(32)    COMMENT '',
     `start_action_date` varchar(64)    COMMENT '',
     `is_repeat` tinyint   DEFAULT 0 ,
     `repetition_frequency_unit` varchar(8)    COMMENT '',
     `repetition_frequency_interval` int unsigned    COMMENT '',
     `end_frequency_unit` varchar(8)    COMMENT '',
     `end_frequency_interval` int unsigned    COMMENT '',
     `end_action` varchar(32)    COMMENT '',
     `end_date` varchar(64)    COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `recipient_manual` varchar(128)    COMMENT '',
     `recipient_listing` varchar(128)    COMMENT '',
     `body_text` longtext    COMMENT '',
     `body_html` longtext    COMMENT '',
     `sms_body_text` longtext    COMMENT '',
     `subject` varchar(128)    COMMENT '',
     `record_activity` tinyint   DEFAULT NULL COMMENT '',
     `mapping_id` varchar(64)    COMMENT '',
     `group_id` int unsigned    COMMENT '',
     `msg_template_id` int unsigned    COMMENT '',
     `sms_template_id` int unsigned    COMMENT '',
     `absolute_date` date    COMMENT '',
     `from_name` varchar(255)    COMMENT '',
     `from_email` varchar(255)    COMMENT '',
     `mode` varchar(128)   DEFAULT "Email" COMMENT '',
     `sms_provider_id` int unsigned    ,
     `used_for` varchar(64)    COMMENT '',
     `filter_contact_language` varchar(128)    COMMENT '',
     `communication_language` varchar(8)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_action_schedule_group_id FOREIGN KEY (`group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_action_schedule_msg_template_id FOREIGN KEY (`msg_template_id`) REFERENCES `civicrm_msg_template`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_action_schedule_sms_template_id FOREIGN KEY (`sms_template_id`) REFERENCES `civicrm_msg_template`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_action_schedule_sms_provider_id FOREIGN KEY (`sms_provider_id`) REFERENCES `civicrm_sms_provider`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_action_log
-- *
-- * Table to store log for the reminder.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_action_log` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `contact_id` int unsigned    COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `entity_table` varchar(255)    COMMENT '',
     `action_schedule_id` int unsigned NOT NULL   COMMENT '',
     `action_date_time` datetime    COMMENT '',
     `is_error` tinyint   DEFAULT 0 COMMENT '',
     `message` text    COMMENT '',
     `repetition_number` int unsigned    COMMENT '',
     `reference_date` date   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_action_log_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_action_log_action_schedule_id FOREIGN KEY (`action_schedule_id`) REFERENCES `civicrm_action_schedule`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_dashboard_contact
-- *
-- * Table to store dashboard for each contact.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_dashboard_contact` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `dashboard_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `column_no` tinyint   DEFAULT 0 COMMENT '',
     `is_minimized` tinyint   DEFAULT 0 COMMENT '',
     `is_fullscreen` tinyint   DEFAULT 1 COMMENT '',
     `is_active` tinyint   DEFAULT 0 COMMENT '',
     `weight` int   DEFAULT 0 COMMENT '',
     `content` longtext    COMMENT '',
     `created_date` datetime    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_dashboard_contact_dashboard_id FOREIGN KEY (`dashboard_id`) REFERENCES `civicrm_dashboard`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_dashboard_contact_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_relationship
-- *
-- * Relationship between any 2 types of contacts.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_relationship` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id_a` int unsigned NOT NULL   COMMENT '',
     `contact_id_b` int unsigned NOT NULL   COMMENT '',
     `relationship_type_id` int unsigned NOT NULL   COMMENT '',
     `start_date` date    COMMENT '',
     `end_date` date    COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `description` varchar(255)    COMMENT '',
     `is_permission_a_b` tinyint   DEFAULT 0 COMMENT '',
     `is_permission_b_a` tinyint   DEFAULT 0 COMMENT '',
     `case_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_relationship_contact_id_a FOREIGN KEY (`contact_id_a`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_relationship_contact_id_b FOREIGN KEY (`contact_id_b`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_relationship_relationship_type_id FOREIGN KEY (`relationship_type_id`) REFERENCES `civicrm_relationship_type`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_relationship_case_id FOREIGN KEY (`case_id`) REFERENCES `civicrm_case`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_contribution_recur
-- *
-- *******************************************************/
CREATE TABLE `civicrm_contribution_recur` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `amount` decimal(20,2) NOT NULL   COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `frequency_unit` varchar(8)   DEFAULT 'month' COMMENT '',
     `frequency_interval` int unsigned NOT NULL   COMMENT '',
     `installments` int unsigned    COMMENT '',
     `start_date` datetime NOT NULL   COMMENT '',
     `create_date` datetime NOT NULL   COMMENT '',
     `modified_date` datetime    COMMENT '',
     `cancel_date` datetime    COMMENT '',
     `end_date` datetime    COMMENT '',
     `processor_id` varchar(255)    COMMENT '',
     `payment_token_id` int unsigned    COMMENT '',
     `trxn_id` varchar(255)    COMMENT '',
     `invoice_id` varchar(255)    COMMENT '',
     `contribution_status_id` int unsigned   DEFAULT 1 ,
     `is_test` tinyint   DEFAULT 0 ,
     `cycle_day` int unsigned NOT NULL  DEFAULT 1 COMMENT '',
     `next_sched_contribution_date` datetime    COMMENT '',
     `failure_count` int unsigned   DEFAULT 0 COMMENT '',
     `failure_retry_date` datetime    COMMENT '',
     `auto_renew` tinyint NOT NULL  DEFAULT 0 COMMENT '',
     `payment_processor_id` int unsigned    COMMENT '',
     `financial_type_id` int unsigned    COMMENT '',
     `payment_instrument_id` int unsigned    COMMENT '',
     `campaign_id` int unsigned    COMMENT '',
     `is_email_receipt` tinyint   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_contrib_trxn_id`(
        trxn_id
  )
  ,     UNIQUE INDEX `UI_contrib_invoice_id`(
        invoice_id
  )
  ,     INDEX `index_contribution_status`(
        contribution_status_id
  )
  ,     INDEX `UI_contribution_recur_payment_instrument_id`(
        payment_instrument_id
  )
  
,          CONSTRAINT FK_civicrm_contribution_recur_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_contribution_recur_payment_token_id FOREIGN KEY (`payment_token_id`) REFERENCES `civicrm_payment_token`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_contribution_recur_payment_processor_id FOREIGN KEY (`payment_processor_id`) REFERENCES `civicrm_payment_processor`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_contribution_recur_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_contribution_recur_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_financial_trxn
-- *
-- *******************************************************/
CREATE TABLE `civicrm_financial_trxn` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `from_financial_account_id` int unsigned    COMMENT '',
     `to_financial_account_id` int unsigned    COMMENT '',
     `trxn_date` datetime   DEFAULT NULL COMMENT '',
     `total_amount` decimal(20,2) NOT NULL   COMMENT '',
     `fee_amount` decimal(20,2)    COMMENT '',
     `net_amount` decimal(20,2)    COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `is_payment` tinyint   DEFAULT 0 COMMENT '',
     `trxn_id` varchar(255)    COMMENT '',
     `trxn_result_code` varchar(255)    COMMENT '',
     `status_id` int unsigned    COMMENT '',
     `payment_processor_id` int unsigned    COMMENT '',
     `payment_instrument_id` int unsigned    COMMENT '',
     `check_number` varchar(255)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_ftrxn_trxn_id`(
        trxn_id
  )
  ,     INDEX `UI_ftrxn_payment_instrument_id`(
        payment_instrument_id
  )
  ,     INDEX `UI_ftrxn_check_number`(
        check_number
  )
  
,          CONSTRAINT FK_civicrm_financial_trxn_from_financial_account_id FOREIGN KEY (`from_financial_account_id`) REFERENCES `civicrm_financial_account`(`id`) ,          CONSTRAINT FK_civicrm_financial_trxn_to_financial_account_id FOREIGN KEY (`to_financial_account_id`) REFERENCES `civicrm_financial_account`(`id`) ,          CONSTRAINT FK_civicrm_financial_trxn_payment_processor_id FOREIGN KEY (`payment_processor_id`) REFERENCES `civicrm_payment_processor`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_membership
-- *
-- * Contact Membership records.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_membership` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `membership_type_id` int unsigned NOT NULL   COMMENT '',
     `join_date` date    COMMENT '',
     `start_date` date    COMMENT '',
     `end_date` date    COMMENT '',
     `source` varchar(128)    ,
     `status_id` int unsigned NOT NULL   COMMENT '',
     `is_override` tinyint    COMMENT '',
     `owner_membership_id` int unsigned    COMMENT '',
     `max_related` int    COMMENT '',
     `is_test` tinyint   DEFAULT 0 ,
     `is_pay_later` tinyint   DEFAULT 0 ,
     `contribution_recur_id` int unsigned    COMMENT '',
     `campaign_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_owner_membership_id`(
        owner_membership_id
  )
  
,          CONSTRAINT FK_civicrm_membership_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_membership_membership_type_id FOREIGN KEY (`membership_type_id`) REFERENCES `civicrm_membership_type`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_membership_status_id FOREIGN KEY (`status_id`) REFERENCES `civicrm_membership_status`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_membership_owner_membership_id FOREIGN KEY (`owner_membership_id`) REFERENCES `civicrm_membership`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_membership_contribution_recur_id FOREIGN KEY (`contribution_recur_id`) REFERENCES `civicrm_contribution_recur`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_membership_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_membership_log
-- *
-- * Logs actions which affect a Membership record (signup, status override, renewal, etc.)
-- *
-- *******************************************************/
CREATE TABLE `civicrm_membership_log` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `membership_id` int unsigned NOT NULL   COMMENT '',
     `status_id` int unsigned NOT NULL   COMMENT '',
     `start_date` date    COMMENT '',
     `end_date` date    COMMENT '',
     `modified_id` int unsigned    COMMENT '',
     `modified_date` date    COMMENT '',
     `membership_type_id` int unsigned    COMMENT '',
     `max_related` int    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_membership_log_membership_id FOREIGN KEY (`membership_id`) REFERENCES `civicrm_membership`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_membership_log_status_id FOREIGN KEY (`status_id`) REFERENCES `civicrm_membership_status`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_membership_log_modified_id FOREIGN KEY (`modified_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_membership_log_membership_type_id FOREIGN KEY (`membership_type_id`) REFERENCES `civicrm_membership_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_activity
-- *
-- * Other Activity  details stored here include contact, location, details.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_activity` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `source_record_id` int unsigned    COMMENT '',
     `activity_type_id` int unsigned NOT NULL  DEFAULT 1 COMMENT '',
     `subject` varchar(255)    COMMENT '',
     `activity_date_time` datetime    COMMENT '',
     `duration` int unsigned    COMMENT '',
     `location` varchar(255)    COMMENT '',
     `phone_id` int unsigned    COMMENT '',
     `phone_number` varchar(64)    COMMENT '',
     `details` longtext    COMMENT '',
     `status_id` int unsigned    COMMENT '',
     `priority_id` int unsigned    COMMENT '',
     `parent_id` int unsigned    COMMENT '',
     `is_test` tinyint   DEFAULT 0 ,
     `medium_id` int unsigned   DEFAULT NULL COMMENT '',
     `is_auto` tinyint   DEFAULT 0 ,
     `relationship_id` int unsigned   DEFAULT NULL COMMENT '',
     `is_current_revision` tinyint   DEFAULT 1 ,
     `original_id` int unsigned    COMMENT '',
     `result` varchar(255)    COMMENT '',
     `is_deleted` tinyint   DEFAULT 0 ,
     `campaign_id` int unsigned    COMMENT '',
     `engagement_level` int unsigned    COMMENT '',
     `weight` int     
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_source_record_id`(
        source_record_id
  )
  ,     INDEX `UI_activity_type_id`(
        activity_type_id
  )
  ,     INDEX `index_medium_id`(
        medium_id
  )
  ,     INDEX `index_is_current_revision`(
        is_current_revision
  )
  ,     INDEX `index_is_deleted`(
        is_deleted
  )
  
,          CONSTRAINT FK_civicrm_activity_phone_id FOREIGN KEY (`phone_id`) REFERENCES `civicrm_phone`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_activity_parent_id FOREIGN KEY (`parent_id`) REFERENCES `civicrm_activity`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_activity_relationship_id FOREIGN KEY (`relationship_id`) REFERENCES `civicrm_relationship`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_activity_original_id FOREIGN KEY (`original_id`) REFERENCES `civicrm_activity`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_activity_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_activity_contact
-- *
-- * Activity Contact
-- *
-- *******************************************************/
CREATE TABLE `civicrm_activity_contact` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `activity_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `record_type_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_activity_contact`(
        contact_id
      , activity_id
      , record_type_id
  )
  ,     INDEX `index_record_type`(
        activity_id
      , record_type_id
  )
  
,          CONSTRAINT FK_civicrm_activity_contact_activity_id FOREIGN KEY (`activity_id`) REFERENCES `civicrm_activity`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_activity_contact_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_case_activity
-- *
-- * Joining table for case-activity associations.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_case_activity` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `case_id` int unsigned NOT NULL   COMMENT '',
     `activity_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_case_activity_id`(
        case_id
      , activity_id
  )
  
,          CONSTRAINT FK_civicrm_case_activity_case_id FOREIGN KEY (`case_id`) REFERENCES `civicrm_case`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_case_activity_activity_id FOREIGN KEY (`activity_id`) REFERENCES `civicrm_activity`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_price_field
-- *
-- *******************************************************/
CREATE TABLE `civicrm_price_field` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `price_set_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(255) NOT NULL   COMMENT '',
     `label` varchar(255) NOT NULL   COMMENT '',
     `html_type` varchar(12) NOT NULL   ,
     `is_enter_qty` tinyint   DEFAULT 0 COMMENT '',
     `help_pre` text    COMMENT '',
     `help_post` text    COMMENT '',
     `weight` int   DEFAULT 1 COMMENT '',
     `is_display_amounts` tinyint   DEFAULT 1 COMMENT '',
     `options_per_line` int unsigned   DEFAULT 1 COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `is_required` tinyint   DEFAULT 1 COMMENT '',
     `active_on` datetime   DEFAULT NULL COMMENT '',
     `expire_on` datetime   DEFAULT NULL COMMENT '',
     `javascript` varchar(255)    COMMENT '',
     `visibility_id` int unsigned   DEFAULT 1 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_name`(
        name
  )
  
,          CONSTRAINT FK_civicrm_price_field_price_set_id FOREIGN KEY (`price_set_id`) REFERENCES `civicrm_price_set`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_price_field_value
-- *
-- *******************************************************/
CREATE TABLE `civicrm_price_field_value` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `price_field_id` int unsigned NOT NULL   COMMENT '',
     `name` varchar(255)    COMMENT '',
     `label` varchar(255)    COMMENT '',
     `description` text   DEFAULT NULL COMMENT '',
     `amount` varchar(512) NOT NULL   COMMENT '',
     `count` int unsigned   DEFAULT NULL COMMENT '',
     `max_value` int unsigned   DEFAULT NULL COMMENT '',
     `weight` int   DEFAULT 1 COMMENT '',
     `membership_type_id` int unsigned   DEFAULT NULL COMMENT '',
     `membership_num_terms` int unsigned   DEFAULT NULL COMMENT '',
     `is_default` tinyint   DEFAULT 0 COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `financial_type_id` int unsigned   DEFAULT NULL COMMENT '',
     `deductible_amount` decimal(20,2) NOT NULL  DEFAULT 0.0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_price_field_value_price_field_id FOREIGN KEY (`price_field_id`) REFERENCES `civicrm_price_field`(`id`) ,          CONSTRAINT FK_civicrm_price_field_value_membership_type_id FOREIGN KEY (`membership_type_id`) REFERENCES `civicrm_membership_type`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_price_field_value_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_pcp_block
-- *
-- * A Personal Campaign Page Block stores admin configurable status options and rules
-- *
-- *******************************************************/
CREATE TABLE `civicrm_pcp_block` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64)    ,
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `target_entity_type` varchar(255) NOT NULL  DEFAULT 'contribute' COMMENT '',
     `target_entity_id` int unsigned NOT NULL   COMMENT '',
     `supporter_profile_id` int unsigned   DEFAULT NULL COMMENT '',
     `owner_notify_id` int unsigned   DEFAULT 0 COMMENT '',
     `is_approval_needed` tinyint   DEFAULT NULL COMMENT '',
     `is_tellfriend_enabled` tinyint   DEFAULT NULL COMMENT '',
     `tellfriend_limit` int unsigned   DEFAULT NULL COMMENT '',
     `link_text` varchar(255)   DEFAULT NULL COMMENT '',
     `is_active` tinyint   DEFAULT 1 COMMENT '',
     `notify_email` varchar(255)   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_pcp_block_supporter_profile_id FOREIGN KEY (`supporter_profile_id`) REFERENCES `civicrm_uf_group`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_address
-- *
-- * Stores the physical street / mailing address. This format should be capable of storing ALL international addresses.
-- *
-- *******************************************************/
CREATE TABLE `civicrm_address` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned    COMMENT '',
     `location_type_id` int unsigned    COMMENT '',
     `is_primary` tinyint   DEFAULT 0 COMMENT '',
     `is_billing` tinyint   DEFAULT 0 COMMENT '',
     `street_address` varchar(96)    COMMENT '',
     `street_number` int    COMMENT '',
     `street_number_suffix` varchar(8)    COMMENT '',
     `street_number_predirectional` varchar(8)    COMMENT '',
     `street_name` varchar(64)    COMMENT '',
     `street_type` varchar(8)    COMMENT '',
     `street_number_postdirectional` varchar(8)    COMMENT '',
     `street_unit` varchar(16)    COMMENT '',
     `supplemental_address_1` varchar(96)    COMMENT '',
     `supplemental_address_2` varchar(96)    COMMENT '',
     `supplemental_address_3` varchar(96)    COMMENT '',
     `city` varchar(64)    COMMENT '',
     `county_id` int unsigned    COMMENT '',
     `state_province_id` int unsigned    COMMENT '',
     `postal_code_suffix` varchar(12)    COMMENT '',
     `postal_code` varchar(12)    COMMENT '',
     `usps_adc` varchar(32)    COMMENT '',
     `country_id` int unsigned    COMMENT '',
     `geo_code_1` double    COMMENT '',
     `geo_code_2` double    COMMENT '',
     `manual_geo_code` tinyint   DEFAULT 0 COMMENT '',
     `timezone` varchar(8)    COMMENT '',
     `name` varchar(255)    ,
     `master_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_location_type`(
        location_type_id
  )
  ,     INDEX `index_is_primary`(
        is_primary
  )
  ,     INDEX `index_is_billing`(
        is_billing
  )
  ,     INDEX `index_street_name`(
        street_name
  )
  ,     INDEX `index_city`(
        city
  )
  
,          CONSTRAINT FK_civicrm_address_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_address_county_id FOREIGN KEY (`county_id`) REFERENCES `civicrm_county`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_address_state_province_id FOREIGN KEY (`state_province_id`) REFERENCES `civicrm_state_province`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_address_country_id FOREIGN KEY (`country_id`) REFERENCES `civicrm_country`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_address_master_id FOREIGN KEY (`master_id`) REFERENCES `civicrm_address`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_loc_block
-- *
-- * Define location specific properties
-- *
-- *******************************************************/
CREATE TABLE `civicrm_loc_block` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `address_id` int unsigned    ,
     `email_id` int unsigned    ,
     `phone_id` int unsigned    ,
     `im_id` int unsigned    ,
     `address_2_id` int unsigned    ,
     `email_2_id` int unsigned    ,
     `phone_2_id` int unsigned    ,
     `im_2_id` int unsigned     
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_loc_block_address_id FOREIGN KEY (`address_id`) REFERENCES `civicrm_address`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_loc_block_email_id FOREIGN KEY (`email_id`) REFERENCES `civicrm_email`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_loc_block_phone_id FOREIGN KEY (`phone_id`) REFERENCES `civicrm_phone`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_loc_block_im_id FOREIGN KEY (`im_id`) REFERENCES `civicrm_im`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_loc_block_address_2_id FOREIGN KEY (`address_2_id`) REFERENCES `civicrm_address`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_loc_block_email_2_id FOREIGN KEY (`email_2_id`) REFERENCES `civicrm_email`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_loc_block_phone_2_id FOREIGN KEY (`phone_2_id`) REFERENCES `civicrm_phone`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_loc_block_im_2_id FOREIGN KEY (`im_2_id`) REFERENCES `civicrm_im`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_group_contact
-- *
-- * Join table sets membership for 'static' groups. Also used to store 'opt-out' entries for 'query' type groups (status = 'OUT') 
-- *
-- *******************************************************/
CREATE TABLE `civicrm_group_contact` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `group_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `status` varchar(8)    COMMENT '',
     `location_id` int unsigned    COMMENT '',
     `email_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_contact_group`(
        contact_id
      , group_id
  )
  
,          CONSTRAINT FK_civicrm_group_contact_group_id FOREIGN KEY (`group_id`) REFERENCES `civicrm_group`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_group_contact_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_group_contact_location_id FOREIGN KEY (`location_id`) REFERENCES `civicrm_loc_block`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_group_contact_email_id FOREIGN KEY (`email_id`) REFERENCES `civicrm_email`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_contribution
-- *
-- *******************************************************/
CREATE TABLE `civicrm_contribution` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `financial_type_id` int unsigned    COMMENT '',
     `contribution_page_id` int unsigned    COMMENT '',
     `payment_instrument_id` int unsigned    COMMENT '',
     `receive_date` datetime    COMMENT '',
     `non_deductible_amount` decimal(20,2)   DEFAULT 0 COMMENT '',
     `total_amount` decimal(20,2) NOT NULL   COMMENT '',
     `fee_amount` decimal(20,2)    COMMENT '',
     `net_amount` decimal(20,2)    COMMENT '',
     `trxn_id` varchar(255)    COMMENT '',
     `invoice_id` varchar(255)    COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `cancel_date` datetime    COMMENT '',
     `cancel_reason` text    ,
     `receipt_date` datetime    COMMENT '',
     `thankyou_date` datetime    COMMENT '',
     `source` varchar(255)    COMMENT '',
     `amount_level` text    ,
     `contribution_recur_id` int unsigned    COMMENT '',
     `is_test` tinyint   DEFAULT 0 ,
     `is_pay_later` tinyint   DEFAULT 0 ,
     `contribution_status_id` int unsigned   DEFAULT 1 ,
     `address_id` int unsigned    COMMENT '',
     `check_number` varchar(255)    ,
     `campaign_id` int unsigned    COMMENT '',
     `creditnote_id` varchar(255)    COMMENT '',
     `tax_amount` decimal(20,2)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_contrib_payment_instrument_id`(
        payment_instrument_id
  )
  ,     INDEX `index_total_amount_receive_date`(
        total_amount
      , receive_date
  )
  ,     INDEX `index_source`(
        source
  )
  ,     UNIQUE INDEX `UI_contrib_trxn_id`(
        trxn_id
  )
  ,     UNIQUE INDEX `UI_contrib_invoice_id`(
        invoice_id
  )
  ,     INDEX `index_contribution_status`(
        contribution_status_id
  )
  ,     INDEX `received_date`(
        receive_date
  )
  ,     INDEX `check_number`(
        check_number
  )
  ,     INDEX `index_creditnote_id`(
        creditnote_id
  )
  
,          CONSTRAINT FK_civicrm_contribution_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_contribution_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ,          CONSTRAINT FK_civicrm_contribution_contribution_page_id FOREIGN KEY (`contribution_page_id`) REFERENCES `civicrm_contribution_page`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_contribution_contribution_recur_id FOREIGN KEY (`contribution_recur_id`) REFERENCES `civicrm_contribution_recur`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_contribution_address_id FOREIGN KEY (`address_id`) REFERENCES `civicrm_address`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_contribution_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_contribution_product
-- *
-- *******************************************************/
CREATE TABLE `civicrm_contribution_product` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `product_id` int unsigned NOT NULL   ,
     `contribution_id` int unsigned NOT NULL   ,
     `product_option` varchar(255)    COMMENT '',
     `quantity` int    ,
     `fulfilled_date` date    COMMENT '',
     `start_date` date    COMMENT '',
     `end_date` date    COMMENT '',
     `comment` text    ,
     `financial_type_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_contribution_product_contribution_id FOREIGN KEY (`contribution_id`) REFERENCES `civicrm_contribution`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_contribution_product_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_contribution_soft
-- *
-- *******************************************************/
CREATE TABLE `civicrm_contribution_soft` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contribution_id` int unsigned NOT NULL   COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `amount` decimal(20,2) NOT NULL   COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `pcp_id` int unsigned   DEFAULT NULL COMMENT '',
     `pcp_display_in_roll` tinyint   DEFAULT 0 ,
     `pcp_roll_nickname` varchar(255)   DEFAULT NULL ,
     `pcp_personal_note` varchar(255)   DEFAULT NULL ,
     `soft_credit_type_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_id`(
        pcp_id
  )
  
,          CONSTRAINT FK_civicrm_contribution_soft_contribution_id FOREIGN KEY (`contribution_id`) REFERENCES `civicrm_contribution`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_contribution_soft_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_contribution_soft_pcp_id FOREIGN KEY (`pcp_id`) REFERENCES `civicrm_pcp`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_entity_financial_trxn
-- *
-- *******************************************************/
CREATE TABLE `civicrm_entity_financial_trxn` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   ,
     `financial_trxn_id` int unsigned    ,
     `amount` decimal(20,2) NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `UI_entity_financial_trxn_entity_table`(
        entity_table
  )
  ,     INDEX `UI_entity_financial_trxn_entity_id`(
        entity_id
  )
  
,          CONSTRAINT FK_civicrm_entity_financial_trxn_financial_trxn_id FOREIGN KEY (`financial_trxn_id`) REFERENCES `civicrm_financial_trxn`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_membership_payment
-- *
-- * Membership Payment
-- *
-- *******************************************************/
CREATE TABLE `civicrm_membership_payment` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `membership_id` int unsigned NOT NULL   COMMENT '',
     `contribution_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_contribution_membership`(
        contribution_id
      , membership_id
  )
  
,          CONSTRAINT FK_civicrm_membership_payment_membership_id FOREIGN KEY (`membership_id`) REFERENCES `civicrm_membership`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_membership_payment_contribution_id FOREIGN KEY (`contribution_id`) REFERENCES `civicrm_contribution`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_event
-- *
-- *******************************************************/
CREATE TABLE `civicrm_event` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `title` varchar(255)    COMMENT '',
     `summary` text    COMMENT '',
     `description` text    COMMENT '',
     `event_type_id` int unsigned   DEFAULT 0 COMMENT '',
     `participant_listing_id` int unsigned   DEFAULT 0 COMMENT '',
     `is_public` tinyint   DEFAULT 1 COMMENT '',
     `start_date` datetime    COMMENT '',
     `end_date` datetime    COMMENT '',
     `is_online_registration` tinyint   DEFAULT 0 COMMENT '',
     `registration_link_text` varchar(255)    COMMENT '',
     `registration_start_date` datetime    COMMENT '',
     `registration_end_date` datetime    COMMENT '',
     `max_participants` int unsigned   DEFAULT NULL COMMENT '',
     `event_full_text` text    COMMENT '',
     `is_monetary` tinyint   DEFAULT 0 COMMENT '',
     `financial_type_id` int unsigned   DEFAULT NULL COMMENT '',
     `payment_processor` varchar(128)    COMMENT '',
     `is_map` tinyint   DEFAULT 0 COMMENT '',
     `is_active` tinyint   DEFAULT 0 COMMENT '',
     `fee_label` varchar(255)    ,
     `is_show_location` tinyint   DEFAULT 1 COMMENT '',
     `loc_block_id` int unsigned    COMMENT '',
     `default_role_id` int unsigned   DEFAULT 1 COMMENT '',
     `intro_text` text    COMMENT '',
     `footer_text` text    COMMENT '',
     `confirm_title` varchar(255)   DEFAULT NULL COMMENT '',
     `confirm_text` text    COMMENT '',
     `confirm_footer_text` text    COMMENT '',
     `is_email_confirm` tinyint   DEFAULT 0 COMMENT '',
     `confirm_email_text` text    COMMENT '',
     `confirm_from_name` varchar(255)    COMMENT '',
     `confirm_from_email` varchar(255)    COMMENT '',
     `cc_confirm` varchar(255)    COMMENT '',
     `bcc_confirm` varchar(255)    COMMENT '',
     `default_fee_id` int unsigned    COMMENT '',
     `default_discount_fee_id` int unsigned    COMMENT '',
     `thankyou_title` varchar(255)   DEFAULT NULL COMMENT '',
     `thankyou_text` text    COMMENT '',
     `thankyou_footer_text` text    COMMENT '',
     `is_pay_later` tinyint   DEFAULT 0 COMMENT '',
     `pay_later_text` text    COMMENT '',
     `pay_later_receipt` text    COMMENT '',
     `is_partial_payment` tinyint   DEFAULT 0 COMMENT '',
     `initial_amount_label` varchar(255)    COMMENT '',
     `initial_amount_help_text` text    COMMENT '',
     `min_initial_amount` decimal(20,2)    COMMENT '',
     `is_multiple_registrations` tinyint   DEFAULT 0 COMMENT '',
     `max_additional_participants` int unsigned   DEFAULT 0 COMMENT '',
     `allow_same_participant_emails` tinyint   DEFAULT 0 COMMENT '',
     `has_waitlist` tinyint    COMMENT '',
     `requires_approval` tinyint    COMMENT '',
     `expiration_time` int unsigned    COMMENT '',
     `allow_selfcancelxfer` tinyint   DEFAULT 0 COMMENT '',
     `selfcancelxfer_time` int unsigned   DEFAULT 0 COMMENT '',
     `waitlist_text` text    COMMENT '',
     `approval_req_text` text    COMMENT '',
     `is_template` tinyint NOT NULL  DEFAULT 0 COMMENT '',
     `template_title` varchar(255)    COMMENT '',
     `created_id` int unsigned    COMMENT '',
     `created_date` datetime    COMMENT '',
     `currency` varchar(3)    COMMENT '',
     `campaign_id` int unsigned    COMMENT '',
     `is_share` tinyint   DEFAULT 1 COMMENT '',
     `is_confirm_enabled` tinyint   DEFAULT 1 COMMENT '',
     `parent_event_id` int unsigned   DEFAULT NULL COMMENT '',
     `slot_label_id` int unsigned   DEFAULT NULL COMMENT '',
     `dedupe_rule_group_id` int unsigned   DEFAULT NULL COMMENT '',
     `is_billing_required` tinyint   DEFAULT 0 COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_event_type_id`(
        event_type_id
  )
  ,     INDEX `index_participant_listing_id`(
        participant_listing_id
  )
  ,     INDEX `index_parent_event_id`(
        parent_event_id
  )
  
,          CONSTRAINT FK_civicrm_event_loc_block_id FOREIGN KEY (`loc_block_id`) REFERENCES `civicrm_loc_block`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_event_created_id FOREIGN KEY (`created_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_event_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_event_dedupe_rule_group_id FOREIGN KEY (`dedupe_rule_group_id`) REFERENCES `civicrm_dedupe_rule_group`(`id`)   
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_participant
-- *
-- *******************************************************/
CREATE TABLE `civicrm_participant` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `contact_id` int unsigned NOT NULL   COMMENT '',
     `event_id` int unsigned NOT NULL   COMMENT '',
     `status_id` int unsigned NOT NULL  DEFAULT 1 COMMENT '',
     `role_id` varchar(128)   DEFAULT NULL COMMENT '',
     `register_date` datetime    COMMENT '',
     `source` varchar(128)    COMMENT '',
     `fee_level` text    COMMENT '',
     `is_test` tinyint   DEFAULT 0 ,
     `is_pay_later` tinyint   DEFAULT 0 ,
     `fee_amount` decimal(20,2)    COMMENT '',
     `registered_by_id` int unsigned   DEFAULT NULL COMMENT '',
     `discount_id` int unsigned   DEFAULT NULL COMMENT '',
     `fee_currency` varchar(3)   DEFAULT NULL COMMENT '',
     `campaign_id` int unsigned    COMMENT '',
     `discount_amount` int unsigned    COMMENT '',
     `cart_id` int unsigned    COMMENT '',
     `must_wait` int    COMMENT '',
     `transferred_to_contact_id` int unsigned   DEFAULT NULL COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_status_id`(
        status_id
  )
  ,     INDEX `index_role_id`(
        role_id
  )
  
,          CONSTRAINT FK_civicrm_participant_contact_id FOREIGN KEY (`contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_participant_event_id FOREIGN KEY (`event_id`) REFERENCES `civicrm_event`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_participant_status_id FOREIGN KEY (`status_id`) REFERENCES `civicrm_participant_status_type`(`id`) ,          CONSTRAINT FK_civicrm_participant_registered_by_id FOREIGN KEY (`registered_by_id`) REFERENCES `civicrm_participant`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_participant_discount_id FOREIGN KEY (`discount_id`) REFERENCES `civicrm_discount`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_participant_campaign_id FOREIGN KEY (`campaign_id`) REFERENCES `civicrm_campaign`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_participant_cart_id FOREIGN KEY (`cart_id`) REFERENCES `civicrm_event_carts`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_participant_transferred_to_contact_id FOREIGN KEY (`transferred_to_contact_id`) REFERENCES `civicrm_contact`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_participant_payment
-- *
-- *******************************************************/
CREATE TABLE `civicrm_participant_payment` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `participant_id` int unsigned NOT NULL   COMMENT '',
     `contribution_id` int unsigned NOT NULL   COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     UNIQUE INDEX `UI_contribution_participant`(
        contribution_id
      , participant_id
  )
  
,          CONSTRAINT FK_civicrm_participant_payment_participant_id FOREIGN KEY (`participant_id`) REFERENCES `civicrm_participant`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_participant_payment_contribution_id FOREIGN KEY (`contribution_id`) REFERENCES `civicrm_contribution`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_events_in_carts
-- *
-- *******************************************************/
CREATE TABLE `civicrm_events_in_carts` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `event_id` int unsigned    COMMENT '',
     `event_cart_id` int unsigned    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
 
,          CONSTRAINT FK_civicrm_events_in_carts_event_id FOREIGN KEY (`event_id`) REFERENCES `civicrm_event`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_events_in_carts_event_cart_id FOREIGN KEY (`event_cart_id`) REFERENCES `civicrm_event_carts`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_pledge_payment
-- *
-- * Pledge Payment
-- *
-- *******************************************************/
CREATE TABLE `civicrm_pledge_payment` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  ,
     `pledge_id` int unsigned NOT NULL   COMMENT '',
     `contribution_id` int unsigned    COMMENT '',
     `scheduled_amount` decimal(20,2) NOT NULL   COMMENT '',
     `actual_amount` decimal(20,2)    COMMENT '',
     `currency` varchar(3)   DEFAULT NULL COMMENT '',
     `scheduled_date` datetime NOT NULL   COMMENT '',
     `reminder_date` datetime    COMMENT '',
     `reminder_count` int unsigned   DEFAULT 0 COMMENT '',
     `status_id` int unsigned     
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_contribution_pledge`(
        contribution_id
      , pledge_id
  )
  ,     INDEX `index_status`(
        status_id
  )
  
,          CONSTRAINT FK_civicrm_pledge_payment_pledge_id FOREIGN KEY (`pledge_id`) REFERENCES `civicrm_pledge`(`id`) ON DELETE CASCADE,          CONSTRAINT FK_civicrm_pledge_payment_contribution_id FOREIGN KEY (`contribution_id`) REFERENCES `civicrm_contribution`(`id`) ON DELETE CASCADE  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

-- /*******************************************************
-- *
-- * civicrm_line_item
-- *
-- *******************************************************/
CREATE TABLE `civicrm_line_item` (


     `id` int unsigned NOT NULL AUTO_INCREMENT  COMMENT '',
     `entity_table` varchar(64) NOT NULL   COMMENT '',
     `entity_id` int unsigned NOT NULL   COMMENT '',
     `contribution_id` int unsigned    COMMENT '',
     `price_field_id` int unsigned    COMMENT '',
     `label` varchar(255)   DEFAULT NULL COMMENT '',
     `qty` decimal(20,2) NOT NULL   COMMENT '',
     `unit_price` decimal(20,2) NOT NULL   COMMENT '',
     `line_total` decimal(20,2) NOT NULL   COMMENT '',
     `participant_count` int unsigned   DEFAULT NULL COMMENT '',
     `price_field_value_id` int unsigned   DEFAULT NULL COMMENT '',
     `financial_type_id` int unsigned   DEFAULT NULL COMMENT '',
     `deductible_amount` decimal(20,2) NOT NULL  DEFAULT 0.0 COMMENT '',
     `tax_amount` decimal(20,2)    COMMENT '' 
,
    PRIMARY KEY ( `id` )
 
    ,     INDEX `index_entity`(
        entity_table
      , entity_id
  )
  ,     UNIQUE INDEX `UI_line_item_value`(
        entity_table
      , entity_id
      , contribution_id
      , price_field_value_id
      , price_field_id
  )
  
,          CONSTRAINT FK_civicrm_line_item_contribution_id FOREIGN KEY (`contribution_id`) REFERENCES `civicrm_contribution`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_line_item_price_field_id FOREIGN KEY (`price_field_id`) REFERENCES `civicrm_price_field`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_line_item_price_field_value_id FOREIGN KEY (`price_field_value_id`) REFERENCES `civicrm_price_field_value`(`id`) ON DELETE SET NULL,          CONSTRAINT FK_civicrm_line_item_financial_type_id FOREIGN KEY (`financial_type_id`) REFERENCES `civicrm_financial_type`(`id`) ON DELETE SET NULL  
)  ENGINE=InnoDB DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci  ;

 
