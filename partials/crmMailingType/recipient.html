<!--
Controller: MailCtrl
Required vars: currentMailing
Remove duplicates not functional
-->

<form name="editMailingFormStep1" unsaved-warning-form>
  <div class="crm-block crm-form-block crmMailing">
    <br>
    <table class="form-layout-compressed">
      <tbody>
      <tr>
        <td class="label">Name your Mailing *</td>
        <td>
          <input placeholder="New Mail" name="name" type="text" required ng-model="currentMailing.name"/>
        </td>
      </tr>
      <tr>
        <td class="label">Campaign</td>
        <td class="addRow">
          <select ng-model="currentMailing.campaign_id"
                  ng-options="camp.id as camp.name for camp in campaignList|orderBy:'name'">
            <option value="">Please select a campaign</option>
          </select>
        </td>
      </tr>
      <tr>
        <td class="label">Remove Duplicates?</td>
        <td>
          <input type="checkbox" ng-model="currentMailing.dedupe_email" ng-true-value="1" ng-false-value="0"/>
        </td>
      </tr>
      </tbody>
    </table>
    <br>

    <div class="crm-accordion-wrapper">
      <div class="crm-accordion-header">Mailing Recipients</div>
      <div class="crm-accordion-body" ng-include="partialUrl('mailingGroup.html')"></div>
    </div>
    <div class="crm-submit-buttons">
      <span class="crm-button">
        <input nexttab type="submit" ng-click="editMailingFormStep1.$setPristine(); save_next_page1()" value="Next"/>
      </span>
      <span class="crm-button">
        <input type="submit" ng-click="editMailingFormStep1.$setPristine(); save_page1()"
               value="Save and Continue Later"/>
      </span>
      <span class="crm-button">
        <input type="submit" ng-click="back()" value="Cancel"/>
      </span>
    </div>
  </div>
</form>


