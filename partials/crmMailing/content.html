<!--
Controller: MailCtrl
Required Variables: cool_api and currentMailing and fromAddress
-->
<form name="editMailingFormStep2" unsaved-warning-form>
  <div class="crm-block crm-form-block crmMailing">
<br>
<table class="form-layout-compressed">
  <tbody>
  <tr>
    <td class="label">From E-mail Address</td>
    <td>
      <select  style="width: 200px" ng-model="from.total" ng-options="frm.label as frm.label for frm in fromAddress">
        <option value="">-none-</option>
      </select>
    </td>
  </tr>
  <tr>
    <td class="label">Reply to E-mail Address</td>
    <td>
      <select  style="width: 200px" ng-model="currentMailing.replyto_email" ng-options="frm.email as frm.email for frm in replyaddress">
        <option value="">-none-</option>
      </select>
    </td>
  </tr>
  <tr>
    <td class="label">Mailing Subject</td>
    <td>
      <input id="sub" placeholder="Enter Subject" required name="subject" type="text" ng-model="currentMailing.subject"/>
    </td>
  </tr>
  <tr>
    <td class="label"  style="color:red" ng-show="mailing_form.subject.$invalid">
      Mailing subject required.
    </td>
  </tr>
  <tr>
    <td class="label">Mailing Subject Token</td>
    <td>
      <input type="hidden" groupselect id="subgroup" ng-model="token" ></input>
    </td>
  </tr>
  <tr>
    <td class="label">Use Template</td>
    <td>
      <select ng-change="tmp(tst)" ng-model="tst" ng-options="mstemp.id as mstemp.msg_title for mstemp in tmpList">
        <option value="">-none-</option>
      </select>
    </td>
  </tr>
  </tbody>
</table>
<br>
<!--<div class="crm-accordion-wrapper collapsed" ng-show="upldChange(composeS)">
  <div class="crm-accordion-header">Compose on Screen</div>
  <div class="crm-accordion-body" ng-include="partialUrl('composeonScreen.html')"></div>
</div>-->

<br>
<div class="crm-accordion-wrapper ">
  <div class="crm-accordion-header">HTML Format</div>
  <div class="crm-accordion-body" ng-include="partialUrl('ht.html')"></div>
</div>

<div class="crm-accordion-wrapper collapsed">
  <div class="crm-accordion-header">Plain Text</div>
  <div class="crm-accordion-body" ng-include="partialUrl('plainText.html')"></div>
</div>

<div class="crm-accordion-wrapper collapsed">
  <div class="crm-accordion-header">Header and Footer</div>
  <div class="crm-accordion-body" ng-include="partialUrl('headerandFooter.html')"></div>
</div>

<div class="crm-accordion-wrapper collapsed">
  <div class="crm-accordion-header">Track and Respond</div>
  <div class="crm-accordion-body" ng-include="partialUrl('trackandRespond.html')"></div>
</div>
    <br>
    <div class="crm-submit-buttons">
      <span class="crm-button">
        <input prevtab type="submit" class="crm-button" value="Previous" />
      </span>
      <span class="crm-button">
        <input nexttab type="submit" ng-click="editMailingFormStep2.$setPristine(); save_next_page2()" value="Next" />
      </span>
      <span class="crm-button">
        <input type="submit" ng-click="editMailingFormStep2.$setPristine(); save()" value="Save and Continue Later" />
      </span>
      <span class="crm-button">
        <input type="submit" ng-click="back()" value="Cancel" />
      </span>
    </div>
  </div>
</form>



