<!--
Controller: CaseTypeCtrl
Required vars: caseType
-->
<div class="crm-block crm-form-block crmCaseType">
  <div ng-include="partialUrl('caseTypeDetails.html')"></div>

  <h2>Roles</h2>

  <div ng-include="partialUrl('rolesTable.html')"></div>

  <h2>Activities</h2>

  <div class="crmCaseType-acttab" ui-jq="tabs" ui-options="{show: true, hide: true}">
    <ul>
      <li><a href="#acttab-actType">Activity Types</a></li>
      <li ng-repeat="activitySet in caseType.definition.activitySets">
        <a href="#acttab-{{$index}}">{{ activitySet.label }}</a>
        <span class="ui-icon ui-icon-trash" title="Remove"
           ng-click="removeItem(caseType.definition.activitySets, activitySet)">Remove</span>
      </li>
      <select ng-model="newActivitySetWorkflow" ng-change="addActivitySet(newActivitySetWorkflow); newActivitySetWorkflow='';">
        <option value="">(Add)</option>
        <option value="timeline">Timeline</option>
        <option value="pipeline">Sequence</option>
      </select>
    </ul>

    <div id="acttab-actType">
      <div ng-include="partialUrl('activityTypesTable.html')"></div>
    </div>

    <div ng-repeat="activitySet in caseType.definition.activitySets" id="acttab-{{$index}}">
      <div ng-include="activityTableTemplate(activitySet)"></div>

      <div ui-jq="accordion" ui-options="{collapsible: true, active: false, heightStyle: 'fill'}">
        <h3>Advanced</h3>
        <div ng-include="partialUrl('activitySetDetails.html')" style="display:none;"></div>
      </div>
    </div>
  </div>

  <button ng-click="dump()">Log</button>
</div>
