<!--
Controller: CaseTypeCtrl
Required vars: caseType
-->
<table>
  <thead>
  <tr>
    <th>Activity Type</th>
    <th>Max Instances</th>
    <th></th>
  </tr>
  </thead>

  <tbody>
  <tr ng-repeat="activityType in caseType.definition.activityTypes">
    <td>
      {{ activityType.name }}
    </td>
    <td>
      <input type="number" ng-model="activityType.max_instances" />
    </td>
    <td>
      <a class="crm-hover-button" ng-click="removeItem(caseType.definition.activityTypes, activityType)">
        <span class="icon delete-icon" title="Remove"></span>
      </a>
    </td>
  </tr>
  <tr class="addRow">
    <td colspan="3">
      Add:
        <input
                ui-jq="autocomplete"
                ui-options="{source:activityTypeNames}"
                ng-model="newTimelineActivity"
                class="add-activity"
                />
        <button
                ng-class="{disabled: (newTimelineActivity == '' || newTimelineActivity == null)}"
                ng-disabled="newTimelineActivity == '' || newTimelineActivity == null"
                ng-click="addActivityType(newTimelineActivity); newTimelineActivity = ''"
                >Add</button>
      <!-- ng-click="addActivity(activitySet, newTimelineActivity); newTimelineActivity = ''" -->
    </td>
  </tr>
  </tbody>
</table>
