<div ng-controller="EditRecipCtrl" class="crm-mailing-recipients-row">
  <input
    type="hidden"
    crm-mailing-recipients
    ng-model="mailing.recipients"
    crm-mandatory-groups="crmMailingConst.groupNames | filter:{is_hidden:1}"
    crm-ui-id="{{crmMailingBlockRecipients.id}}"
    name="{{crmMailingBlockRecipients.name}}"
    ng-required="true" />
    <a crm-icon="fa-wrench" ng-click="editOptions(mailing)" class="crm-hover-button" title="{{:: ts('Edit Recipient Options') }}"></a>
    <div ng-style="{display: permitRecipientRebuild ? '' : 'inline-block'}">
      <button ng-click="rebuildRecipients()" ng-show="permitRecipientRebuild" class="crm-button" title="{{:: ts('Click to refresh recipient count') }}">{{getRecipientsEstimate()}}</button>
      <a ng-click="previewRecipients()" class="crm-hover-button" title="{{:: ts('Preview a List of Recipients') }}" style="font-weight: bold;">{{getRecipientCount()}}</a>
    </div>
</div>
