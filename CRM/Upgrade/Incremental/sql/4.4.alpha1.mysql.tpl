{include file='../CRM/Upgrade/4.4.alpha1.msg_template/civicrm_msg_template.tpl'}

-- CRM-12357
SELECT @option_group_id_cvOpt := max(id) FROM civicrm_option_group WHERE name = 'contact_view_options';
SELECT @max_val := MAX(ROUND(op.value)) FROM civicrm_option_value op  WHERE op.option_group_id  = @option_group_id_cvOpt;
SELECT @max_wt := MAX(ROUND(val.weight)) FROM civicrm_option_value val WHERE val.option_group_id = @option_group_id_cvOpt;

INSERT INTO
   `civicrm_option_value` (`option_group_id`, {localize field='label'}`label`{/localize}, `value`, `name`, `grouping`, `filter`, `is_default`, `weight`, `is_optgroup`, `is_reserved`, `is_active`, `component_id`, `visibility_id`)
VALUES
  (@option_group_id_cvOpt, {localize}'{ts escape="sql"}Mailings{/ts}'{/localize}, @max_val+1, 'CiviMail', NULL, 0, NULL,  @max_wt+1, 0, 0, 1, NULL, NULL);

INSERT INTO civicrm_setting
  (domain_id, contact_id, is_domain, group_name, name, value)
VALUES
  ({$domainID}, NULL, 1, 'Mailing Preferences', 'write_activity_record', '{serialize}1{/serialize}');

-- CRM-12291
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'US';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'AG';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'AI';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'AS';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'BB';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'BM';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'BS';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'CA';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'DM';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'DO';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'GD';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'GU';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'JM';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'KN';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'KY';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'LC';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'MP';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'MS';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'PR';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'TC';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'TT';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'VC';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'VG';
UPDATE civicrm_country SET country_code ='1' WHERE iso_code = 'VI';
UPDATE civicrm_country SET country_code ='7' WHERE iso_code = 'RU';
UPDATE civicrm_country SET country_code ='7' WHERE iso_code = 'KZ';
UPDATE civicrm_country SET country_code ='20' WHERE iso_code = 'EG';
UPDATE civicrm_country SET country_code ='27' WHERE iso_code = 'ZA';
UPDATE civicrm_country SET country_code ='30' WHERE iso_code = 'GR';
UPDATE civicrm_country SET country_code ='31' WHERE iso_code = 'NL';
UPDATE civicrm_country SET country_code ='32' WHERE iso_code = 'BE';
UPDATE civicrm_country SET country_code ='33' WHERE iso_code = 'FR';
UPDATE civicrm_country SET country_code ='34' WHERE iso_code = 'ES';
UPDATE civicrm_country SET country_code ='36' WHERE iso_code = 'HU';
UPDATE civicrm_country SET country_code ='39' WHERE iso_code = 'IT';
UPDATE civicrm_country SET country_code ='40' WHERE iso_code = 'RO';
UPDATE civicrm_country SET country_code ='41' WHERE iso_code = 'CH';
UPDATE civicrm_country SET country_code ='43' WHERE iso_code = 'AT';
UPDATE civicrm_country SET country_code ='44' WHERE iso_code = 'GB';
UPDATE civicrm_country SET country_code ='44' WHERE iso_code = 'GG';
UPDATE civicrm_country SET country_code ='44' WHERE iso_code = 'IM';
UPDATE civicrm_country SET country_code ='44' WHERE iso_code = 'JE';
UPDATE civicrm_country SET country_code ='45' WHERE iso_code = 'DK';
UPDATE civicrm_country SET country_code ='46' WHERE iso_code = 'SE';
UPDATE civicrm_country SET country_code ='47' WHERE iso_code = 'NO';
UPDATE civicrm_country SET country_code ='47' WHERE iso_code = 'SJ';
UPDATE civicrm_country SET country_code ='48' WHERE iso_code = 'PL';
UPDATE civicrm_country SET country_code ='49' WHERE iso_code = 'DE';
UPDATE civicrm_country SET country_code ='51' WHERE iso_code = 'PE';
UPDATE civicrm_country SET country_code ='52' WHERE iso_code = 'MX';
UPDATE civicrm_country SET country_code ='53' WHERE iso_code = 'CU';
UPDATE civicrm_country SET country_code ='54' WHERE iso_code = 'AR';
UPDATE civicrm_country SET country_code ='55' WHERE iso_code = 'BR';
UPDATE civicrm_country SET country_code ='56' WHERE iso_code = 'CL';
UPDATE civicrm_country SET country_code ='57' WHERE iso_code = 'CO';
UPDATE civicrm_country SET country_code ='58' WHERE iso_code = 'VE';
UPDATE civicrm_country SET country_code ='60' WHERE iso_code = 'MY';
UPDATE civicrm_country SET country_code ='61' WHERE iso_code = 'AU';
UPDATE civicrm_country SET country_code ='61' WHERE iso_code = 'CC';
UPDATE civicrm_country SET country_code ='61' WHERE iso_code = 'CX';
UPDATE civicrm_country SET country_code ='62' WHERE iso_code = 'ID';
UPDATE civicrm_country SET country_code ='63' WHERE iso_code = 'PH';
UPDATE civicrm_country SET country_code ='64' WHERE iso_code = 'NZ';
UPDATE civicrm_country SET country_code ='65' WHERE iso_code = 'SG';
UPDATE civicrm_country SET country_code ='66' WHERE iso_code = 'TH';
UPDATE civicrm_country SET country_code ='81' WHERE iso_code = 'JP';
UPDATE civicrm_country SET country_code ='82' WHERE iso_code = 'KR';
UPDATE civicrm_country SET country_code ='84' WHERE iso_code = 'VN';
UPDATE civicrm_country SET country_code ='86' WHERE iso_code = 'CN';
UPDATE civicrm_country SET country_code ='90' WHERE iso_code = 'TR';
UPDATE civicrm_country SET country_code ='91' WHERE iso_code = 'IN';
UPDATE civicrm_country SET country_code ='92' WHERE iso_code = 'PK';
UPDATE civicrm_country SET country_code ='93' WHERE iso_code = 'AF';
UPDATE civicrm_country SET country_code ='94' WHERE iso_code = 'LK';
UPDATE civicrm_country SET country_code ='95' WHERE iso_code = 'MM';
UPDATE civicrm_country SET country_code ='98' WHERE iso_code = 'IR';
UPDATE civicrm_country SET country_code ='212' WHERE iso_code = 'MA';
UPDATE civicrm_country SET country_code ='213' WHERE iso_code = 'DZ';
UPDATE civicrm_country SET country_code ='216' WHERE iso_code = 'TN';
UPDATE civicrm_country SET country_code ='218' WHERE iso_code = 'LY';
UPDATE civicrm_country SET country_code ='220' WHERE iso_code = 'GM';
UPDATE civicrm_country SET country_code ='221' WHERE iso_code = 'SN';
UPDATE civicrm_country SET country_code ='222' WHERE iso_code = 'MR';
UPDATE civicrm_country SET country_code ='223' WHERE iso_code = 'ML';
UPDATE civicrm_country SET country_code ='224' WHERE iso_code = 'GN';
UPDATE civicrm_country SET country_code ='225' WHERE iso_code = 'CI';
UPDATE civicrm_country SET country_code ='226' WHERE iso_code = 'BF';
UPDATE civicrm_country SET country_code ='227' WHERE iso_code = 'NE';
UPDATE civicrm_country SET country_code ='228' WHERE iso_code = 'TG';
UPDATE civicrm_country SET country_code ='229' WHERE iso_code = 'BJ';
UPDATE civicrm_country SET country_code ='230' WHERE iso_code = 'MU';
UPDATE civicrm_country SET country_code ='231' WHERE iso_code = 'LR';
UPDATE civicrm_country SET country_code ='232' WHERE iso_code = 'SL';
UPDATE civicrm_country SET country_code ='233' WHERE iso_code = 'GH';
UPDATE civicrm_country SET country_code ='234' WHERE iso_code = 'NG';
UPDATE civicrm_country SET country_code ='235' WHERE iso_code = 'TD';
UPDATE civicrm_country SET country_code ='236' WHERE iso_code = 'CF';
UPDATE civicrm_country SET country_code ='237' WHERE iso_code = 'CM';
UPDATE civicrm_country SET country_code ='238' WHERE iso_code = 'CV';
UPDATE civicrm_country SET country_code ='239' WHERE iso_code = 'ST';
UPDATE civicrm_country SET country_code ='240' WHERE iso_code = 'GQ';
UPDATE civicrm_country SET country_code ='241' WHERE iso_code = 'GA';
UPDATE civicrm_country SET country_code ='242' WHERE iso_code = 'CG';
UPDATE civicrm_country SET country_code ='243' WHERE iso_code = 'CD';
UPDATE civicrm_country SET country_code ='244' WHERE iso_code = 'AO';
UPDATE civicrm_country SET country_code ='245' WHERE iso_code = 'GW';
UPDATE civicrm_country SET country_code ='246' WHERE iso_code = 'IO';
UPDATE civicrm_country SET country_code ='247' WHERE iso_code = 'AC';
UPDATE civicrm_country SET country_code ='248' WHERE iso_code = 'SC';
UPDATE civicrm_country SET country_code ='249' WHERE iso_code = 'SD';
UPDATE civicrm_country SET country_code ='250' WHERE iso_code = 'RW';
UPDATE civicrm_country SET country_code ='251' WHERE iso_code = 'ET';
UPDATE civicrm_country SET country_code ='252' WHERE iso_code = 'SO';
UPDATE civicrm_country SET country_code ='253' WHERE iso_code = 'DJ';
UPDATE civicrm_country SET country_code ='254' WHERE iso_code = 'KE';
UPDATE civicrm_country SET country_code ='255' WHERE iso_code = 'TZ';
UPDATE civicrm_country SET country_code ='256' WHERE iso_code = 'UG';
UPDATE civicrm_country SET country_code ='257' WHERE iso_code = 'BI';
UPDATE civicrm_country SET country_code ='258' WHERE iso_code = 'MZ';
UPDATE civicrm_country SET country_code ='260' WHERE iso_code = 'ZM';
UPDATE civicrm_country SET country_code ='261' WHERE iso_code = 'MG';
UPDATE civicrm_country SET country_code ='262' WHERE iso_code = 'RE';
UPDATE civicrm_country SET country_code ='262' WHERE iso_code = 'YT';
UPDATE civicrm_country SET country_code ='263' WHERE iso_code = 'ZW';
UPDATE civicrm_country SET country_code ='264' WHERE iso_code = 'NA';
UPDATE civicrm_country SET country_code ='265' WHERE iso_code = 'MW';
UPDATE civicrm_country SET country_code ='266' WHERE iso_code = 'LS';
UPDATE civicrm_country SET country_code ='267' WHERE iso_code = 'BW';
UPDATE civicrm_country SET country_code ='268' WHERE iso_code = 'SZ';
UPDATE civicrm_country SET country_code ='269' WHERE iso_code = 'KM';
UPDATE civicrm_country SET country_code ='290' WHERE iso_code = 'SH';
UPDATE civicrm_country SET country_code ='291' WHERE iso_code = 'ER';
UPDATE civicrm_country SET country_code ='297' WHERE iso_code = 'AW';
UPDATE civicrm_country SET country_code ='298' WHERE iso_code = 'FO';
UPDATE civicrm_country SET country_code ='299' WHERE iso_code = 'GL';
UPDATE civicrm_country SET country_code ='350' WHERE iso_code = 'GI';
UPDATE civicrm_country SET country_code ='351' WHERE iso_code = 'PT';
UPDATE civicrm_country SET country_code ='352' WHERE iso_code = 'LU';
UPDATE civicrm_country SET country_code ='353' WHERE iso_code = 'IE';
UPDATE civicrm_country SET country_code ='354' WHERE iso_code = 'IS';
UPDATE civicrm_country SET country_code ='355' WHERE iso_code = 'AL';
UPDATE civicrm_country SET country_code ='356' WHERE iso_code = 'MT';
UPDATE civicrm_country SET country_code ='357' WHERE iso_code = 'CY';
UPDATE civicrm_country SET country_code ='358' WHERE iso_code = 'FI';
UPDATE civicrm_country SET country_code ='358' WHERE iso_code = 'AX';
UPDATE civicrm_country SET country_code ='359' WHERE iso_code = 'BG';
UPDATE civicrm_country SET country_code ='370' WHERE iso_code = 'LT';
UPDATE civicrm_country SET country_code ='371' WHERE iso_code = 'LV';
UPDATE civicrm_country SET country_code ='372' WHERE iso_code = 'EE';
UPDATE civicrm_country SET country_code ='373' WHERE iso_code = 'MD';
UPDATE civicrm_country SET country_code ='374' WHERE iso_code = 'AM';
UPDATE civicrm_country SET country_code ='375' WHERE iso_code = 'BY';
UPDATE civicrm_country SET country_code ='376' WHERE iso_code = 'AD';
UPDATE civicrm_country SET country_code ='377' WHERE iso_code = 'MC';
UPDATE civicrm_country SET country_code ='378' WHERE iso_code = 'SM';
UPDATE civicrm_country SET country_code ='379' WHERE iso_code = 'VA';
UPDATE civicrm_country SET country_code ='380' WHERE iso_code = 'UA';
UPDATE civicrm_country SET country_code ='381' WHERE iso_code = 'RS';
UPDATE civicrm_country SET country_code ='382' WHERE iso_code = 'ME';
UPDATE civicrm_country SET country_code ='385' WHERE iso_code = 'HR';
UPDATE civicrm_country SET country_code ='386' WHERE iso_code = 'SI';
UPDATE civicrm_country SET country_code ='387' WHERE iso_code = 'BA';
UPDATE civicrm_country SET country_code ='389' WHERE iso_code = 'MK';
UPDATE civicrm_country SET country_code ='420' WHERE iso_code = 'CZ';
UPDATE civicrm_country SET country_code ='421' WHERE iso_code = 'SK';
UPDATE civicrm_country SET country_code ='423' WHERE iso_code = 'LI';
UPDATE civicrm_country SET country_code ='500' WHERE iso_code = 'FK';
UPDATE civicrm_country SET country_code ='501' WHERE iso_code = 'BZ';
UPDATE civicrm_country SET country_code ='502' WHERE iso_code = 'GT';
UPDATE civicrm_country SET country_code ='503' WHERE iso_code = 'SV';
UPDATE civicrm_country SET country_code ='504' WHERE iso_code = 'HN';
UPDATE civicrm_country SET country_code ='505' WHERE iso_code = 'NI';
UPDATE civicrm_country SET country_code ='506' WHERE iso_code = 'CR';
UPDATE civicrm_country SET country_code ='507' WHERE iso_code = 'PA';
UPDATE civicrm_country SET country_code ='508' WHERE iso_code = 'PM';
UPDATE civicrm_country SET country_code ='509' WHERE iso_code = 'HT';
UPDATE civicrm_country SET country_code ='590' WHERE iso_code = 'GP';
UPDATE civicrm_country SET country_code ='590' WHERE iso_code = 'BL';
UPDATE civicrm_country SET country_code ='590' WHERE iso_code = 'MF';
UPDATE civicrm_country SET country_code ='591' WHERE iso_code = 'BO';
UPDATE civicrm_country SET country_code ='592' WHERE iso_code = 'GY';
UPDATE civicrm_country SET country_code ='593' WHERE iso_code = 'EC';
UPDATE civicrm_country SET country_code ='594' WHERE iso_code = 'GF';
UPDATE civicrm_country SET country_code ='595' WHERE iso_code = 'PY';
UPDATE civicrm_country SET country_code ='596' WHERE iso_code = 'MQ';
UPDATE civicrm_country SET country_code ='597' WHERE iso_code = 'SR';
UPDATE civicrm_country SET country_code ='598' WHERE iso_code = 'UY';
UPDATE civicrm_country SET country_code ='599' WHERE iso_code = 'AN';
UPDATE civicrm_country SET country_code ='670' WHERE iso_code = 'TL';
UPDATE civicrm_country SET country_code ='672' WHERE iso_code = 'NF';
UPDATE civicrm_country SET country_code ='673' WHERE iso_code = 'BN';
UPDATE civicrm_country SET country_code ='674' WHERE iso_code = 'NR';
UPDATE civicrm_country SET country_code ='675' WHERE iso_code = 'PG';
UPDATE civicrm_country SET country_code ='676' WHERE iso_code = 'TO';
UPDATE civicrm_country SET country_code ='677' WHERE iso_code = 'SB';
UPDATE civicrm_country SET country_code ='678' WHERE iso_code = 'VU';
UPDATE civicrm_country SET country_code ='679' WHERE iso_code = 'FJ';
UPDATE civicrm_country SET country_code ='680' WHERE iso_code = 'PW';
UPDATE civicrm_country SET country_code ='681' WHERE iso_code = 'WF';
UPDATE civicrm_country SET country_code ='682' WHERE iso_code = 'CK';
UPDATE civicrm_country SET country_code ='683' WHERE iso_code = 'NU';
UPDATE civicrm_country SET country_code ='685' WHERE iso_code = 'WS';
UPDATE civicrm_country SET country_code ='686' WHERE iso_code = 'KI';
UPDATE civicrm_country SET country_code ='687' WHERE iso_code = 'NC';
UPDATE civicrm_country SET country_code ='688' WHERE iso_code = 'TV';
UPDATE civicrm_country SET country_code ='689' WHERE iso_code = 'PF';
UPDATE civicrm_country SET country_code ='690' WHERE iso_code = 'TK';
UPDATE civicrm_country SET country_code ='691' WHERE iso_code = 'FM';
UPDATE civicrm_country SET country_code ='692' WHERE iso_code = 'MH';
UPDATE civicrm_country SET country_code ='850' WHERE iso_code = 'KP';
UPDATE civicrm_country SET country_code ='852' WHERE iso_code = 'HK';
UPDATE civicrm_country SET country_code ='853' WHERE iso_code = 'MO';
UPDATE civicrm_country SET country_code ='855' WHERE iso_code = 'KH';
UPDATE civicrm_country SET country_code ='856' WHERE iso_code = 'LA';
UPDATE civicrm_country SET country_code ='880' WHERE iso_code = 'BD';
UPDATE civicrm_country SET country_code ='886' WHERE iso_code = 'TW';
UPDATE civicrm_country SET country_code ='960' WHERE iso_code = 'MV';
UPDATE civicrm_country SET country_code ='961' WHERE iso_code = 'LB';
UPDATE civicrm_country SET country_code ='962' WHERE iso_code = 'JO';
UPDATE civicrm_country SET country_code ='963' WHERE iso_code = 'SY';
UPDATE civicrm_country SET country_code ='964' WHERE iso_code = 'IQ';
UPDATE civicrm_country SET country_code ='965' WHERE iso_code = 'KW';
UPDATE civicrm_country SET country_code ='966' WHERE iso_code = 'SA';
UPDATE civicrm_country SET country_code ='967' WHERE iso_code = 'YE';
UPDATE civicrm_country SET country_code ='968' WHERE iso_code = 'OM';
UPDATE civicrm_country SET country_code ='970' WHERE iso_code = 'PS';
UPDATE civicrm_country SET country_code ='971' WHERE iso_code = 'AE';
UPDATE civicrm_country SET country_code ='972' WHERE iso_code = 'IL';
UPDATE civicrm_country SET country_code ='973' WHERE iso_code = 'BH';
UPDATE civicrm_country SET country_code ='974' WHERE iso_code = 'QA';
UPDATE civicrm_country SET country_code ='975' WHERE iso_code = 'BT';
UPDATE civicrm_country SET country_code ='976' WHERE iso_code = 'MN';
UPDATE civicrm_country SET country_code ='977' WHERE iso_code = 'NP';
UPDATE civicrm_country SET country_code ='992' WHERE iso_code = 'TJ';
UPDATE civicrm_country SET country_code ='993' WHERE iso_code = 'TM';
UPDATE civicrm_country SET country_code ='994' WHERE iso_code = 'AZ';
