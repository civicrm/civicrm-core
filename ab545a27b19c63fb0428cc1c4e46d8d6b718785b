



<!DOCTYPE html>
<html lang="en" class="">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    
    
    <title>CRM-13912 changes phase I ·  ab545a2 · monishdeb/civicrm-core · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="monishdeb/civicrm-core" name="twitter:title" /><meta content="civicrm-core - CiviCRM (Core Application and Framework)" name="twitter:description" /><meta content="https://avatars0.githubusercontent.com/u/3735621?v=2&amp;s=400" name="twitter:image:src" />
<meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars0.githubusercontent.com/u/3735621?v=2&amp;s=400" property="og:image" /><meta content="monishdeb/civicrm-core" property="og:title" /><meta content="https://github.com/monishdeb/civicrm-core" property="og:url" /><meta content="civicrm-core - CiviCRM (Core Application and Framework)" property="og:description" />

      <meta name="browser-stats-url" content="/_stats">
    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="conduit-xhr" href="https://ghconduit.com:25035">
    

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_commits" data-pjax-transient>
      <meta name="google-analytics" content="UA-3769691-2">

    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="2A680256:7B5F:45296852:540B20B4" name="octolytics-dimension-request_id" />
    

    
    
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">


    <meta content="authenticity_token" name="csrf-param" />
<meta content="UWVeMcWNqtvXWlKDaSYpv9GDMGkCOEL98WJppWWyBuHTUM6h8xCm4mM516+U0rmGbTNqQVSr8sxc2vMDlbzb5g==" name="csrf-token" />

    <link href="https://assets-cdn.github.com/assets/github-0ee9064842419bc947ae49576d87065a9fa954d5.css" media="all" rel="stylesheet" type="text/css" />
    <link href="https://assets-cdn.github.com/assets/github2-e9d6954dcfc14392d2596c389c2faf1d1a4e07ef.css" media="all" rel="stylesheet" type="text/css" />
    


    <meta http-equiv="x-pjax-version" content="431a5115b41ea69b6a1d3d5cb9557eba">

        <link data-pjax-transient="true" href="/monishdeb/civicrm-core/commit/ab545a27b19c63fb0428cc1c4e46d8d6b718785b.diff" rel="alternate" type="text/plain+diff" />
  <link data-pjax-transient="true" href="/monishdeb/civicrm-core/commit/ab545a27b19c63fb0428cc1c4e46d8d6b718785b.patch" rel="alternate" type="text/plain+patch" />

  <meta name="diff-view" content="unified" data-pjax-transient>

  <meta name="description" content="civicrm-core - CiviCRM (Core Application and Framework)">
  <meta name="go-import" content="github.com/monishdeb/civicrm-core git https://github.com/monishdeb/civicrm-core.git">

  <meta content="3735621" name="octolytics-dimension-user_id" /><meta content="monishdeb" name="octolytics-dimension-user_login" /><meta content="8704595" name="octolytics-dimension-repository_id" /><meta content="monishdeb/civicrm-core" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="true" name="octolytics-dimension-repository_is_fork" /><meta content="8495499" name="octolytics-dimension-repository_parent_id" /><meta content="civicrm/civicrm-core" name="octolytics-dimension-repository_parent_nwo" /><meta content="8495499" name="octolytics-dimension-repository_network_root_id" /><meta content="civicrm/civicrm-core" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/monishdeb/civicrm-core/commits/ab545a27b19c63fb0428cc1c4e46d8d6b718785b.atom" rel="alternate" title="Recent Commits to civicrm-core:ab545a27b19c63fb0428cc1c4e46d8d6b718785b" type="application/atom+xml">

  </head>


  <body class="logged_out  env-production  vis-public fork">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>
    <div class="wrapper">
      
      
      
      


      
      <div class="header header-logged-out">
  <div class="container clearfix">

    <a class="header-logo-wordmark" href="https://github.com/" ga-data-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
      <span class="mega-octicon octicon-logo-github"></span>
    </a>

    <div class="header-actions">
        <a class="button primary" href="/join" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
      <a class="button signin" href="/login?return_to=%2Fmonishdeb%2Fcivicrm-core%2Fcommit%2Fab545a27b19c63fb0428cc1c4e46d8d6b718785b" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
    </div>

    <div class="site-search repo-scope js-site-search">
      <form accept-charset="UTF-8" action="/monishdeb/civicrm-core/search" class="js-site-search-form" data-global-search-url="/search" data-repo-search-url="/monishdeb/civicrm-core/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
  <input type="text"
    class="js-site-search-field is-clearable"
    data-hotkey="s"
    name="q"
    placeholder="Search"
    data-global-scope-placeholder="Search GitHub"
    data-repo-scope-placeholder="Search"
    tabindex="1"
    autocapitalize="off">
  <div class="scope-badge">This repository</div>
</form>
    </div>

      <ul class="header-nav left">
          <li class="header-nav-item">
            <a class="header-nav-link" href="/explore" data-ga-click="(Logged out) Header, go to explore, text:explore">Explore</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/features" data-ga-click="(Logged out) Header, go to features, text:features">Features</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://enterprise.github.com/" data-ga-click="(Logged out) Header, go to enterprise, text:enterprise">Enterprise</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/blog" data-ga-click="(Logged out) Header, go to blog, text:blog">Blog</a>
          </li>
      </ul>

  </div>
</div>



      <div id="start-of-content" class="accessibility-aid"></div>
          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    <div id="js-flash-container">
      
    </div>
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        
<ul class="pagehead-actions">


  <li>
      <a href="/login?return_to=%2Fmonishdeb%2Fcivicrm-core"
    class="minibutton with-count star-button tooltipped tooltipped-n"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <span class="octicon octicon-star"></span>
    Star
  </a>

    <a class="social-count js-social-count" href="/monishdeb/civicrm-core/stargazers">
      0
    </a>

  </li>

    <li>
      <a href="/login?return_to=%2Fmonishdeb%2Fcivicrm-core"
        class="minibutton with-count js-toggler-target fork-button tooltipped tooltipped-n"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <span class="octicon octicon-repo-forked"></span>
        Fork
      </a>
      <a href="/monishdeb/civicrm-core/network" class="social-count">
        225
      </a>
    </li>
</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="mega-octicon octicon-repo-forked"></span>
          <span class="author"><a href="/monishdeb" class="url fn" itemprop="url" rel="author"><span itemprop="title">monishdeb</span></a></span><!--
       --><span class="path-divider">/</span><!--
       --><strong><a href="/monishdeb/civicrm-core" class="js-current-repository js-repo-home-link">civicrm-core</a></strong>

          <span class="page-context-loader">
            <img alt="" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
          </span>

            <span class="fork-flag">
              <span class="text">forked from <a href="/civicrm/civicrm-core">civicrm/civicrm-core</a></span>
            </span>
        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline  ">
        <div class="repository-sidebar clearfix">
            
<div class="sunken-menu vertical-right repo-nav js-repo-nav js-repository-container-pjax js-octicon-loaders" data-issue-count-url="/monishdeb/civicrm-core/issues/counts">
  <div class="sunken-menu-contents">
    <ul class="sunken-menu-group">
      <li class="tooltipped tooltipped-w" aria-label="Code">
        <a href="/monishdeb/civicrm-core" aria-label="Code" class="selected js-selected-navigation-item sunken-menu-item" data-hotkey="g c" data-pjax="true" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /monishdeb/civicrm-core">
          <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>


      <li class="tooltipped tooltipped-w" aria-label="Pull Requests">
        <a href="/monishdeb/civicrm-core/pulls" aria-label="Pull Requests" class="js-selected-navigation-item sunken-menu-item js-disable-pjax" data-hotkey="g p" data-selected-links="repo_pulls /monishdeb/civicrm-core/pulls">
            <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull Requests</span>
            <span class="js-pull-replace-counter"></span>
            <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>


    </ul>
    <div class="sunken-menu-separator"></div>
    <ul class="sunken-menu-group">

      <li class="tooltipped tooltipped-w" aria-label="Pulse">
        <a href="/monishdeb/civicrm-core/pulse/weekly" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="pulse /monishdeb/civicrm-core/pulse/weekly">
          <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>

      <li class="tooltipped tooltipped-w" aria-label="Graphs">
        <a href="/monishdeb/civicrm-core/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-pjax="true" data-selected-links="repo_graphs repo_contributors /monishdeb/civicrm-core/graphs">
          <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/images/spinners/octocat-spinner-32.gif" width="16" />
</a>      </li>
    </ul>


  </div>
</div>

              <div class="only-with-full-nav">
                
  
<div class="clone-url open"
  data-protocol-type="http"
  data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><span class="text-emphasized">HTTPS</span> clone URL</h3>
  <div class="input-group">
    <input type="text" class="input-mini input-monospace js-url-field"
           value="https://github.com/monishdeb/civicrm-core.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="https://github.com/monishdeb/civicrm-core.git" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="clone-url "
  data-protocol-type="subversion"
  data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><span class="text-emphasized">Subversion</span> checkout URL</h3>
  <div class="input-group">
    <input type="text" class="input-mini input-monospace js-url-field"
           value="https://github.com/monishdeb/civicrm-core" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard minibutton zeroclipboard-button" data-clipboard-text="https://github.com/monishdeb/civicrm-core" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>


<p class="clone-options">You can clone with
      <a href="#" class="js-clone-selector" data-protocol="http">HTTPS</a>
      or <a href="#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <a href="https://help.github.com/articles/which-remote-url-should-i-use" class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you.">
    <span class="octicon octicon-question"></span>
  </a>
</p>



                <a href="/monishdeb/civicrm-core/archive/ab545a27b19c63fb0428cc1c4e46d8d6b718785b.zip"
                   class="minibutton sidebar-button"
                   aria-label="Download the contents of monishdeb/civicrm-core as a zip file"
                   title="Download the contents of monishdeb/civicrm-core as a zip file"
                   rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>
          
<a href="/monishdeb/civicrm-core/commit/ab545a27b19c63fb0428cc1c4e46d8d6b718785b" class="hidden js-permalink-shortcut" data-hotkey="y">Permalink</a>




<div class="commit full-commit ">
  <a href="/monishdeb/civicrm-core/tree/ab545a27b19c63fb0428cc1c4e46d8d6b718785b" class="browse-button" title="Browse the code at this point in the history" rel="nofollow">Browse code</a>

    <p class="commit-title">
      CRM-13912 changes phase I
    </p>

    <div class="commit-desc"><pre>----------------------------------------
* CRM-13912: Add SMS support to scheduled reminders
  <a href="https://issues.civicrm.org/jira/browse/CRM-13912">https://issues.civicrm.org/jira/browse/CRM-13912</a></pre></div>

  <div class="commit-branches">
    
    <span class="octicon octicon-git-branch"></span>
    <ul class="branches-list">
        <li class="branch"><a href="/monishdeb/civicrm-core/compare/CRM-13912">CRM-13912</a></li>
    </ul>
  </div>

  <div class="commit-meta clearfix">
    <span class="sha-block">commit <span class="sha js-selectable-text">ab545a27b19c63fb0428cc1c4e46d8d6b718785b</span></span>

    <span class="sha-block" data-pjax>
      1 parent
        
        <a href="/monishdeb/civicrm-core/commit/e8c5c01cedcb41696e46b436d74dde6f9f1099fa" class="sha" data-hotkey="p">e8c5c01</a>
    </span>

    <div class="authorship">
      <img alt="Monish Deb" class="avatar" data-user="3735621" height="24" src="https://avatars3.githubusercontent.com/u/3735621?v=2&amp;s=48" width="24" />
      <span class="author-name"><a href="/monishdeb" rel="author">monishdeb</a></span>
      
      authored <time datetime="2014-09-03T15:06:11+05:30" is="relative-time">September 03, 2014</time>

    </div>
  </div>
</div>

  <a name="diff-stat"></a>
  
<div id="toc" class="details-collapse table-of-contents js-details-container">

  <div class="button-group right" data-ga-load="Diff, view, Viewed Unified Diff">
    <a class="minibutton selected" href="/monishdeb/civicrm-core/commit/ab545a27b19c63fb0428cc1c4e46d8d6b718785b?diff=unified">
      Unified
    </a>
    <a class="minibutton" href="/monishdeb/civicrm-core/commit/ab545a27b19c63fb0428cc1c4e46d8d6b718785b?diff=split">
      Split
    </a>
  </div>
  <div class="toc-diff-stats">
    <span class="octicon octicon-diff"></span>
    Showing
    <button type="button" class="button-link js-details-target">
      7 changed files
    </button>
    with
    <strong>121 additions</strong>
    and <strong>74 deletions</strong>.
  </div>

  <ol class="content collapse js-transitionable">
    <li>
      <span class="diffstat">
          <span class="lines-added">
            <span class="diffstat-icon">+</span>12
          </span>
          <span class="lines-deleted">
            <span class="diffstat-icon">−</span>1
          </span>
          <a href="#diff-0" class="tooltipped tooltipped-s" aria-label="13 lines changed">
            <span class="diffstat-bar"> <i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i>&#xf053; </span>
          </a>
      </span>
      <span class='octicon octicon-diff-modified' title='modified'></span> <a href="#diff-0">CRM/Admin/Form/ScheduleReminders.php</a>
    </li>
    <li>
      <span class="diffstat">
          <span class="lines-added">
            <span class="diffstat-icon">+</span>7
          </span>
          <span class="lines-deleted">
            <span class="diffstat-icon">−</span>9
          </span>
          <a href="#diff-1" class="tooltipped tooltipped-s" aria-label="16 lines changed">
            <span class="diffstat-bar"> <i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053; </span>
          </a>
      </span>
      <span class='octicon octicon-diff-modified' title='modified'></span> <a href="#diff-1">CRM/Contact/Form/Task/SMSCommon.php</a>
    </li>
    <li>
      <span class="diffstat">
          <span class="lines-added">
            <span class="diffstat-icon">+</span>37
          </span>
          <span class="lines-deleted">
            <span class="diffstat-icon">−</span>16
          </span>
          <a href="#diff-2" class="tooltipped tooltipped-s" aria-label="53 lines changed">
            <span class="diffstat-bar"> <i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053; </span>
          </a>
      </span>
      <span class='octicon octicon-diff-modified' title='modified'></span> <a href="#diff-2">CRM/Mailing/BAO/Mailing.php</a>
    </li>
    <li>
      <span class="diffstat">
          <span class="lines-added">
            <span class="diffstat-icon">+</span>17
          </span>
          <span class="lines-deleted">
            <span class="diffstat-icon">−</span>17
          </span>
          <a href="#diff-3" class="tooltipped tooltipped-s" aria-label="34 lines changed">
            <span class="diffstat-bar"> <i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053; </span>
          </a>
      </span>
      <span class='octicon octicon-diff-modified' title='modified'></span> <a href="#diff-3">CRM/SMS/Form/Upload.php</a>
    </li>
    <li>
      <span class="diffstat">
          <span class="lines-added">
            <span class="diffstat-icon">+</span>13
          </span>
          <span class="lines-deleted">
            <span class="diffstat-icon">−</span>12
          </span>
          <a href="#diff-4" class="tooltipped tooltipped-s" aria-label="25 lines changed">
            <span class="diffstat-bar"> <i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053; </span>
          </a>
      </span>
      <span class='octicon octicon-diff-modified' title='modified'></span> <a href="#diff-4">templates/CRM/Contact/Form/Task/SMSCommon.tpl</a>
    </li>
    <li>
      <span class="diffstat">
          <span class="lines-added">
            <span class="diffstat-icon">+</span>34
          </span>
          <span class="lines-deleted">
            <span class="diffstat-icon">−</span>17
          </span>
          <a href="#diff-5" class="tooltipped tooltipped-s" aria-label="51 lines changed">
            <span class="diffstat-bar"> <i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053; </span>
          </a>
      </span>
      <span class='octicon octicon-diff-modified' title='modified'></span> <a href="#diff-5">templates/CRM/Mailing/Form/InsertTokens.tpl</a>
    </li>
    <li>
      <span class="diffstat">
          <span class="lines-added">
            <span class="diffstat-icon">+</span>1
          </span>
          <span class="lines-deleted">
            <span class="diffstat-icon">−</span>2
          </span>
          <a href="#diff-6" class="tooltipped tooltipped-s" aria-label="3 lines changed">
            <span class="diffstat-bar"> <i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053;&#xf053; </span>
          </a>
      </span>
      <span class='octicon octicon-diff-modified' title='modified'></span> <a href="#diff-6">templates/CRM/SMS/Form/Upload.tpl</a>
    </li>
  </ol>
</div>

  
<div id="files"
     class="file-box diff-view "
>
      <a name="diff-e179caac63281aad4b5df3aab2e370e2"></a>
      <div id="diff-0"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="meta" data-path="CRM/Admin/Form/ScheduleReminders.php">
          <div class="info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="12 additions &amp; 1 deletion">13 <span class="diffstat-bar"><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i>&#xf053;</span></span>

            <span class="js-selectable-text" title="CRM/Admin/Form/ScheduleReminders.php">
              CRM/Admin/Form/ScheduleReminders.php
            </span>
            
          </div>
          <div class="actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/monishdeb/civicrm-core/blob/ab545a27b19c63fb0428cc1c4e46d8d6b718785b/CRM/Admin/Form/ScheduleReminders.php" class="minibutton tooltipped tooltipped-n" rel="nofollow" aria-label="View the whole file at version ab545a2">View</a>


          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table  tab-size-8 ">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-e179caac63281aad4b5df3aab2e370e2R186"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/96667809816baec15aacf4158be5b080515638c6/CRM/Admin/Form/ScheduleReminders.php?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=187&amp;next_line_num_right=187&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=7"
            data-left-range="1-186" data-right-range="1-186">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -187,7 +187,7 @@ public function buildQuickForm() {</td>
  </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L187" data-line-number="187"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R187" data-line-number="187"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $this-&gt;add(&#39;select&#39;, &#39;end_date&#39;, ts(&#39;Date Field&#39;), $sel4, TRUE);</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L188" data-line-number="188"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R188" data-line-number="188"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L189" data-line-number="189"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R189" data-line-number="189"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $this-&gt;add(&#39;text&#39;, &#39;from_name&#39;, ts(&#39;From Name&#39;));</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L190" data-line-number="190"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    $this-&gt;add(&#39;text&#39;, &#39;from_email&#39;, ts(&#39;From Email&#39;));<span class="x">    </span></td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R190" data-line-number="190"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    $this-&gt;add(&#39;text&#39;, &#39;from_email&#39;, ts(&#39;From Email&#39;));</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L191" data-line-number="191"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R191" data-line-number="191"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L192" data-line-number="192"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R192" data-line-number="192"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $recipient = &#39;activity_contacts&#39;;</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L193" data-line-number="193"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R193" data-line-number="193"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $recipientListingOptions = array();</td>
    </tr>

      <tr class="js-expandable-line" data-position="9">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-e179caac63281aad4b5df3aab2e370e2R444"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/96667809816baec15aacf4158be5b080515638c6/CRM/Admin/Form/ScheduleReminders.php?diff=unified&amp;left_hunk_size=6&amp;next_line_num_left=445&amp;next_line_num_right=445&amp;prev_line_num_left=193&amp;prev_line_num_right=193&amp;right_hunk_size=17"
            data-left-range="194-444" data-right-range="194-444">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -445,6 +445,17 @@ public function postProcess() {</td>
  </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L445" data-line-number="445"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R445" data-line-number="445"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       $params[&#39;name&#39;] = CRM_Utils_String::munge($params[&#39;title&#39;], &#39;_&#39;, 64);</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L446" data-line-number="446"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R446" data-line-number="446"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L447" data-line-number="447"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R447" data-line-number="447"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R448" data-line-number="448"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    $modePrefixes = array(&#39;Mail&#39; =&gt; NULL, &#39;SMS&#39; =&gt; &#39;SMS&#39;);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R449" data-line-number="449"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R450" data-line-number="450"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    if ($params[&#39;mode&#39;] == &#39;Email&#39;) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R451" data-line-number="451"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      unset($modePrefixes[&#39;SMS&#39;]);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R452" data-line-number="452"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R453" data-line-number="453"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    elseif ($params[&#39;mode&#39;] == &#39;SMS&#39;) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R454" data-line-number="454"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      unset($modePrefixes[&#39;Mail&#39;]);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R455" data-line-number="455"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R456" data-line-number="456"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R457" data-line-number="457"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    //TODO: handle postprocessing of SMS and/or Email info based on $modePrefixes</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R458" data-line-number="458"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L448" data-line-number="448"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R459" data-line-number="459"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $composeFields = array(</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L449" data-line-number="449"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R460" data-line-number="460"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       &#39;template&#39;, &#39;saveTemplate&#39;,</td>
    </tr>

    <tr>
        <td id="diff-e179caac63281aad4b5df3aab2e370e2L450" data-line-number="450"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e179caac63281aad4b5df3aab2e370e2R461" data-line-number="461"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       &#39;updateTemplate&#39;, &#39;saveTemplateName&#39;,</td>
    </tr>

  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-e179caac63281aad4b5df3aab2e370e2R462"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/monishdeb/civicrm-core/blob_excerpt/96667809816baec15aacf4158be5b080515638c6/CRM/Admin/Form/ScheduleReminders.php?diff=unified&amp;prev_line_num_left=450&amp;prev_line_num_right=461"
          data-left-range="451-530" data-right-range="462-530">
       <span class="octicon octicon-unfold"></span>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>
      <a name="diff-93a744905be08e890b751543640c9b72"></a>
      <div id="diff-1"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="meta" data-path="CRM/Contact/Form/Task/SMSCommon.php">
          <div class="info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="7 additions &amp; 9 deletions">16 <span class="diffstat-bar"><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053;</span></span>

            <span class="js-selectable-text" title="CRM/Contact/Form/Task/SMSCommon.php">
              CRM/Contact/Form/Task/SMSCommon.php
            </span>
            
          </div>
          <div class="actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/monishdeb/civicrm-core/blob/ab545a27b19c63fb0428cc1c4e46d8d6b718785b/CRM/Contact/Form/Task/SMSCommon.php" class="minibutton tooltipped tooltipped-n" rel="nofollow" aria-label="View the whole file at version ab545a2">View</a>


          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table  tab-size-8 ">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-93a744905be08e890b751543640c9b72R94"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/b04ec2d58ebfbc6d129e9d17e6caf372d7b9b7c3/CRM/Contact/Form/Task/SMSCommon.php?diff=unified&amp;left_hunk_size=8&amp;next_line_num_left=95&amp;next_line_num_right=95&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=6"
            data-left-range="1-94" data-right-range="1-94">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -95,8 +95,6 @@ static function buildQuickForm(&amp;$form) {</td>
  </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L95" data-line-number="95"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R95" data-line-number="95"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L96" data-line-number="96"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R96" data-line-number="96"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $toArray = array();</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L97" data-line-number="97"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R97" data-line-number="97"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L98" data-line-number="98"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    $form-&gt;assign(&#39;max_sms_length&#39;, CRM_SMS_Provider::MAX_SMS_CHAR);</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L99" data-line-number="99"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L100" data-line-number="100"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R98" data-line-number="98"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $providers = CRM_SMS_BAO_Provider::getProviders(NULL, NULL, TRUE, &#39;is_default desc&#39;);</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L101" data-line-number="101"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R99" data-line-number="99"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L102" data-line-number="102"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R100" data-line-number="100"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $providerSelect = array();</td>
    </tr>

      <tr class="js-expandable-line" data-position="9">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-93a744905be08e890b751543640c9b72R314"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/b04ec2d58ebfbc6d129e9d17e6caf372d7b9b7c3/CRM/Contact/Form/Task/SMSCommon.php?diff=unified&amp;left_hunk_size=15&amp;next_line_num_left=317&amp;next_line_num_right=315&amp;prev_line_num_left=102&amp;prev_line_num_right=100&amp;right_hunk_size=15"
            data-left-range="103-316" data-right-range="101-314">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -317,15 +315,15 @@ static function formRule($fields, $dontCare, $self) {</td>
  </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L317" data-line-number="317"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R315" data-line-number="315"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L318" data-line-number="318"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R316" data-line-number="316"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $template = CRM_Core_Smarty::singleton();</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L319" data-line-number="319"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R317" data-line-number="317"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L320" data-line-number="320"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    if (empty($fields[&#39;<span class="x">text_message</span>&#39;])) {</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L321" data-line-number="321"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      $errors[&#39;<span class="x">text_message</span>&#39;] = ts(&#39;Please provide Text message.&#39;);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R318" data-line-number="318"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    if (empty($fields[&#39;<span class="x">sms_text_message</span>&#39;])) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R319" data-line-number="319"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      $errors[&#39;<span class="x">sms_text_message</span>&#39;] = ts(&#39;Please provide Text message.&#39;);</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L322" data-line-number="322"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R320" data-line-number="320"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L323" data-line-number="323"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R321" data-line-number="321"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     else {</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L324" data-line-number="324"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      if (!empty($fields[&#39;<span class="x">text_message</span>&#39;])) {</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L325" data-line-number="325"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        $messageCheck = CRM_Utils_Array::value(&#39;<span class="x">text_message</span>&#39;, $fields);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R322" data-line-number="322"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      if (!empty($fields[&#39;<span class="x">sms_text_message</span>&#39;])) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R323" data-line-number="323"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $messageCheck = CRM_Utils_Array::value(&#39;<span class="x">sms_text_message</span>&#39;, $fields);</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L326" data-line-number="326"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R324" data-line-number="324"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $messageCheck = str_replace(&quot;\r\n&quot;, &quot;\n&quot;, $messageCheck);</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L327" data-line-number="327"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R325" data-line-number="325"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         if ($messageCheck &amp;&amp; (strlen($messageCheck) &gt; CRM_SMS_Provider::MAX_SMS_CHAR)) {</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L328" data-line-number="328"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-          $errors[&#39;<span class="x">text_message</span>&#39;] = ts(&quot;You can configure the SMS message body up to %1 characters&quot;, array(1 =&gt; CRM_SMS_Provider::MAX_SMS_CHAR));</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R326" data-line-number="326"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+          $errors[&#39;<span class="x">sms_text_message</span>&#39;] = ts(&quot;You can configure the SMS message body up to %1 characters&quot;, array(1 =&gt; CRM_SMS_Provider::MAX_SMS_CHAR));</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L329" data-line-number="329"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R327" data-line-number="327"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         }</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L330" data-line-number="330"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R328" data-line-number="328"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L331" data-line-number="331"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R329" data-line-number="329"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

      <tr class="js-expandable-line" data-position="30">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-93a744905be08e890b751543640c9b72R354"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/b04ec2d58ebfbc6d129e9d17e6caf372d7b9b7c3/CRM/Contact/Form/Task/SMSCommon.php?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=357&amp;next_line_num_right=355&amp;prev_line_num_left=331&amp;prev_line_num_right=329&amp;right_hunk_size=7"
            data-left-range="332-356" data-right-range="330-354">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -357,7 +355,7 @@ static function postProcess(&amp;$form) {</td>
  </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L357" data-line-number="357"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R355" data-line-number="355"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     // process message template</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L358" data-line-number="358"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R356" data-line-number="356"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     if (!empty($thisValues[&#39;saveTemplate&#39;]) || !empty($thisValues[&#39;updateTemplate&#39;])) {</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L359" data-line-number="359"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R357" data-line-number="357"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       $messageTemplate = array(</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L360" data-line-number="360"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        &#39;msg_text&#39; =&gt; $thisValues[&#39;<span class="x">text_message</span>&#39;],</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R358" data-line-number="358"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        &#39;msg_text&#39; =&gt; $thisValues[&#39;<span class="x">sms_text_message</span>&#39;],</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L361" data-line-number="361"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R359" data-line-number="359"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         &#39;is_active&#39; =&gt; TRUE,</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L362" data-line-number="362"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R360" data-line-number="360"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       );</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L363" data-line-number="363"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R361" data-line-number="361"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

      <tr class="js-expandable-line" data-position="39">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-93a744905be08e890b751543640c9b72R391"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/b04ec2d58ebfbc6d129e9d17e6caf372d7b9b7c3/CRM/Contact/Form/Task/SMSCommon.php?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=394&amp;next_line_num_right=392&amp;prev_line_num_left=363&amp;prev_line_num_right=361&amp;right_hunk_size=7"
            data-left-range="364-393" data-right-range="362-391">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -394,7 +392,7 @@ static function postProcess(&amp;$form) {</td>
  </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L394" data-line-number="394"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R392" data-line-number="392"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     // $smsParams carries all the arguments provided on form (or via hooks), to the provider-&gt;send() method</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L395" data-line-number="395"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R393" data-line-number="393"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     // this gives flexibity to the users / implementors to add their own args via hooks specific to their sms providers</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L396" data-line-number="396"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R394" data-line-number="394"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $smsParams = $thisValues;</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L397" data-line-number="397"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    unset($smsParams[&#39;<span class="x">text_message</span>&#39;]);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R395" data-line-number="395"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    unset($smsParams[&#39;<span class="x">sms_text_message</span>&#39;]);</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L398" data-line-number="398"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R396" data-line-number="396"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $smsParams[&#39;provider_id&#39;] = $fromSmsProviderId;</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L399" data-line-number="399"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R397" data-line-number="397"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $contactIds = array_keys($form-&gt;_contactDetails);</td>
    </tr>

    <tr>
        <td id="diff-93a744905be08e890b751543640c9b72L400" data-line-number="400"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-93a744905be08e890b751543640c9b72R398" data-line-number="398"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $allContactIds = array_keys($form-&gt;_allContactDetails);</td>
    </tr>

  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-93a744905be08e890b751543640c9b72R399"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/monishdeb/civicrm-core/blob_excerpt/b04ec2d58ebfbc6d129e9d17e6caf372d7b9b7c3/CRM/Contact/Form/Task/SMSCommon.php?diff=unified&amp;prev_line_num_left=400&amp;prev_line_num_right=398"
          data-left-range="401-441" data-right-range="399-441">
       <span class="octicon octicon-unfold"></span>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>
      <a name="diff-fe77587d9e03488292a5c9bd31157a17"></a>
      <div id="diff-2"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="meta" data-path="CRM/Mailing/BAO/Mailing.php">
          <div class="info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="37 additions &amp; 16 deletions">53 <span class="diffstat-bar"><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053;</span></span>

            <span class="js-selectable-text" title="CRM/Mailing/BAO/Mailing.php">
              CRM/Mailing/BAO/Mailing.php
            </span>
            
          </div>
          <div class="actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/monishdeb/civicrm-core/blob/ab545a27b19c63fb0428cc1c4e46d8d6b718785b/CRM/Mailing/BAO/Mailing.php" class="minibutton tooltipped tooltipped-n" rel="nofollow" aria-label="View the whole file at version ab545a2">View</a>


          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table  tab-size-8 ">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-fe77587d9e03488292a5c9bd31157a17R2482"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/b12f252b29ffb3ba985b021f0fb95b529e0d697a/CRM/Mailing/BAO/Mailing.php?diff=unified&amp;left_hunk_size=29&amp;next_line_num_left=2483&amp;next_line_num_right=2483&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=16"
            data-left-range="1-2482" data-right-range="1-2482">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -2483,29 +2483,16 @@ public static function commonCompose(&amp;$form) {</td>
  </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2483" data-line-number="2483"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2483" data-line-number="2483"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $form-&gt;_templates = CRM_Core_BAO_MessageTemplate::getMessageTemplates(FALSE);</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2484" data-line-number="2484"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2484" data-line-number="2484"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     if (!empty($form-&gt;_templates)) {</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2485" data-line-number="2485"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2485" data-line-number="2485"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       $form-&gt;assign(&#39;templates&#39;, TRUE);</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2486" data-line-number="2486"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      $form-&gt;add(&#39;select&#39;, <span class="x">&#39;</span>template<span class="x">&#39;</span>, ts(&#39;Use Template&#39;),</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2486" data-line-number="2486"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      $form-&gt;add(&#39;select&#39;, <span class="x">&quot;</span>template<span class="x">&quot;</span>, ts(&#39;Use Template&#39;),</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2487" data-line-number="2487"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2487" data-line-number="2487"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         array(</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2488" data-line-number="2488"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2488" data-line-number="2488"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">           &#39;&#39; =&gt; ts(&#39;- select -&#39;)) + $form-&gt;_templates, FALSE,</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2489" data-line-number="2489"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2489" data-line-number="2489"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         array(&#39;onChange&#39; =&gt; &quot;selectValue( this.value );&quot;)</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2490" data-line-number="2490"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2490" data-line-number="2490"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       );</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2491" data-line-number="2491"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      $form-&gt;add(&#39;checkbox&#39;, &#39;updateTemplate&#39;, ts(&#39;Update Template&#39;), NULL);</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2492" data-line-number="2492"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2491" data-line-number="2491"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2493" data-line-number="2493"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2492" data-line-number="2492"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2494" data-line-number="2494"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    $form-&gt;add(&#39;checkbox&#39;, &#39;saveTemplate&#39;, ts(&#39;Save As New Template&#39;), NULL, FALSE,</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2495" data-line-number="2495"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      array(&#39;onclick&#39; =&gt; &quot;showSaveDetails(this);&quot;)</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2496" data-line-number="2496"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    );</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2497" data-line-number="2497"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    $form-&gt;add(&#39;text&#39;, &#39;saveTemplateName&#39;, ts(&#39;Template Title&#39;));</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2498" data-line-number="2498"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2499" data-line-number="2499"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2493" data-line-number="2493"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2500" data-line-number="2500"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    //insert message Text by selecting &quot;Select Template option&quot;</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2501" data-line-number="2501"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    $form-&gt;add(&#39;textarea&#39;,</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2502" data-line-number="2502"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      &#39;text_message&#39;,</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2503" data-line-number="2503"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      ts(&#39;Plain-text format&#39;),</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2504" data-line-number="2504"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      array(</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2505" data-line-number="2505"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        &#39;cols&#39; =&gt; &#39;80&#39;, &#39;rows&#39; =&gt; &#39;8&#39;,</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2506" data-line-number="2506"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        &#39;onkeyup&#39; =&gt; &quot;return verify(this)&quot;,</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2507" data-line-number="2507"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      )</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2508" data-line-number="2508"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    );</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2494" data-line-number="2494"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    $textFields = array(&#39;text_message&#39; =&gt; ts(&#39;HTML format&#39;), &#39;sms_text_message&#39; =&gt; ts(&#39;SMS Message&#39;));</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2495" data-line-number="2495"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    $modePrefixes = array(&#39;Mail&#39; =&gt; NULL, &#39;SMS&#39; =&gt; &#39;SMS&#39;);</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2509" data-line-number="2509"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2496" data-line-number="2496"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2510" data-line-number="2510"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2497" data-line-number="2497"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     if ($className != &#39;CRM_SMS_Form_Upload&#39; &amp;&amp; $className != &#39;CRM_Contact_Form_Task_SMS&#39; &amp;&amp;</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2511" data-line-number="2511"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2498" data-line-number="2498"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       $className != &#39;CRM_Contact_Form_Task_SMS&#39;</td>
    </tr>

      <tr class="js-expandable-line" data-position="33">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-fe77587d9e03488292a5c9bd31157a17R2503"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/b12f252b29ffb3ba985b021f0fb95b529e0d697a/CRM/Mailing/BAO/Mailing.php?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=2517&amp;next_line_num_right=2504&amp;prev_line_num_left=2511&amp;prev_line_num_right=2498&amp;right_hunk_size=41"
            data-left-range="2512-2516" data-right-range="2499-2503">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -2517,7 +2504,41 @@ public static function commonCompose(&amp;$form) {</td>
  </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2517" data-line-number="2517"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2504" data-line-number="2504"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">           &#39;onkeyup&#39; =&gt; &quot;return verify(this)&quot;,</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2518" data-line-number="2518"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2505" data-line-number="2505"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         )</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2519" data-line-number="2519"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2506" data-line-number="2506"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       );</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2507" data-line-number="2507"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2508" data-line-number="2508"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      if ($className != &#39;CRM_Admin_Form_ScheduleReminders&#39;) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2509" data-line-number="2509"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        unset($modePrefixes[&#39;SMS&#39;]);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2510" data-line-number="2510"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2511" data-line-number="2511"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2512" data-line-number="2512"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    else {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2513" data-line-number="2513"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      unset($textFields[&#39;text_message&#39;]);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2514" data-line-number="2514"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      unset($modePrefixes[&#39;Mail&#39;]);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2515" data-line-number="2515"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2516" data-line-number="2516"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2517" data-line-number="2517"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    //insert message Text by selecting &quot;Select Template option&quot;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2518" data-line-number="2518"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    foreach ($textFields as $id =&gt; $label) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2519" data-line-number="2519"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      if ($id == &#39;sms_text_message&#39;) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2520" data-line-number="2520"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $form-&gt;assign(&#39;max_sms_length&#39;, CRM_SMS_Provider::MAX_SMS_CHAR);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2521" data-line-number="2521"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2522" data-line-number="2522"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      $form-&gt;add(&#39;textarea&#39;, $id, $label,</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2523" data-line-number="2523"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        array(</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2524" data-line-number="2524"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+          &#39;cols&#39; =&gt; &#39;80&#39;, &#39;rows&#39; =&gt; &#39;8&#39;,</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2525" data-line-number="2525"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+          &#39;onkeyup&#39; =&gt; &quot;return verify(this)&quot;,</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2526" data-line-number="2526"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        )</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2527" data-line-number="2527"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      );</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2528" data-line-number="2528"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2529" data-line-number="2529"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2530" data-line-number="2530"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    foreach ($modePrefixes as $prefix) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2531" data-line-number="2531"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      if (!empty($form-&gt;_templates)) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2532" data-line-number="2532"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2533" data-line-number="2533"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $form-&gt;add(&#39;checkbox&#39;, &quot;{$prefix}updateTemplate&quot;, ts(&#39;Update Template&#39;), NULL);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2534" data-line-number="2534"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2535" data-line-number="2535"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2536" data-line-number="2536"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      $form-&gt;add(&#39;checkbox&#39;, &quot;{$prefix}saveTemplate&quot;, ts(&#39;Save As New Template&#39;), NULL, FALSE,</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2537" data-line-number="2537"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        array(&#39;onclick&#39; =&gt; &quot;showSaveDetails(this);&quot;)</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2538" data-line-number="2538"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      );</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2539" data-line-number="2539"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      $form-&gt;add(&#39;text&#39;, &quot;{$prefix}saveTemplateName&quot;, ts(&#39;Template Title&#39;));</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2520" data-line-number="2520"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2540" data-line-number="2540"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2541" data-line-number="2541"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2521" data-line-number="2521"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2542" data-line-number="2542"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2522" data-line-number="2522"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2543" data-line-number="2543"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-fe77587d9e03488292a5c9bd31157a17L2523" data-line-number="2523"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-fe77587d9e03488292a5c9bd31157a17R2544" data-line-number="2544"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   /**</td>
    </tr>

  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-fe77587d9e03488292a5c9bd31157a17R2545"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/monishdeb/civicrm-core/blob_excerpt/b12f252b29ffb3ba985b021f0fb95b529e0d697a/CRM/Mailing/BAO/Mailing.php?diff=unified&amp;prev_line_num_left=2523&amp;prev_line_num_right=2544"
          data-left-range="2524-2953" data-right-range="2545-2953">
       <span class="octicon octicon-unfold"></span>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>
      <a name="diff-27ebef66ec532bab7b26fd26a04b099b"></a>
      <div id="diff-3"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="meta" data-path="CRM/SMS/Form/Upload.php">
          <div class="info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="17 additions &amp; 17 deletions">34 <span class="diffstat-bar"><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053;</span></span>

            <span class="js-selectable-text" title="CRM/SMS/Form/Upload.php">
              CRM/SMS/Form/Upload.php
            </span>
            
          </div>
          <div class="actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/monishdeb/civicrm-core/blob/ab545a27b19c63fb0428cc1c4e46d8d6b718785b/CRM/SMS/Form/Upload.php" class="minibutton tooltipped tooltipped-n" rel="nofollow" aria-label="View the whole file at version ab545a2">View</a>


          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table  tab-size-8 ">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR90"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=11&amp;next_line_num_left=91&amp;next_line_num_right=91&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=11"
            data-left-range="1-90" data-right-range="1-90">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -91,11 +91,11 @@ function setDefaultValues() {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL91" data-line-number="91"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR91" data-line-number="91"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $messageTemplate-&gt;selectAdd(&#39;msg_text&#39;);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL92" data-line-number="92"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR92" data-line-number="92"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $messageTemplate-&gt;find(TRUE);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL93" data-line-number="93"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR93" data-line-number="93"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL94" data-line-number="94"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        $defaults[&#39;<span class="x">text_message</span>&#39;] = $messageTemplate-&gt;msg_text;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR94" data-line-number="94"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $defaults[&#39;<span class="x">sms_text_message</span>&#39;] = $messageTemplate-&gt;msg_text;</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL95" data-line-number="95"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR95" data-line-number="95"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL96" data-line-number="96"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR96" data-line-number="96"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL97" data-line-number="97"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR97" data-line-number="97"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       if (isset($defaults[&#39;body_text&#39;])) {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL98" data-line-number="98"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        $defaults[&#39;<span class="x">text_message</span>&#39;] = $defaults[&#39;body_text&#39;];</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR98" data-line-number="98"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $defaults[&#39;<span class="x">sms_text_message</span>&#39;] = $defaults[&#39;body_text&#39;];</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL99" data-line-number="99"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR99" data-line-number="99"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $this-&gt;set(&#39;textFile&#39;, $defaults[&#39;body_text&#39;]);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL100" data-line-number="100"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR100" data-line-number="100"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $this-&gt;set(&#39;skipTextFile&#39;, TRUE);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL101" data-line-number="101"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR101" data-line-number="101"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

      <tr class="js-expandable-line" data-position="14">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR106"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=8&amp;next_line_num_left=107&amp;next_line_num_right=107&amp;prev_line_num_left=101&amp;prev_line_num_right=101&amp;right_hunk_size=8"
            data-left-range="102-106" data-right-range="102-106">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -107,8 +107,8 @@ function setDefaultValues() {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL107" data-line-number="107"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR107" data-line-number="107"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       if ($textFilePath &amp;&amp;</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL108" data-line-number="108"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR108" data-line-number="108"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         file_exists($textFilePath)</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL109" data-line-number="109"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR109" data-line-number="109"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       ) {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL110" data-line-number="110"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        $defaults[&#39;<span class="x">text_message</span>&#39;] = file_get_contents($textFilePath);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL111" data-line-number="111"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        if (strlen($defaults[&#39;<span class="x">text_message</span>&#39;]) &gt; 0) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR110" data-line-number="110"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $defaults[&#39;<span class="x">sms_text_message</span>&#39;] = file_get_contents($textFilePath);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR111" data-line-number="111"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        if (strlen($defaults[&#39;<span class="x">sms_text_message</span>&#39;]) &gt; 0) {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL112" data-line-number="112"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR112" data-line-number="112"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">           $this-&gt;set(&#39;skipTextFile&#39;, TRUE);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL113" data-line-number="113"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR113" data-line-number="113"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL114" data-line-number="114"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR114" data-line-number="114"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

      <tr class="js-expandable-line" data-position="25">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR218"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=219&amp;next_line_num_right=219&amp;prev_line_num_left=114&amp;prev_line_num_right=114&amp;right_hunk_size=7"
            data-left-range="115-218" data-right-range="115-218">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -219,7 +219,7 @@ public function postProcess() {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL219" data-line-number="219"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR219" data-line-number="219"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL220" data-line-number="220"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR220" data-line-number="220"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL221" data-line-number="221"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR221" data-line-number="221"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     else {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL222" data-line-number="222"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      $text_message = $formValues[&#39;<span class="x">text_message</span>&#39;];</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR222" data-line-number="222"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      $text_message = $formValues[&#39;<span class="x">sms_text_message</span>&#39;];</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL223" data-line-number="223"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR223" data-line-number="223"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       $params[&#39;body_text&#39;] = $text_message;</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL224" data-line-number="224"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR224" data-line-number="224"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       $this-&gt;set(&#39;textFile&#39;, $params[&#39;body_text&#39;]);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL225" data-line-number="225"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR225" data-line-number="225"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       $this-&gt;set(&#39;text_message&#39;, $params[&#39;body_text&#39;]);</td>
    </tr>

      <tr class="js-expandable-line" data-position="34">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR229"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=8&amp;next_line_num_left=230&amp;next_line_num_right=230&amp;prev_line_num_left=225&amp;prev_line_num_right=225&amp;right_hunk_size=8"
            data-left-range="226-229" data-right-range="226-229">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -230,8 +230,8 @@ public function postProcess() {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL230" data-line-number="230"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR230" data-line-number="230"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $session = CRM_Core_Session::singleton();</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL231" data-line-number="231"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR231" data-line-number="231"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $params[&#39;contact_id&#39;] = $session-&gt;get(&#39;userID&#39;);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL232" data-line-number="232"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR232" data-line-number="232"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $composeFields = array(</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL233" data-line-number="233"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      &#39;template&#39;, &#39;<span class="x">saveTemplate</span>&#39;,</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL234" data-line-number="234"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      &#39;<span class="x">updateTemplate</span>&#39;, &#39;<span class="x">saveTemplateName</span>&#39;,</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR233" data-line-number="233"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      &#39;template&#39;, &#39;<span class="x">SMSsaveTemplate</span>&#39;,</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR234" data-line-number="234"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      &#39;<span class="x">SMSupdateTemplate</span>&#39;, &#39;<span class="x">SMSsaveTemplateName</span>&#39;,</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL235" data-line-number="235"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR235" data-line-number="235"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     );</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL236" data-line-number="236"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR236" data-line-number="236"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $msgTemplate = NULL;</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL237" data-line-number="237"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR237" data-line-number="237"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     //mail template is composed</td>
    </tr>

      <tr class="js-expandable-line" data-position="45">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR243"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=244&amp;next_line_num_right=244&amp;prev_line_num_left=237&amp;prev_line_num_right=237&amp;right_hunk_size=7"
            data-left-range="238-243" data-right-range="238-243">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -244,7 +244,7 @@ public function postProcess() {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL244" data-line-number="244"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR244" data-line-number="244"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL245" data-line-number="245"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR245" data-line-number="245"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL246" data-line-number="246"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR246" data-line-number="246"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL247" data-line-number="247"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      if (!empty($composeParams[&#39;<span class="x">updateTemplate</span>&#39;])) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR247" data-line-number="247"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      if (!empty($composeParams[&#39;<span class="x">SMSupdateTemplate</span>&#39;])) {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL248" data-line-number="248"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR248" data-line-number="248"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $templateParams = array(</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL249" data-line-number="249"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR249" data-line-number="249"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">           &#39;msg_text&#39; =&gt; $text_message,</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL250" data-line-number="250"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR250" data-line-number="250"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">           &#39;is_active&#39; =&gt; TRUE,</td>
    </tr>

      <tr class="js-expandable-line" data-position="54">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR254"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=13&amp;next_line_num_left=255&amp;next_line_num_right=255&amp;prev_line_num_left=250&amp;prev_line_num_right=250&amp;right_hunk_size=13"
            data-left-range="251-254" data-right-range="251-254">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -255,13 +255,13 @@ public function postProcess() {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL255" data-line-number="255"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR255" data-line-number="255"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $msgTemplate = CRM_Core_BAO_MessageTemplate::add($templateParams);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL256" data-line-number="256"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR256" data-line-number="256"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL257" data-line-number="257"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR257" data-line-number="257"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL258" data-line-number="258"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      if (!empty($composeParams[&#39;<span class="x">saveTemplate</span>&#39;])) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR258" data-line-number="258"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      if (!empty($composeParams[&#39;<span class="x">SMSsaveTemplate</span>&#39;])) {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL259" data-line-number="259"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR259" data-line-number="259"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $templateParams = array(</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL260" data-line-number="260"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR260" data-line-number="260"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">           &#39;msg_text&#39; =&gt; $text_message,</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL261" data-line-number="261"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR261" data-line-number="261"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">           &#39;is_active&#39; =&gt; TRUE,</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL262" data-line-number="262"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR262" data-line-number="262"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         );</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL263" data-line-number="263"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR263" data-line-number="263"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL264" data-line-number="264"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        $templateParams[&#39;msg_title&#39;] = $composeParams[&#39;<span class="x">saveTemplateName</span>&#39;];</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR264" data-line-number="264"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $templateParams[&#39;msg_title&#39;] = $composeParams[&#39;<span class="x">SMSsaveTemplateName</span>&#39;];</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL265" data-line-number="265"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR265" data-line-number="265"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL266" data-line-number="266"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR266" data-line-number="266"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $msgTemplate = CRM_Core_BAO_MessageTemplate::add($templateParams);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL267" data-line-number="267"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR267" data-line-number="267"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

      <tr class="js-expandable-line" data-position="70">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR343"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=8&amp;next_line_num_left=344&amp;next_line_num_right=344&amp;prev_line_num_left=267&amp;prev_line_num_right=267&amp;right_hunk_size=8"
            data-left-range="268-343" data-right-range="268-343">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -344,8 +344,8 @@ static function formRule($params, $files, $self) {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL344" data-line-number="344"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR344" data-line-number="344"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL345" data-line-number="345"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR345" data-line-number="345"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL346" data-line-number="346"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR346" data-line-number="346"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     else {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL347" data-line-number="347"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      if (empty($params[&#39;<span class="x">text_message</span>&#39;])) {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL348" data-line-number="348"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        $errors[&#39;<span class="x">text_message</span>&#39;] = ts(&#39;Please provide a Text&#39;);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR347" data-line-number="347"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      if (empty($params[&#39;<span class="x">sms_text_message</span>&#39;])) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR348" data-line-number="348"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $errors[&#39;<span class="x">sms_text_message</span>&#39;] = ts(&#39;Please provide a Text&#39;);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL349" data-line-number="349"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR349" data-line-number="349"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL350" data-line-number="350"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR350" data-line-number="350"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       else {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL351" data-line-number="351"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR351" data-line-number="351"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         if (!empty($params[&#39;text_message&#39;])) {</td>
    </tr>

      <tr class="js-expandable-line" data-position="81">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR354"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=8&amp;next_line_num_left=355&amp;next_line_num_right=355&amp;prev_line_num_left=351&amp;prev_line_num_right=351&amp;right_hunk_size=8"
            data-left-range="352-354" data-right-range="352-354">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -355,8 +355,8 @@ static function formRule($params, $files, $self) {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL355" data-line-number="355"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR355" data-line-number="355"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">           }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL356" data-line-number="356"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR356" data-line-number="356"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL357" data-line-number="357"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR357" data-line-number="357"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL358" data-line-number="358"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      if (!empty($params[&#39;<span class="x">saveTemplate</span>&#39;]) &amp;&amp; empty($params[&#39;<span class="x">saveTemplateName</span>&#39;])) {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL359" data-line-number="359"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        $errors[&#39;<span class="x">saveTemplateName</span>&#39;] = ts(&#39;Please provide a Template Name.&#39;);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR358" data-line-number="358"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      if (!empty($params[&#39;<span class="x">SMSsaveTemplate</span>&#39;]) &amp;&amp; empty($params[&#39;<span class="x">SMSsaveTemplateName</span>&#39;])) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR359" data-line-number="359"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $errors[&#39;<span class="x">SMSsaveTemplateName</span>&#39;] = ts(&#39;Please provide a Template Name.&#39;);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL360" data-line-number="360"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR360" data-line-number="360"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL361" data-line-number="361"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR361" data-line-number="361"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL362" data-line-number="362"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR362" data-line-number="362"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

      <tr class="js-expandable-line" data-position="92">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR368"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=369&amp;next_line_num_right=369&amp;prev_line_num_left=362&amp;prev_line_num_right=362&amp;right_hunk_size=7"
            data-left-range="363-368" data-right-range="363-368">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -369,7 +369,7 @@ static function formRule($params, $files, $self) {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL369" data-line-number="369"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR369" data-line-number="369"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $name = $files[&#39;textFile&#39;][&#39;name&#39;];</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL370" data-line-number="370"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR370" data-line-number="370"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL371" data-line-number="371"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR371" data-line-number="371"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       else {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL372" data-line-number="372"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-        $str = $params[&#39;<span class="x">text_message</span>&#39;];</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR372" data-line-number="372"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+        $str = $params[&#39;<span class="x">sms_text_message</span>&#39;];</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL373" data-line-number="373"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR373" data-line-number="373"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         $name = &#39;text message&#39;;</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL374" data-line-number="374"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR374" data-line-number="374"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL375" data-line-number="375"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR375" data-line-number="375"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

      <tr class="js-expandable-line" data-position="101">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR415"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;left_hunk_size=9&amp;next_line_num_left=416&amp;next_line_num_right=416&amp;prev_line_num_left=375&amp;prev_line_num_right=375&amp;right_hunk_size=9"
            data-left-range="376-415" data-right-range="376-415">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -416,9 +416,9 @@ static function formRule($params, $files, $self) {</td>
  </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL416" data-line-number="416"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR416" data-line-number="416"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL417" data-line-number="417"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR417" data-line-number="417"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL418" data-line-number="418"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR418" data-line-number="418"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     $templateName = CRM_Core_BAO_MessageTemplate::getMessageTemplates();</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL419" data-line-number="419"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    if (!empty($params[&#39;<span class="x">saveTemplate</span>&#39;]) &amp;&amp; in_array(CRM_Utils_Array::value(&#39;<span class="x">saveTemplateName</span>&#39;, $params), $templateName)</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR419" data-line-number="419"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    if (!empty($params[&#39;<span class="x">SMSsaveTemplate</span>&#39;]) &amp;&amp; in_array(CRM_Utils_Array::value(&#39;<span class="x">SMSsaveTemplateName</span>&#39;, $params), $templateName)</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL420" data-line-number="420"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR420" data-line-number="420"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     ) {</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL421" data-line-number="421"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      $errors[&#39;<span class="x">saveTemplate</span>&#39;] = ts(&#39;Duplicate Template Name.&#39;);</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR421" data-line-number="421"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      $errors[&#39;<span class="x">SMSsaveTemplate</span>&#39;] = ts(&#39;Duplicate Template Name.&#39;);</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL422" data-line-number="422"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR422" data-line-number="422"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL423" data-line-number="423"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR423" data-line-number="423"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     return empty($errors) ? TRUE : $errors;</td>
    </tr>

    <tr>
        <td id="diff-27ebef66ec532bab7b26fd26a04b099bL424" data-line-number="424"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-27ebef66ec532bab7b26fd26a04b099bR424" data-line-number="424"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-27ebef66ec532bab7b26fd26a04b099bR425"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/monishdeb/civicrm-core/blob_excerpt/a6981279cf43ea4dfe5b7e8b0eb628999eb578ff/CRM/SMS/Form/Upload.php?diff=unified&amp;prev_line_num_left=424&amp;prev_line_num_right=424"
          data-left-range="425-437" data-right-range="425-437">
       <span class="octicon octicon-unfold"></span>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>
      <a name="diff-087e894225915c744d913208e31f396c"></a>
      <div id="diff-4"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="meta" data-path="templates/CRM/Contact/Form/Task/SMSCommon.tpl">
          <div class="info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="13 additions &amp; 12 deletions">25 <span class="diffstat-bar"><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053;</span></span>

            <span class="js-selectable-text" title="templates/CRM/Contact/Form/Task/SMSCommon.tpl">
              templates/CRM/Contact/Form/Task/SMSCommon.tpl
            </span>
            
          </div>
          <div class="actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/monishdeb/civicrm-core/blob/ab545a27b19c63fb0428cc1c4e46d8d6b718785b/templates/CRM/Contact/Form/Task/SMSCommon.tpl" class="minibutton tooltipped tooltipped-n" rel="nofollow" aria-label="View the whole file at version ab545a2">View</a>


          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table  tab-size-8 ">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-087e894225915c744d913208e31f396cR26"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/408ad12a563e83874c643b8c503dced4508c460e/templates/CRM/Contact/Form/Task/SMSCommon.tpl?diff=unified&amp;left_hunk_size=31&amp;next_line_num_left=27&amp;next_line_num_right=27&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=31"
            data-left-range="1-26" data-right-range="1-26">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -27,31 +27,31 @@</td>
  </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL27" data-line-number="27"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR27" data-line-number="27"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL28" data-line-number="28"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR28" data-line-number="28"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> &lt;div class=&quot;crm-accordion-wrapper crm-plaint_text_sms-accordion &quot;&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL29" data-line-number="29"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR29" data-line-number="29"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> &lt;div class=&quot;crm-accordion-header&quot;&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL30" data-line-number="30"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  {<span class="x">ts}SMS Message{/ts</span>}</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR30" data-line-number="30"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  {<span class="x">$form.sms_text_message.label</span>}</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL31" data-line-number="31"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR31" data-line-number="31"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   &lt;/div&gt;&lt;!-- /.crm-accordion-header --&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL32" data-line-number="32"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR32" data-line-number="32"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">  &lt;div class=&quot;crm-accordion-body&quot;&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL33" data-line-number="33"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR33" data-line-number="33"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">  &lt;div id=&#39;char-count-message&#39;&gt;&lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL34" data-line-number="34"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR34" data-line-number="34"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    &lt;div class=&quot;helpIcon&quot; id=&quot;helptext&quot;&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL35" data-line-number="35"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-     &lt;input class=&quot;crm-token-selector big&quot; data-field=&quot;<span class="x">text_message</span>&quot; /&gt;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR35" data-line-number="35"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+     &lt;input class=&quot;crm-token-selector big&quot; data-field=&quot;<span class="x">sms_text_message</span>&quot; /&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL36" data-line-number="36"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR36" data-line-number="36"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">      {help id=&quot;id-token-text&quot; tplFile=$tplFile file=&quot;CRM/Contact/Form/Task/SMS.hlp&quot;}</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL37" data-line-number="37"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR37" data-line-number="37"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    &lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL38" data-line-number="38"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR38" data-line-number="38"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;div class=&#39;text&#39;&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL39" data-line-number="39"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  {$form.<span class="x">text_message</span>.html}&lt;br /&gt;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR39" data-line-number="39"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  {$form.<span class="x">sms_text_message</span>.html}&lt;br /&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL40" data-line-number="40"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR40" data-line-number="40"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL41" data-line-number="41"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR41" data-line-number="41"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   &lt;/div&gt;&lt;!-- /.crm-accordion-body --&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL42" data-line-number="42"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR42" data-line-number="42"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> &lt;/div&gt;&lt;!-- /.crm-accordion-wrapper --&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL43" data-line-number="43"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR43" data-line-number="43"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> &lt;div id=&quot;editMessageDetails&quot; class=&quot;section&quot;&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL44" data-line-number="44"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR44" data-line-number="44"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;div id=&quot;updateDetails&quot; class=&quot;section&quot; &gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL45" data-line-number="45"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  {$form.<span class="x">updateTemplate</span>.html}&amp;nbsp;{$form.<span class="x">updateTemplate</span>.label}</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR45" data-line-number="45"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  {$form.<span class="x">SMSupdateTemplate</span>.html}&amp;nbsp;{$form.<span class="x">SMSupdateTemplate</span>.label}</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL46" data-line-number="46"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR46" data-line-number="46"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL47" data-line-number="47"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR47" data-line-number="47"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;div class=&quot;section&quot;&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL48" data-line-number="48"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  {$form.<span class="x">saveTemplate</span>.html}&amp;nbsp;{$form.<span class="x">saveTemplate</span>.label}</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR48" data-line-number="48"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  {$form.<span class="x">SMSsaveTemplate</span>.html}&amp;nbsp;{$form.<span class="x">SMSsaveTemplate</span>.label}</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL49" data-line-number="49"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR49" data-line-number="49"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL50" data-line-number="50"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR50" data-line-number="50"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> &lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL51" data-line-number="51"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR51" data-line-number="51"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL52" data-line-number="52"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR52" data-line-number="52"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> &lt;div id=&quot;saveDetails&quot; class=&quot;section&quot;&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL53" data-line-number="53"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-   &lt;div class=&quot;label&quot;&gt;{$form.<span class="x">saveTemplateName</span>.label}&lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL54" data-line-number="54"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-   &lt;div class=&quot;content&quot;&gt;{$form.<span class="x">saveTemplateName</span>.html|crmAddClass:huge}&lt;/div&gt;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR53" data-line-number="53"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+   &lt;div class=&quot;label&quot;&gt;{$form.<span class="x">SMSsaveTemplateName</span>.label}&lt;/div&gt;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR54" data-line-number="54"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+   &lt;div class=&quot;content&quot;&gt;{$form.<span class="x">SMSsaveTemplateName</span>.html|crmAddClass:huge}&lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL55" data-line-number="55"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR55" data-line-number="55"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> &lt;/div&gt;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL56" data-line-number="56"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR56" data-line-number="56"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL57" data-line-number="57"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR57" data-line-number="57"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> {include file=&quot;CRM/Mailing/Form/InsertTokens.tpl&quot;}</td>
    </tr>

      <tr class="js-expandable-line" data-position="39">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-087e894225915c744d913208e31f396cR60"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/408ad12a563e83874c643b8c503dced4508c460e/templates/CRM/Contact/Form/Task/SMSCommon.tpl?diff=unified&amp;left_hunk_size=21&amp;next_line_num_left=61&amp;next_line_num_right=61&amp;prev_line_num_left=57&amp;prev_line_num_right=57&amp;right_hunk_size=22"
            data-left-range="58-60" data-right-range="58-60">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -61,21 +61,22 @@</td>
  </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL61" data-line-number="61"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR61" data-line-number="61"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> {/literal}{if $max_sms_length}{literal}</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL62" data-line-number="62"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR62" data-line-number="62"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> maxCharInfoDisplay();</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL63" data-line-number="63"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR63" data-line-number="63"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL64" data-line-number="64"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-cj(&#39;#<span class="x">text_message</span>&#39;).bind({</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR64" data-line-number="64"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+cj(&#39;#<span class="x">sms_text_message</span>&#39;).bind({</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL65" data-line-number="65"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR65" data-line-number="65"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   change: function() {</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL66" data-line-number="66"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR66" data-line-number="66"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    maxLengthMessage();</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL67" data-line-number="67"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR67" data-line-number="67"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   },</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL68" data-line-number="68"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR68" data-line-number="68"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   keyup:  function() {</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL69" data-line-number="69"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR69" data-line-number="69"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    maxCharInfoDisplay();</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR70" data-line-number="70"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+   showSaveUpdateChkBox(&#39;SMS&#39;);</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL70" data-line-number="70"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR71" data-line-number="71"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL71" data-line-number="71"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR72" data-line-number="72"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> });</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL72" data-line-number="72"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR73" data-line-number="73"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL73" data-line-number="73"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR74" data-line-number="74"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> function maxLengthMessage()</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL74" data-line-number="74"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR75" data-line-number="75"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> {</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL75" data-line-number="75"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-   var len = cj(&#39;#<span class="x">text_message</span>&#39;).val().length;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR76" data-line-number="76"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+   var len = cj(&#39;#<span class="x">sms_text_message</span>&#39;).val().length;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL76" data-line-number="76"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR77" data-line-number="77"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    var maxLength = {/literal}{$max_sms_length}{literal};</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL77" data-line-number="77"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR78" data-line-number="78"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    if (len &gt; maxLength) {</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL78" data-line-number="78"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      cj(&#39;#<span class="x">text_message</span>&#39;).crmError({/literal}&#39;{ts escape=&quot;js&quot;}SMS body exceeding limit of 160 characters{/ts}&#39;{literal});</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR79" data-line-number="79"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      cj(&#39;#<span class="x">sms_text_message</span>&#39;).crmError({/literal}&#39;{ts escape=&quot;js&quot;}SMS body exceeding limit of 160 characters{/ts}&#39;{literal});</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL79" data-line-number="79"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR80" data-line-number="80"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       return false;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL80" data-line-number="80"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR81" data-line-number="81"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    }</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL81" data-line-number="81"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR82" data-line-number="82"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> return true;</td>
    </tr>

      <tr class="js-expandable-line" data-position="65">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-087e894225915c744d913208e31f396cR83"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/408ad12a563e83874c643b8c503dced4508c460e/templates/CRM/Contact/Form/Task/SMSCommon.tpl?diff=unified&amp;left_hunk_size=11&amp;next_line_num_left=83&amp;next_line_num_right=84&amp;prev_line_num_left=81&amp;prev_line_num_right=82&amp;right_hunk_size=11"
            data-left-range="82-82" data-right-range="83-83">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -83,11 +84,11 @@ return true;</td>
  </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL83" data-line-number="83"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR84" data-line-number="84"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL84" data-line-number="84"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR85" data-line-number="85"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> function maxCharInfoDisplay(){</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL85" data-line-number="85"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR86" data-line-number="86"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    var maxLength = {/literal}{$max_sms_length}{literal};</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL86" data-line-number="86"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-   var enteredCharLength = cj(&#39;#<span class="x">text_message</span>&#39;).val().length;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR87" data-line-number="87"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+   var enteredCharLength = cj(&#39;#<span class="x">sms_text_message</span>&#39;).val().length;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL87" data-line-number="87"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR88" data-line-number="88"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    var count = enteredCharLength;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL88" data-line-number="88"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR89" data-line-number="89"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL89" data-line-number="89"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR90" data-line-number="90"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    if( count &lt; 0 ) {</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL90" data-line-number="90"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      cj(&#39;#<span class="x">text_message</span>&#39;).val(cj(&#39;#<span class="x">text_message</span>&#39;).val().substring(0, maxLength));</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-087e894225915c744d913208e31f396cR91" data-line-number="91"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      cj(&#39;#<span class="x">sms_text_message</span>&#39;).val(cj(&#39;#<span class="x">sms_text_message</span>&#39;).val().substring(0, maxLength));</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL91" data-line-number="91"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR92" data-line-number="92"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       count = 0;</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL92" data-line-number="92"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR93" data-line-number="93"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    }</td>
    </tr>

    <tr>
        <td id="diff-087e894225915c744d913208e31f396cL93" data-line-number="93"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-087e894225915c744d913208e31f396cR94" data-line-number="94"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">    cj(&#39;#char-count-message&#39;).text( &quot;You can insert up to &quot; + maxLength + &quot; characters. You have entered &quot; + count + &quot; characters.&quot; );</td>
    </tr>

  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-087e894225915c744d913208e31f396cR95"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/monishdeb/civicrm-core/blob_excerpt/408ad12a563e83874c643b8c503dced4508c460e/templates/CRM/Contact/Form/Task/SMSCommon.tpl?diff=unified&amp;prev_line_num_left=93&amp;prev_line_num_right=94"
          data-left-range="94-99" data-right-range="95-99">
       <span class="octicon octicon-unfold"></span>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>
      <a name="diff-5990409ef24052bbfef770f424294b5c"></a>
      <div id="diff-5"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="meta" data-path="templates/CRM/Mailing/Form/InsertTokens.tpl">
          <div class="info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="34 additions &amp; 17 deletions">51 <span class="diffstat-bar"><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053;</span></span>

            <span class="js-selectable-text" title="templates/CRM/Mailing/Form/InsertTokens.tpl">
              templates/CRM/Mailing/Form/InsertTokens.tpl
            </span>
            
          </div>
          <div class="actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/monishdeb/civicrm-core/blob/ab545a27b19c63fb0428cc1c4e46d8d6b718785b/templates/CRM/Mailing/Form/InsertTokens.tpl" class="minibutton tooltipped tooltipped-n" rel="nofollow" aria-label="View the whole file at version ab545a2">View</a>


          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table  tab-size-8 ">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-5990409ef24052bbfef770f424294b5cR31"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;left_hunk_size=10&amp;next_line_num_left=32&amp;next_line_num_right=32&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=12"
            data-left-range="1-31" data-right-range="1-31">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -32,10 +32,12 @@</td>
  </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL32" data-line-number="32"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR32" data-line-number="32"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> cj(&#39;form.{$form.formClass}&#39;).data(&#39;tokens&#39;, {$tokens|@json_encode});</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL33" data-line-number="33"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR33" data-line-number="33"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> var text_message = null;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL34" data-line-number="34"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR34" data-line-number="34"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> var html_message = null;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR35" data-line-number="35"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+var saveTemplate = &quot;saveTemplate&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR36" data-line-number="36"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+var saveTemplateName = &quot;saveTemplateName&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR37" data-line-number="37"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+var updateTemplate = &quot;updateTemplate&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL35" data-line-number="35"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR38" data-line-number="38"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> var isPDF        = false;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL36" data-line-number="36"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR39" data-line-number="39"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> var isMailing    = false;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL37" data-line-number="37"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR40" data-line-number="40"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL38" data-line-number="38"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL39" data-line-number="39"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR41" data-line-number="41"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> {if $form.formName eq &#39;MessageTemplates&#39;}</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL40" data-line-number="40"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR42" data-line-number="42"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   {literal}</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL41" data-line-number="41"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR43" data-line-number="43"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   text_message = &quot;msg_text&quot;;</td>
    </tr>

      <tr class="js-expandable-line" data-position="14">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-5990409ef24052bbfef770f424294b5cR47"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;left_hunk_size=6&amp;next_line_num_left=46&amp;next_line_num_right=48&amp;prev_line_num_left=41&amp;prev_line_num_right=43&amp;right_hunk_size=14"
            data-left-range="42-45" data-right-range="44-47">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -46,6 +48,14 @@ var isMailing    = false;</td>
  </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL46" data-line-number="46"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR48" data-line-number="48"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   text_message = &quot;mailing_format&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL47" data-line-number="47"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR49" data-line-number="49"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   isMailing = false;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL48" data-line-number="48"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR50" data-line-number="50"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   {/literal}</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR51" data-line-number="51"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  {elseif $form.formClass eq &#39;CRM_SMS_Form_Upload&#39;}</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR52" data-line-number="52"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  {literal}</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR53" data-line-number="53"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  text_message = &quot;sms_text_message&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR54" data-line-number="54"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  saveTemplate = &quot;SMSsaveTemplate&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR55" data-line-number="55"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  saveTemplateName = &quot;SMSsaveTemplateName&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR56" data-line-number="56"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  updateTemplate = &quot;SMSupdateTemplate&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR57" data-line-number="57"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  isMailing = true;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR58" data-line-number="58"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  {/literal}</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL49" data-line-number="49"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR59" data-line-number="59"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   {else}</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL50" data-line-number="50"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR60" data-line-number="60"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   {literal}</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL51" data-line-number="51"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR61" data-line-number="61"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   text_message = &quot;text_message&quot;;</td>
    </tr>

      <tr class="js-expandable-line" data-position="29">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-5990409ef24052bbfef770f424294b5cR71"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=62&amp;next_line_num_right=72&amp;prev_line_num_left=51&amp;prev_line_num_right=61&amp;right_hunk_size=7"
            data-left-range="52-61" data-right-range="62-71">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -62,7 +72,7 @@ var isMailing    = false;</td>
  </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL62" data-line-number="62"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR72" data-line-number="72"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL63" data-line-number="63"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR73" data-line-number="73"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> {if $templateSelected}</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL64" data-line-number="64"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR74" data-line-number="74"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   {literal}</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL65" data-line-number="65"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  if ( document.getElementsByName(<span class="x">&quot;</span>saveTemplate<span class="x">&quot;</span>)[0].checked ) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR75" data-line-number="75"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  if ( document.getElementsByName(saveTemplate)[0].checked ) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL66" data-line-number="66"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR76" data-line-number="76"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     document.getElementById(&#39;template&#39;).selectedIndex = {/literal}{$templateSelected}{literal};</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL67" data-line-number="67"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR77" data-line-number="77"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL68" data-line-number="68"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR78" data-line-number="78"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> {/literal}</td>
    </tr>

      <tr class="js-expandable-line" data-position="38">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-5990409ef24052bbfef770f424294b5cR79"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;left_hunk_size=9&amp;next_line_num_left=70&amp;next_line_num_right=80&amp;prev_line_num_left=68&amp;prev_line_num_right=78&amp;right_hunk_size=16"
            data-left-range="69-69" data-right-range="79-79">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -70,9 +80,16 @@ var isMailing    = false;</td>
  </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL70" data-line-number="70"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR80" data-line-number="80"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> {literal}</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL71" data-line-number="71"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR81" data-line-number="81"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL72" data-line-number="72"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR82" data-line-number="82"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> var editor = {/literal}&quot;{$editor}&quot;{literal};</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL73" data-line-number="73"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-function showSaveUpdateChkBox() {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR83" data-line-number="83"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+function showSaveUpdateChkBox(prefix = &#39;&#39;) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR84" data-line-number="84"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR85" data-line-number="85"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+{/literal}{if $form.formName eq &#39;ScheduleReminders&#39;}{literal}</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR86" data-line-number="86"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+var saveTemplate = prefix + &quot;saveTemplate&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR87" data-line-number="87"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+var saveTemplateName = prefix + &quot;saveTemplateName&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR88" data-line-number="88"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+var updateTemplate = prefix + &quot;updateTemplate&quot;;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR89" data-line-number="89"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+{/literal}{/if}{literal}</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR90" data-line-number="90"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL74" data-line-number="74"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR91" data-line-number="91"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   if (document.getElementById(&#39;template&#39;) == null) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL75" data-line-number="75"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    if (document.getElementsByName(<span class="x">&quot;</span>saveTemplate<span class="x">&quot;</span>)[0].checked){</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR92" data-line-number="92"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    if (document.getElementsByName(saveTemplate)[0].checked){</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL76" data-line-number="76"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR93" data-line-number="93"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       document.getElementById(&quot;saveDetails&quot;).style.display = &quot;block&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL77" data-line-number="77"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR94" data-line-number="94"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       document.getElementById(&quot;editMessageDetails&quot;).style.display = &quot;block&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL78" data-line-number="78"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR95" data-line-number="95"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

      <tr class="js-expandable-line" data-position="57">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-5990409ef24052bbfef770f424294b5cR99"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;left_hunk_size=17&amp;next_line_num_left=83&amp;next_line_num_right=100&amp;prev_line_num_left=78&amp;prev_line_num_right=95&amp;right_hunk_size=17"
            data-left-range="79-82" data-right-range="96-99">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -83,17 +100,17 @@ function showSaveUpdateChkBox() {</td>
  </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL83" data-line-number="83"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR100" data-line-number="100"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     return;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL84" data-line-number="84"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR101" data-line-number="101"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL85" data-line-number="85"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR102" data-line-number="102"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL86" data-line-number="86"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  if (document.getElementsByName(<span class="x">&quot;</span>saveTemplate<span class="x">&quot;</span>)[0].checked &amp;&amp;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL87" data-line-number="87"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    document.getElementsByName(<span class="x">&quot;</span>updateTemplate<span class="x">&quot;</span>)[0].checked == false) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR103" data-line-number="103"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  if (document.getElementsByName(saveTemplate)[0].checked &amp;&amp;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR104" data-line-number="104"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    document.getElementsByName(updateTemplate)[0].checked == false) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL88" data-line-number="88"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR105" data-line-number="105"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     document.getElementById(&quot;updateDetails&quot;).style.display = &quot;none&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL89" data-line-number="89"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR106" data-line-number="106"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL90" data-line-number="90"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  else if ( document.getElementsByName(<span class="x">&quot;</span>saveTemplate<span class="x">&quot;</span>)[0].checked &amp;&amp;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL91" data-line-number="91"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    document.getElementsByName(<span class="x">&quot;</span>updateTemplate<span class="x">&quot;</span>)[0].checked ){</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR107" data-line-number="107"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  else if ( document.getElementsByName(saveTemplate)[0].checked &amp;&amp;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR108" data-line-number="108"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    document.getElementsByName(updateTemplate)[0].checked ){</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL92" data-line-number="92"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR109" data-line-number="109"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     document.getElementById(&quot;editMessageDetails&quot;).style.display = &quot;block&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL93" data-line-number="93"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR110" data-line-number="110"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     document.getElementById(&quot;saveDetails&quot;).style.display = &quot;block&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL94" data-line-number="94"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR111" data-line-number="111"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL95" data-line-number="95"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  else if ( document.getElementsByName(<span class="x">&quot;</span>saveTemplate<span class="x">&quot;</span>)[0].checked == false &amp;&amp;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL96" data-line-number="96"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      document.getElementsByName(<span class="x">&quot;</span>updateTemplate<span class="x">&quot;</span>)[0].checked ) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR112" data-line-number="112"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  else if ( document.getElementsByName(saveTemplate)[0].checked == false &amp;&amp;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR113" data-line-number="113"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      document.getElementsByName(updateTemplate)[0].checked ) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL97" data-line-number="97"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR114" data-line-number="114"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     document.getElementById(&quot;saveDetails&quot;).style.display = &quot;none&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL98" data-line-number="98"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR115" data-line-number="115"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     document.getElementById(&quot;editMessageDetails&quot;).style.display = &quot;block&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL99" data-line-number="99"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR116" data-line-number="116"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

      <tr class="js-expandable-line" data-position="81">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-5990409ef24052bbfef770f424294b5cR119"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;left_hunk_size=9&amp;next_line_num_left=103&amp;next_line_num_right=120&amp;prev_line_num_left=99&amp;prev_line_num_right=116&amp;right_hunk_size=9"
            data-left-range="100-102" data-right-range="117-119">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -103,9 +120,9 @@ function showSaveUpdateChkBox() {</td>
  </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL103" data-line-number="103"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR120" data-line-number="120"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL104" data-line-number="104"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR121" data-line-number="121"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL105" data-line-number="105"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR122" data-line-number="122"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL106" data-line-number="106"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-function selectValue( val<span class="x"> </span>) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL107" data-line-number="107"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  document.getElementsByName(<span class="x">&quot;</span>saveTemplate<span class="x">&quot;</span>)[0].checked = false;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL108" data-line-number="108"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-  document.getElementsByName(<span class="x">&quot;</span>updateTemplate<span class="x">&quot;</span>)[0].checked = false;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR123" data-line-number="123"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+function selectValue( val) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR124" data-line-number="124"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  document.getElementsByName(saveTemplate)[0].checked = false;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR125" data-line-number="125"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+  document.getElementsByName(updateTemplate)[0].checked = false;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL109" data-line-number="109"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR126" data-line-number="126"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   showSaveUpdateChkBox();</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL110" data-line-number="110"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR127" data-line-number="127"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   if ( !val ) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL111" data-line-number="111"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR128" data-line-number="128"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     document.getElementById(&quot;subject&quot;).value =&quot;&quot;;</td>
    </tr>

      <tr class="js-expandable-line" data-position="94">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-5990409ef24052bbfef770f424294b5cR222"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=206&amp;next_line_num_right=223&amp;prev_line_num_left=111&amp;prev_line_num_right=128&amp;right_hunk_size=7"
            data-left-range="112-205" data-right-range="129-222">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -206,7 +223,7 @@ if ( isMailing ) {</td>
  </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL206" data-line-number="206"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR223" data-line-number="223"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   document.getElementById(&quot;editMessageDetails&quot;).style.display = &quot;block&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL207" data-line-number="207"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR224" data-line-number="224"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL208" data-line-number="208"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR225" data-line-number="225"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   function verify(select) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL209" data-line-number="209"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    if (document.getElementsByName(<span class="x">&quot;</span>saveTemplate<span class="x">&quot;</span>)[0].checked  == false) {</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR226" data-line-number="226"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    if (document.getElementsByName(saveTemplate)[0].checked  == false) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL210" data-line-number="210"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR227" data-line-number="227"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       document.getElementById(&quot;saveDetails&quot;).style.display = &quot;none&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL211" data-line-number="211"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR228" data-line-number="228"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL212" data-line-number="212"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR229" data-line-number="229"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     document.getElementById(&quot;editMessageDetails&quot;).style.display = &quot;block&quot;;</td>
    </tr>

      <tr class="js-expandable-line" data-position="103">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-5990409ef24052bbfef770f424294b5cR239"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;left_hunk_size=17&amp;next_line_num_left=223&amp;next_line_num_right=240&amp;prev_line_num_left=212&amp;prev_line_num_right=229&amp;right_hunk_size=17"
            data-left-range="213-222" data-right-range="230-239">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -223,17 +240,17 @@ if ( isMailing ) {</td>
  </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL223" data-line-number="223"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR240" data-line-number="240"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       document.getElementById(&quot;updateDetails&quot;).style.display = &#39;none&#39;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL224" data-line-number="224"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR241" data-line-number="241"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL225" data-line-number="225"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR242" data-line-number="242"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL226" data-line-number="226"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-    document.getElementById(<span class="x">&quot;</span>saveTemplateName<span class="x">&quot;</span>).disabled = false;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR243" data-line-number="243"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+    document.getElementById(saveTemplateName).disabled = false;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL227" data-line-number="227"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR244" data-line-number="244"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL228" data-line-number="228"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR245" data-line-number="245"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL229" data-line-number="229"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR246" data-line-number="246"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   function showSaveDetails(chkbox) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL230" data-line-number="230"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR247" data-line-number="247"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     if (chkbox.checked) {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL231" data-line-number="231"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR248" data-line-number="248"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       document.getElementById(&quot;saveDetails&quot;).style.display = &quot;block&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL232" data-line-number="232"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      document.getElementById(<span class="x">&quot;</span>saveTemplateName<span class="x">&quot;</span>).disabled = false;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR249" data-line-number="249"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      document.getElementById(saveTemplateName).disabled = false;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL233" data-line-number="233"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR250" data-line-number="250"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL234" data-line-number="234"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR251" data-line-number="251"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     else {</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL235" data-line-number="235"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR252" data-line-number="252"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       document.getElementById(&quot;saveDetails&quot;).style.display = &quot;none&quot;;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL236" data-line-number="236"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      document.getElementById(<span class="x">&quot;</span>saveTemplateName<span class="x">&quot;</span>).disabled = true;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR253" data-line-number="253"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      document.getElementById(saveTemplateName).disabled = true;</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL237" data-line-number="237"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR254" data-line-number="254"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL238" data-line-number="238"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR255" data-line-number="255"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   }</td>
    </tr>

    <tr>
        <td id="diff-5990409ef24052bbfef770f424294b5cL239" data-line-number="239"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-5990409ef24052bbfef770f424294b5cR256" data-line-number="256"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-5990409ef24052bbfef770f424294b5cR257"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/monishdeb/civicrm-core/blob_excerpt/1ef62bcfa826693b9966950b3e98df368f5f13c7/templates/CRM/Mailing/Form/InsertTokens.tpl?diff=unified&amp;prev_line_num_left=239&amp;prev_line_num_right=256"
          data-left-range="240-464" data-right-range="257-464">
       <span class="octicon octicon-unfold"></span>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>
      <a name="diff-e127641ba68cec61217aac5b3e62095c"></a>
      <div id="diff-6"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="meta" data-path="templates/CRM/SMS/Form/Upload.tpl">
          <div class="info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1 addition &amp; 2 deletions">3 <span class="diffstat-bar"><i class='plus'>&#xf053;</i><i class='minus'>&#xf053;</i><i class='minus'>&#xf053;</i>&#xf053;&#xf053;</span></span>

            <span class="js-selectable-text" title="templates/CRM/SMS/Form/Upload.tpl">
              templates/CRM/SMS/Form/Upload.tpl
            </span>
            
          </div>
          <div class="actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/monishdeb/civicrm-core/blob/ab545a27b19c63fb0428cc1c4e46d8d6b718785b/templates/CRM/SMS/Form/Upload.tpl" class="minibutton tooltipped tooltipped-n" rel="nofollow" aria-label="View the whole file at version ab545a2">View</a>


          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table  tab-size-8 ">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-e127641ba68cec61217aac5b3e62095cR37"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/afecd751aba8ecd94a49d1572e1fe1eefc9be048/templates/CRM/SMS/Form/Upload.tpl?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=38&amp;next_line_num_right=38&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=7"
            data-left-range="1-37" data-right-range="1-37">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -38,7 +38,7 @@</td>
  </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL38" data-line-number="38"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR38" data-line-number="38"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;/tr&gt;</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL39" data-line-number="39"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR39" data-line-number="39"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> </td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL40" data-line-number="40"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR40" data-line-number="40"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;tr class=&quot;crm-mailing-upload-form-block-template&quot;&gt;</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL41" data-line-number="41"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-      &lt;td class=&quot;label&quot;&gt;{$form.<span class="x">template</span>.label}&lt;/td&gt;</td>
    </tr>

    <tr>
        <td class="blob-num blob-num-addition empty-cell"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR41" data-line-number="41"
            class="blob-num blob-num-addition js-linkable-line-number"></td>

      <td class="blob-code blob-code-addition">+      &lt;td class=&quot;label&quot;&gt;{$form.<span class="x">SMStemplate</span>.label}&lt;/td&gt;</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL42" data-line-number="42"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR42" data-line-number="42"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">   &lt;td&gt;{$form.template.html}&lt;/td&gt;</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL43" data-line-number="43"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR43" data-line-number="43"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;/tr&gt;</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL44" data-line-number="44"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR44" data-line-number="44"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     &lt;tr class=&quot;crm-mailing-upload-form-block-upload_type&quot;&gt;&lt;td&gt;&lt;/td&gt;&lt;td colspan=&quot;2&quot;&gt;{$form.upload_type.label} {$form.upload_type.html} {help id=&quot;upload-compose&quot;}&lt;/td&gt;&lt;/tr&gt;</td>
    </tr>

      <tr class="js-expandable-line" data-position="9">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-e127641ba68cec61217aac5b3e62095cR76"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/monishdeb/civicrm-core/blob_excerpt/afecd751aba8ecd94a49d1572e1fe1eefc9be048/templates/CRM/SMS/Form/Upload.tpl?diff=unified&amp;left_hunk_size=7&amp;next_line_num_left=77&amp;next_line_num_right=77&amp;prev_line_num_left=44&amp;prev_line_num_right=44&amp;right_hunk_size=6"
            data-left-range="45-76" data-right-range="45-76">
        <span class="octicon octicon-unfold"></span>
      </a>
    </td>
    <td class="blob-code blob-code-hunk">@@ -77,7 +77,6 @@</td>
  </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL77" data-line-number="77"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR77" data-line-number="77"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">             cj(&#39;#compose_id&#39;).show();</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL78" data-line-number="78"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR78" data-line-number="78"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       cj(&#39;.crm-mailing-upload-form-block-template&#39;).show();</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL79" data-line-number="79"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR79" data-line-number="79"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">       cj(&#39;#upload_id&#39;).hide();</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL80" data-line-number="80"
            class="blob-num blob-num-deletion js-linkable-line-number"></td>

        <td class="blob-num blob-num-deletion empty-cell"></td>

      <td class="blob-code blob-code-deletion">-            verify( );</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL81" data-line-number="81"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR80" data-line-number="80"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">         }</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL82" data-line-number="82"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR81" data-line-number="81"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context">     }</td>
    </tr>

    <tr>
        <td id="diff-e127641ba68cec61217aac5b3e62095cL83" data-line-number="83"
            class="blob-num blob-num-context js-linkable-line-number"></td>

        <td id="diff-e127641ba68cec61217aac5b3e62095cR82" data-line-number="82"
            class="blob-num blob-num-context js-linkable-line-number"></td>

      <td class="blob-code blob-code-context"> &lt;/script&gt;</td>
    </tr>

  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-e127641ba68cec61217aac5b3e62095cR83"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/monishdeb/civicrm-core/blob_excerpt/afecd751aba8ecd94a49d1572e1fe1eefc9be048/templates/CRM/SMS/Form/Upload.tpl?diff=unified&amp;prev_line_num_left=83&amp;prev_line_num_right=82"
          data-left-range="84-83" data-right-range="83-83">
       <span class="octicon octicon-unfold"></span>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>
</div>

<button class="js-toggle-all-file-notes" data-hotkey="i" style="display:none">Toggle all file notes</button>


<div id="all_commit_comments" class="js-quote-selection-container">

  

  
<div id="comments" class="only-commit-comments comment-holder commit-comments">
</div>

<!-- Rendered timeline since 2014-09-03 02:36:11 -->
<div id="partial-timeline-marker"
      class="js-timeline-marker js-socket-channel js-updatable-content"
      data-channel="monishdeb/civicrm-core:commit:ab545a27b19c63fb0428cc1c4e46d8d6b718785b"
      data-url="/monishdeb/civicrm-core/commit/ab545a27b19c63fb0428cc1c4e46d8d6b718785b/show_partial?partial=timeline_marker&amp;since=1409736971"
      data-last-modified="Wed, 03 Sep 2014 09:36:11 GMT">
</div>


  

    Please <a href="/login?return_to=%2Fmonishdeb%2Fcivicrm-core%2Fcommit%2Fab545a27b19c63fb0428cc1c4e46d8d6b718785b" rel="nofollow">sign in</a> to comment.

</div>


        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer">
    <ul class="site-footer-links right">
      <li><a href="https://status.github.com/">Status</a></li>
      <li><a href="http://developer.github.com">API</a></li>
      <li><a href="http://training.github.com">Training</a></li>
      <li><a href="http://shop.github.com">Shop</a></li>
      <li><a href="/blog">Blog</a></li>
      <li><a href="/about">About</a></li>

    </ul>

    <a href="/" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
    </a>

    <ul class="site-footer-links">
      <li>&copy; 2014 <span title="0.12886s from github-fe120-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="/site/terms">Terms</a></li>
        <li><a href="/site/privacy">Privacy</a></li>
        <li><a href="/security">Security</a></li>
        <li><a href="/contact">Contact</a></li>
    </ul>
  </div><!-- /.site-footer -->
</div><!-- /.container -->


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-suggester-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents js-suggester-field" placeholder=""></textarea>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w"
      aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-x close js-ajax-error-dismiss" aria-label="Dismiss error"></a>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-0c1b00f7935ae85624f5fc5d40d52d60febf92b4.js" type="text/javascript"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-fbf037c05b1b216496f330cff338007e2f09a2a1.js" type="text/javascript"></script>
      
      
        <script async src="https://www.google-analytics.com/analytics.js"></script>
  </body>
</html>

